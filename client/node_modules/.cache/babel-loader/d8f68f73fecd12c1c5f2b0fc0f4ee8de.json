{"ast":null,"code":"import _regeneratorRuntime from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{BrowserRouter as Router,Route,Switch,withRouter}from\"react-router-dom\";import{EMPLOYEES_ROUTE,EMPLOYEE_ROUTE,ASSIGNMENTS_ROUTE,OVERVIEW_ROUTE,SETTINGS_ROUTE,EMPLOYEE_ASSIGNMENT_ROUTE,PERSONAL_ASSIGNMENTS_ROUTE}from'../../tools/routes';import Employees from'../employees/Employees';import Navbar from'../navbar/Navbar';import EmployeePage from'../employee-page/EmployeePage';import AssignmentTemplates from'../assignments/AssignmentTemplates';import{connect}from'react-redux';import*as actions from'../../actions/actions';import Overview from'../overview/Overview';import Settings from'../settings/Settings';import{manager_navigations}from'../navbar/navigations';import{manager_settings}from'../settings/settings_routes';import{apiGetRequest}from'../../tools/api';import EmployeeAssignmentPage from'../employee-page/employee-assignment-page/EmployeeAssignmentPage';import InvalidRoute from'../invalid-route/InvalidRoute';import ManagerAssignments from'../manager-assignments/ManagerAssignments';var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);function Dashboard(){var _this;_classCallCheck(this,Dashboard);_this=_possibleConstructorReturn(this,_getPrototypeOf(Dashboard).call(this));_this.state={};return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user,api,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user=this.props.user.user;console.log(user);api=\"account-settings?id=\".concat(user._id);_context.next=5;return apiGetRequest(api);case 5:res=_context.sent;if(res.ok){this.props.updateUserReducer('permissions',res.result.permissions);this.props.updateUserReducer('system_logo',res.result.avatar);this.props.setSystemLanguage(res.result.language);}case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$props$user=this.props.user,user=_this$props$user.user,system_logo=_this$props$user.system_logo;var language=this.props.global.language;return user&&user.is_manager&&language?React.createElement(\"div\",{className:\"dashboard\"},system_logo?React.createElement(\"div\",{className:\"dashboard__logo page__flex\"},React.createElement(\"img\",{src:system_logo})):'',React.createElement(Router,null,React.createElement(Navbar,{navigations:manager_navigations}),React.createElement(Switch,null,React.createElement(Route,{exact:true,path:EMPLOYEES_ROUTE,render:function render(){return React.createElement(Employees,null);}}),React.createElement(Route,{exact:true,path:OVERVIEW_ROUTE,render:function render(){return React.createElement(Overview,null);}}),React.createElement(Route,{path:EMPLOYEE_ROUTE,render:function render(){return React.createElement(EmployeePage,null);}}),React.createElement(Route,{path:EMPLOYEE_ASSIGNMENT_ROUTE,render:function render(){return React.createElement(EmployeeAssignmentPage,null);}}),React.createElement(Route,{exact:true,path:ASSIGNMENTS_ROUTE,render:function render(){return React.createElement(AssignmentTemplates,null);}}),React.createElement(Route,{path:PERSONAL_ASSIGNMENTS_ROUTE,render:function render(){return React.createElement(ManagerAssignments,null);}}),React.createElement(Route,{path:SETTINGS_ROUTE,render:function render(){return React.createElement(Settings,{settings_routes:manager_settings});}}),React.createElement(Route,{path:\"*\",exact:true,component:InvalidRoute})))):'';}}]);return Dashboard;}(Component);function mapStateToProps(_ref){var user=_ref.user,global=_ref.global;return{user:user,global:global};}export default withRouter(connect(mapStateToProps,actions)(Dashboard));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/dashboard/Dashboard.jsx"],"names":["React","Component","BrowserRouter","Router","Route","Switch","withRouter","EMPLOYEES_ROUTE","EMPLOYEE_ROUTE","ASSIGNMENTS_ROUTE","OVERVIEW_ROUTE","SETTINGS_ROUTE","EMPLOYEE_ASSIGNMENT_ROUTE","PERSONAL_ASSIGNMENTS_ROUTE","Employees","Navbar","EmployeePage","AssignmentTemplates","connect","actions","Overview","Settings","manager_navigations","manager_settings","apiGetRequest","EmployeeAssignmentPage","InvalidRoute","ManagerAssignments","Dashboard","state","user","props","console","log","api","_id","res","ok","updateUserReducer","result","permissions","avatar","setSystemLanguage","language","system_logo","global","is_manager","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { BrowserRouter as Router, Route, Switch, withRouter } from \"react-router-dom\"\nimport { EMPLOYEES_ROUTE, EMPLOYEE_ROUTE, ASSIGNMENTS_ROUTE, OVERVIEW_ROUTE, SETTINGS_ROUTE, EMPLOYEE_ASSIGNMENT_ROUTE, PERSONAL_ASSIGNMENTS_ROUTE } from '../../tools/routes'\nimport Employees from '../employees/Employees'\nimport Navbar from '../navbar/Navbar'\nimport EmployeePage from '../employee-page/EmployeePage'\nimport AssignmentTemplates from '../assignments/AssignmentTemplates'\nimport { connect } from 'react-redux'\nimport * as actions from '../../actions/actions'\nimport Overview from '../overview/Overview'\nimport Settings from '../settings/Settings'\nimport { manager_navigations } from '../navbar/navigations'\nimport { manager_settings } from '../settings/settings_routes'\nimport { apiGetRequest } from '../../tools/api'\nimport EmployeeAssignmentPage from '../employee-page/employee-assignment-page/EmployeeAssignmentPage'\nimport InvalidRoute from '../invalid-route/InvalidRoute'\nimport ManagerAssignments from '../manager-assignments/ManagerAssignments'\n\nclass Dashboard extends Component {\n  constructor(){\n    super()\n    this.state = {\n\n    }\n  }\n  async componentDidMount(){\n    const {user} = this.props.user\n    console.log(user)\n    const api = `account-settings?id=${user._id}`\n    const res  = await apiGetRequest(api)\n    if(res.ok){\n    \n        this.props.updateUserReducer('permissions', res.result.permissions)\n        this.props.updateUserReducer('system_logo', res.result.avatar)\n        this.props.setSystemLanguage(res.result.language)\n    }\n  }\n  \n    render () {\n      const {user, system_logo} = this.props.user\n        const {language} = this.props.global\n        return (\n          user && user.is_manager && language?   <div className='dashboard'>\n                  {\n                    system_logo ? \n                    <div className='dashboard__logo page__flex'>\n                      <img src={system_logo} />\n                    </div>\n                    : ''\n                  }\n                    <Router>\n                        <Navbar \n                        navigations  ={manager_navigations}\n                        />\n                        <Switch>\n                            <Route exact path={EMPLOYEES_ROUTE} render={() => <Employees />} />\n                            <Route exact path={OVERVIEW_ROUTE} render={() => <Overview />} />\n                            <Route  path={EMPLOYEE_ROUTE} render={() => <EmployeePage />} />\n                            <Route  path={EMPLOYEE_ASSIGNMENT_ROUTE} render={() => <EmployeeAssignmentPage />} />\n                            <Route exact path={ASSIGNMENTS_ROUTE} render={() => <AssignmentTemplates />} />\n                            <Route  path={PERSONAL_ASSIGNMENTS_ROUTE} render={() => <ManagerAssignments />} />\n                            <Route  path={SETTINGS_ROUTE} render={() => <Settings \n                            settings_routes = {manager_settings}\n                            />} />\n                             <Route path='*' exact={true} component={InvalidRoute} />\n                        </Switch>\n                    </Router>\n                </div> : ''\n        )\n    }\n}\n\nfunction mapStateToProps({ user, global }) {\n    return { user, global }\n  }\n  \n  export default withRouter(connect(mapStateToProps, actions)(Dashboard))\n  "]},"metadata":{},"sourceType":"module"}