{"ast":null,"code":"import _regeneratorRuntime from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{HorizontalBar}from'react-chartjs-2';import{apiGetRequest}from'../../../tools/api';var HorizontalChart=/*#__PURE__*/function(_Component){_inherits(HorizontalChart,_Component);function HorizontalChart(){var _this;_classCallCheck(this,HorizontalChart);_this=_possibleConstructorReturn(this,_getPrototypeOf(HorizontalChart).call(this));_this.getData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var type,api,res,employees;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:type=_this.state.type;api='employee/all';_context.next=4;return apiGetRequest(api);case 4:res=_context.sent;if(res.ok){employees=res.result;_this.setState({employees:employees});_this.generateData(employees,type);}case 6:case\"end\":return _context.stop();}}},_callee);}));_this.generateData=function(employees,type){var labels=employees.map(function(m){return m.name;});var data=employees.map(function(m){return m.assignments_count[type];});var graph_data={labels:labels,datasets:[{label:'',backgroundColor:'rgba(0, 145, 255, 0.5)',borderColor:'rgba(255,99,132,0)',borderWidth:1,hoverBackgroundColor:'rgba(255,99,132,0.4)',hoverBorderColor:'rgba(255,99,132,1)',data:data}]};_this.setState({graph_data:graph_data});};_this.state={type:'pending'};return _this;}_createClass(HorizontalChart,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"render\",value:function render(){var options={legend:{display:false},scales:{xAxes:[{ticks:{beginAtZero:false},gridLines:{offsetGridLines:false}}],yAxes:[{stacked:true,gridLines:{}}]}};var _this$state=this.state,type=_this$state.type,graph_data=_this$state.graph_data;return React.createElement(\"div\",{className:\"overview__section\"},React.createElement(HorizontalBar,{options:options,data:graph_data}));}}]);return HorizontalChart;}(Component);export default HorizontalChart;","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/overview/parts/HorizontalChart.jsx"],"names":["React","Component","HorizontalBar","apiGetRequest","HorizontalChart","getData","type","state","api","res","ok","employees","result","setState","generateData","labels","map","m","name","data","assignments_count","graph_data","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","options","legend","display","scales","xAxes","ticks","beginAtZero","gridLines","offsetGridLines","yAxes","stacked"],"mappings":"qpCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,aAAR,KAA4B,iBAA5B,CACA,OAASC,aAAT,KAA8B,oBAA9B,C,GAEMC,CAAAA,e,yEACJ,0BAAa,iDACX,mFADW,MASbC,OATa,sEASH,8JACDC,IADC,CACO,MAAKC,KADZ,CACDD,IADC,CAEFE,GAFE,CAEI,cAFJ,uBAGWL,CAAAA,aAAa,CAACK,GAAD,CAHxB,QAGFC,GAHE,eAIR,GAAIA,GAAG,CAACC,EAAR,CAAW,CACLC,SADK,CACOF,GAAG,CAACG,MADX,CAET,MAAKC,QAAL,CAAc,CACZF,SAAS,CAATA,SADY,CAAd,EAGA,MAAKG,YAAL,CAAkBH,SAAlB,CAA6BL,IAA7B,EACD,CAVO,sDATG,SAsBbQ,YAtBa,CAsBE,SAACH,SAAD,CAAYL,IAAZ,CAAqB,CAClC,GAAIS,CAAAA,MAAM,CAAGJ,SAAS,CAACK,GAAV,CAAc,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,IAAN,EAAf,CAAb,CACA,GAAIC,CAAAA,IAAI,CAAGR,SAAS,CAACK,GAAV,CAAc,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACG,iBAAF,CAAoBd,IAApB,CAAJ,EAAf,CAAX,CACA,GAAMe,CAAAA,UAAU,CAAG,CACjBN,MAAM,CAAEA,MADS,CAEjBO,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,EADT,CAEEC,eAAe,CAAE,wBAFnB,CAGEC,WAAW,CAAE,oBAHf,CAIEC,WAAW,CAAE,CAJf,CAKEC,oBAAoB,CAAE,sBALxB,CAMEC,gBAAgB,CAAE,oBANpB,CAOET,IAAI,CAACA,IAPP,CADQ,CAFO,CAAnB,CAcA,MAAKN,QAAL,CAAc,CACZQ,UAAU,CAAVA,UADY,CAAd,EAMD,CA7CY,CAEX,MAAKd,KAAL,CAAa,CACTD,IAAI,CAAC,SADI,CAAb,CAFW,aAKZ,C,yFACkB,CACjB,KAAKD,OAAL,GACD,C,uCAsCY,CACP,GAAMwB,CAAAA,OAAO,CAAG,CACdC,MAAM,CAAC,CACLC,OAAO,CAAC,KADH,CADO,CAIdC,MAAM,CAAE,CACJC,KAAK,CAAE,CAAC,CACJC,KAAK,CAAE,CACLC,WAAW,CAAE,KADR,CADH,CAIJC,SAAS,CAAE,CACTC,eAAe,CAAE,KADR,CAJP,CAAD,CADH,CASJC,KAAK,CAAE,CAAC,CACJC,OAAO,CAAE,IADL,CAEJH,SAAS,CAAE,EAFP,CAAD,CATH,CAJM,CAAhB,CADO,gBAsBoB,KAAK7B,KAtBzB,CAsBAD,IAtBA,aAsBAA,IAtBA,CAsBMe,UAtBN,aAsBMA,UAtBN,CAuBP,MACI,4BAAK,SAAS,CAAC,mBAAf,EACA,oBAAC,aAAD,EACA,OAAO,CAAIQ,OADX,CAEA,IAAI,CAAER,UAFN,EADA,CADJ,CAOH,C,6BA7EyBpB,S,EAgF9B,cAAeG,CAAAA,eAAf","sourcesContent":["import React, { Component } from 'react';\nimport {HorizontalBar} from 'react-chartjs-2';\nimport { apiGetRequest } from '../../../tools/api';\n\nclass HorizontalChart extends Component {\n  constructor(){\n    super()\n    this.state = {\n        type:'pending'\n    }\n  }\n  componentDidMount(){\n    this.getData()\n  }\n  getData = async () => {\n    const {type} = this.state\n    const api = 'employee/all'\n    const res  = await apiGetRequest(api)\n    if (res.ok){\n      let employees = res.result\n      this.setState({\n        employees\n      })\n      this.generateData(employees, type)\n    }\n  }\n\n  generateData = (employees, type) => {\n    let labels = employees.map(m => m.name)\n    let data = employees.map(m => m.assignments_count[type])\n    const graph_data = {\n      labels: labels,\n      datasets: [\n        {\n          label: '',\n          backgroundColor: 'rgba(0, 145, 255, 0.5)',\n          borderColor: 'rgba(255,99,132,0)',\n          borderWidth: 1,\n          hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n          hoverBorderColor: 'rgba(255,99,132,1)',\n          data:data\n        }\n      ]\n    };\n    this.setState({\n      graph_data\n    })\n\n\n    \n  }\n      render() {\n        const options = {\n          legend:{\n            display:false\n          },  \n          scales: {\n              xAxes: [{\n                  ticks: {\n                    beginAtZero: false\n                  },\n                  gridLines: {\n                    offsetGridLines: false\n                }\n              }],\n              yAxes: [{\n                  stacked: true,\n                  gridLines: {\n                   \n                }\n              }]\n          }\n      }\n        const {type, graph_data} = this.state\n        return (\n            <div className='overview__section'>\n            <HorizontalBar \n            options = {options}\n            data={graph_data} />\n          </div>\n        );\n    }\n}\n\nexport default HorizontalChart;"]},"metadata":{},"sourceType":"module"}