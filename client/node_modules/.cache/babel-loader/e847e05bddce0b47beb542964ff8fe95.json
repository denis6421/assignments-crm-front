{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Link,withRouter}from\"react-router-dom\";import SmallPopup from\"../../parts/SmallPopup\";import{connect}from\"react-redux\";import*as actions from\"../../actions/actions\";import{LOGIN_ROUTE,SETTINGS_ROUTE}from\"../../tools/routes\";import{removeCookie}from\"../../tools/cookie\";import{AUTH_TOKEN}from\"../../tools/keys\";import ExitToAppSharpIcon from\"@material-ui/icons/ExitToAppSharp\";import PersonIcon from\"@material-ui/icons/Person\";var isActive=function isActive(url,value){if(url.indexOf(value)>-1)return true;return false;};var Navbar=/*#__PURE__*/function(_Component){_inherits(Navbar,_Component);function Navbar(){var _this;_classCallCheck(this,Navbar);_this=_possibleConstructorReturn(this,_getPrototypeOf(Navbar).call(this));_this.logout=function(){removeCookie(AUTH_TOKEN);_this.props.history.push(LOGIN_ROUTE);window.location.reload();};_this.onLoad=function(){_this.setState({img_loaded:true});};_this.state={};return _this;}_createClass(Navbar,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextPros){var url=nextPros.location.pathname;this.setState({url:url});}},{key:\"componentDidMount\",value:function componentDidMount(){var url=window.location.pathname;this.setState({url:url,page_loaded:true});}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,url=_this$state.url,page_loaded=_this$state.page_loaded,img_loaded=_this$state.img_loaded;var user=this.props.user.user;var navigations=this.props.navigations;var system_text=this.props.global.system_text;var style={left:\"110%\",top:\"50%\",transform:\"translate(0, -50%)\"};return page_loaded?React.createElement(\"nav\",{className:\"navbar\"},React.createElement(\"section\",{className:\"navbar__list flex__column\"},React.createElement(\"figure\",{className:\"employee__img navbar__user__avatar\"},user&&user.avatar?React.createElement(React.Fragment,null,React.createElement(\"img\",{src:user.avatar,style:{opacity:img_loaded?1:0,transition:'0.2s all'},onLoad:function onLoad(){return _this2.onLoad();},alt:\"\"}),!img_loaded?React.createElement(\"aside\",{className:\"avatar__loader\"}):''):React.createElement(PersonIcon,null)),navigations&&navigations.length>0?navigations.map(function(m,i){return React.createElement(Link,{style:{marginTop:m.last?'auto':''},id:isActive(url,m.value)?\"navbar__list__link--active\":\"\",className:\"navbar__list__link flex__center\",key:i,to:m.param?m.url.replace(m.param,user._id):m.url},m.img,React.createElement(SmallPopup,{arrow_class:\"arrow-left\",style:style,text:system_text[m.text]}));}):'',React.createElement(\"button\",{style:{background:'transparent',border:'0px'},className:\"navbar__list__link navbar__logout__link\",onClick:function onClick(){return _this2.logout();}},React.createElement(SmallPopup,{arrow_class:\"arrow-left\",style:style,text:system_text.LOGOUT}),React.createElement(ExitToAppSharpIcon,null)))):'';}}]);return Navbar;}(Component);function mapStateToProps(_ref){var employees=_ref.employees,navbar=_ref.navbar,user=_ref.user,global=_ref.global;return{employees:employees,navbar:navbar,user:user,global:global};}export default withRouter(connect(mapStateToProps,actions)(Navbar));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/navbar/Navbar.jsx"],"names":["React","Component","Link","withRouter","SmallPopup","connect","actions","LOGIN_ROUTE","SETTINGS_ROUTE","removeCookie","AUTH_TOKEN","ExitToAppSharpIcon","PersonIcon","isActive","url","value","indexOf","Navbar","logout","props","history","push","window","location","reload","onLoad","setState","img_loaded","state","nextPros","pathname","page_loaded","user","navigations","system_text","global","style","left","top","transform","avatar","opacity","transition","length","map","m","i","marginTop","last","param","replace","_id","img","text","background","border","LOGOUT","mapStateToProps","employees","navbar"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport SmallPopup from \"../../parts/SmallPopup\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../actions/actions\";\nimport { LOGIN_ROUTE, SETTINGS_ROUTE } from \"../../tools/routes\";\nimport { removeCookie } from \"../../tools/cookie\";\nimport { AUTH_TOKEN } from \"../../tools/keys\";\nimport ExitToAppSharpIcon from \"@material-ui/icons/ExitToAppSharp\";\nimport PersonIcon from \"@material-ui/icons/Person\";\n\nconst isActive = (url, value) => {\n  if(url.indexOf(value) > -1) return true\n  return false\n}\n\nclass Navbar extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n  componentWillReceiveProps(nextPros) {\n    let url = nextPros.location.pathname\n    this.setState({\n      url\n    })\n  }\n  componentDidMount() {\n    let url = window.location.pathname\n   this.setState({\n     url,\n     page_loaded:true\n   })\n  }\n\n\n\n  logout = () => {\n    removeCookie(AUTH_TOKEN);\n    this.props.history.push(LOGIN_ROUTE);\n    window.location.reload();\n  };\nonLoad = () => {\n  this.setState({\n    img_loaded:true\n  })\n}\n  render() {\n    const { url , page_loaded, img_loaded} = this.state;\n    const { user } = this.props.user;\n    const {navigations} = this.props\n    const {system_text} = this.props.global\n    const style = {\n      left: \"110%\",\n      top: \"50%\",\n      transform: \"translate(0, -50%)\",\n    };\n    return (\n      page_loaded ?  <nav className=\"navbar\">\n        <section className=\"navbar__list flex__column\">\n          <figure className='employee__img navbar__user__avatar'>\n            {user && user.avatar ?\n            <>\n             <img src={user.avatar}\n             style ={{\n               opacity:img_loaded ? 1 : 0,\n               transition:'0.2s all'\n             }}\n             onLoad = {() => this.onLoad()}\n             alt=\"\" /> \n            {!img_loaded  ? <aside className='avatar__loader'></aside> : ''}\n             </>\n             : <PersonIcon />}\n          </figure>\n          {navigations && \n          navigations.length  > 0 ?\n           navigations.map((m, i) => {\n                return (\n                  <Link\n                  style ={{\n                    marginTop:m.last ? 'auto' : ''\n                  }}\n                    id={\n                      isActive(url, m.value) ? \"navbar__list__link--active\" : \"\"\n                    }\n                    className=\"navbar__list__link flex__center\"\n                    key={i}\n                    to={m.param ? m.url.replace(m.param, user._id) : m.url}\n                  >\n                    {m.img}\n                    <SmallPopup\n                      arrow_class=\"arrow-left\"\n                      style={style}\n                      text={system_text[m.text]}\n                    />\n                  </Link>\n                );\n              })\n              :''}\n         <button\n         style ={{\n           background:'transparent',\n           border:'0px',\n         }}\n              className=\"navbar__list__link navbar__logout__link\"\n              onClick={() => this.logout()}\n            >\n              <SmallPopup\n                arrow_class=\"arrow-left\"\n                style={style}\n                text={system_text.LOGOUT}\n              />\n              <ExitToAppSharpIcon />\n            </button>\n        </section>\n      </nav>  :''\n    );\n  }\n}\n\nfunction mapStateToProps({ employees, navbar, user, global }) {\n  return { employees, navbar, user, global };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(Navbar));\n"]},"metadata":{},"sourceType":"module"}