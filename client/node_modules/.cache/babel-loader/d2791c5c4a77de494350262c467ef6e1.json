{"ast":null,"code":"import _toConsumableArray from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{withRouter}from\"react-router\";import{apiGetRequest}from\"../../../tools/api\";import{Link}from\"react-router-dom\";import{EMPLOYEE_ROUTE,EMPLOYEE_DASHBOARD_PAGE_ROUTE}from\"../../../tools/routes\";import ArrowBackIcon from\"@material-ui/icons/ArrowBack\";import moment from\"moment\";import{Editor}from\"react-draft-wysiwyg\";import{convertFromRaw,EditorState}from\"draft-js\";import LinkIcon from\"@material-ui/icons/Link\";import ElementActions from\"../../../parts/ElementActions\";import{hasPermission}from\"../../../functions/permission_functions\";import{EDIT_ASSIGNMENTS,DELETE_ASSIGNMENTS}from\"../../settings/categories/permissions/Permissions_keys\";import{connect}from\"react-redux\";import*as actions from\"../../../actions/actions\";import\"moment/locale/he\";import NavigateBeforeIcon from'@material-ui/icons/NavigateBefore';import AssignmentLoader from\"../../assignments/parts/AssignmentLoader\";var EmployeeAssignmentPage=/*#__PURE__*/function(_Component){_inherits(EmployeeAssignmentPage,_Component);function EmployeeAssignmentPage(){var _this;_classCallCheck(this,EmployeeAssignmentPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(EmployeeAssignmentPage).call(this));_this.changeStatus=function(status){var assignment=_this.props.assignment;var updated=JSON.parse(JSON.stringify(assignment));updated.status=status;_this.props.createAndUpdateAssignment(updated);};_this.backToList=function(){var user=_this.props.user.user;var employee_id=_this.state.employee_id;if(user.is_manager){_this.props.history.push(EMPLOYEE_ROUTE.replace(\":id\",employee_id));}else{_this.props.history.push(EMPLOYEE_DASHBOARD_PAGE_ROUTE.replace(\":id\",employee_id));}};_this.state={};return _this;}_createClass(EmployeeAssignmentPage,[{key:\"componentWillMount\",value:function(){var _componentWillMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var id,employee_id,api,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=this.props.match.params.assignment_id;employee_id=this.props.match.params.id;setTimeout(function(){_this2.setState({page_loaded:true});},20);api=\"employee_assignment/get-by-id?_id=\".concat(id);_context.next=6;return apiGetRequest(api);case 6:res=_context.sent;if(res.ok){this.props.updateAssignmentInAssignmentPage(res.result);this.setState({employee_id:employee_id});}case 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentWillMount(){return _componentWillMount.apply(this,arguments);}return componentWillMount;}()},{key:\"render\",value:function render(){var _this3=this;var _this$props$global=this.props.global,system_text=_this$props$global.system_text,language=_this$props$global.language;var assignment=this.props.assignment;var _this$props$user=this.props.user,permissions=_this$props$user.permissions,user=_this$props$user.user;var page_loaded=this.state.page_loaded;var options=[{text:\"EDIT\",function:this.props.handleAssignment,param1:true,param2:false,param3:assignment,disabled:!hasPermission(user,permissions,EDIT_ASSIGNMENTS)},{text:\"COMMENTS\",function:this.props.handleAssignmentComments,param1:assignment},{text:\"MARK_AS_PENDING\",function:this.changeStatus,param1:\"pending\"},{text:\"MARK_AS_DONE\",function:this.changeStatus,param1:\"done\"},{text:\"MARK_AS_PROGRESS\",function:this.changeStatus,param1:\"in_progress\"},{text:\"REMOVE\",function:this.props.handleDelete,param1:assignment,disabled:!hasPermission(user,permissions,DELETE_ASSIGNMENTS)}];return React.createElement(\"div\",{style:{opacity:page_loaded?1:0},className:\"employee__assignment__page\"},React.createElement(\"header\",{className:\"sticky__top flex__start\"},React.createElement(\"aside\",{onClick:function onClick(){return _this3.backToList();},className:\"flex__start\"},React.createElement(NavigateBeforeIcon,null),React.createElement(\"h5\",null,system_text.ASSIGNMENTS)),React.createElement(ElementActions,{width:\"150px\",options:options})),assignment?React.createElement(\"section\",{className:\"employee__assignment__page__content\"},React.createElement(\"div\",{className:\"employee__assignment__page__content__section\"},React.createElement(\"aside\",{className:\"flex__start\"},React.createElement(\"p\",null,system_text.STATUS,\":\"),React.createElement(\"h5\",null,system_text[assignment.status])),React.createElement(\"h3\",null,system_text.TITLE),React.createElement(\"h4\",null,assignment.title)),React.createElement(\"aside\",{className:\"employee__assignment__page__content__section\"},React.createElement(\"h3\",null,system_text.CONTENT),assignment.text?React.createElement(Editor,{toolbarHidden:true,editorState:EditorState.createWithContent(convertFromRaw(JSON.parse(assignment.text))),readOnly:true}):\"\"),assignment&&assignment.files.length>0?React.createElement(\"div\",{className:\"employee__assignment__page__content__section employee__assignment__page__content__files\"},React.createElement(\"h3\",null,system_text.FILES),React.createElement(\"ul\",null,assignment.files.map(function(m){return React.createElement(\"li\",{className:\"flex__start\"},React.createElement(\"a\",{className:\"flex__start\",href:m.url,target:\"_blank\"},React.createElement(LinkIcon,null),React.createElement(\"h5\",null,m.name)));}))):\"\",assignment.deadline?React.createElement(\"div\",{className:\"employee__assignment__page__content__section\"},React.createElement(\"h3\",null,system_text.DEADLINE),React.createElement(\"span\",{className:\"flex__start\"},React.createElement(\"h4\",null,moment(assignment.deadline).locale(language.substring(0,2)).format(\"dddd, LL\")))):null,assignment.comments?React.createElement(\"div\",{className:\"employee__assignment__page__content__section\"},React.createElement(\"h3\",null,system_text.COMMENTS),React.createElement(Editor,{toolbarHidden:true,editorState:EditorState.createWithContent(convertFromRaw(JSON.parse(assignment.comments))),readOnly:true})):\" \",React.createElement(\"div\",{className:\"employee__assignment__page__content__section\"},React.createElement(\"h3\",null,system_text.LAST_UPDATED),React.createElement(\"h4\",null,moment(assignment.updated_at).format(\"DD/MM/YY HH:mm\")))):React.createElement(AssignmentLoader,{arr:_toConsumableArray(Array(3).keys())}));}}]);return EmployeeAssignmentPage;}(Component);function mapStateToProps(_ref){var user=_ref.user,global=_ref.global;return{user:user,global:global};}export default withRouter(connect(mapStateToProps,actions)(EmployeeAssignmentPage));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/employee-page/employee-assignment-page/EmployeeAssignmentPage.jsx"],"names":["React","Component","withRouter","apiGetRequest","Link","EMPLOYEE_ROUTE","EMPLOYEE_DASHBOARD_PAGE_ROUTE","ArrowBackIcon","moment","Editor","convertFromRaw","EditorState","LinkIcon","ElementActions","hasPermission","EDIT_ASSIGNMENTS","DELETE_ASSIGNMENTS","connect","actions","NavigateBeforeIcon","AssignmentLoader","EmployeeAssignmentPage","changeStatus","status","assignment","props","updated","JSON","parse","stringify","createAndUpdateAssignment","backToList","user","employee_id","state","is_manager","history","push","replace","id","match","params","assignment_id","setTimeout","setState","page_loaded","api","res","ok","updateAssignmentInAssignmentPage","result","global","system_text","language","permissions","options","text","function","handleAssignment","param1","param2","param3","disabled","handleAssignmentComments","handleDelete","opacity","ASSIGNMENTS","STATUS","TITLE","title","CONTENT","createWithContent","files","length","FILES","map","m","url","name","deadline","DEADLINE","locale","substring","format","comments","COMMENTS","LAST_UPDATED","updated_at","Array","keys","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport { apiGetRequest } from \"../../../tools/api\";\nimport { Link } from \"react-router-dom\";\nimport {\n  EMPLOYEE_ROUTE,\n  EMPLOYEE_DASHBOARD_PAGE_ROUTE,\n} from \"../../../tools/routes\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport moment from \"moment\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { convertFromRaw, EditorState } from \"draft-js\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport ElementActions from \"../../../parts/ElementActions\";\nimport { hasPermission } from \"../../../functions/permission_functions\";\nimport {\n  EDIT_ASSIGNMENTS,\n  DELETE_ASSIGNMENTS,\n} from \"../../settings/categories/permissions/Permissions_keys\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../../actions/actions\";\nimport \"moment/locale/he\";\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport AssignmentLoader from \"../../assignments/parts/AssignmentLoader\";\n\n\nclass EmployeeAssignmentPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n    };\n  }\n\n  async componentWillMount() {\n    const id = this.props.match.params.assignment_id;\n    const employee_id = this.props.match.params.id;\n\n   setTimeout(() => {\n      this.setState({\n        page_loaded:true\n      })\n   }, 20);\n    const api = `employee_assignment/get-by-id?_id=${id}`;\n    const res = await apiGetRequest(api);\n    if (res.ok) {\n      this.props.updateAssignmentInAssignmentPage(res.result);\n      this.setState({\n        employee_id,\n      });\n    }\n  }\n\n  changeStatus = (status) => {\n    const { assignment } = this.props;\n    let updated = JSON.parse(JSON.stringify(assignment));\n    updated.status = status;\n    this.props.createAndUpdateAssignment(updated);\n  };\n\n  backToList = () => {\n    const { user } = this.props.user;\n    const { employee_id } = this.state;\n    if (user.is_manager) {\n      this.props.history.push(EMPLOYEE_ROUTE.replace(\":id\", employee_id));\n    } else {\n      this.props.history.push(\n        EMPLOYEE_DASHBOARD_PAGE_ROUTE.replace(\":id\", employee_id)\n      );\n    }\n  };\n  render() {\n    const { system_text, language } = this.props.global;\n    const { assignment } = this.props;\n    const { permissions, user } = this.props.user;\n    const {page_loaded} = this.state\n    let options = [\n      {\n        text: \"EDIT\",\n        function: this.props.handleAssignment,\n        param1: true,\n        param2: false,\n        param3: assignment,\n        disabled: !hasPermission(user, permissions, EDIT_ASSIGNMENTS),\n      },\n      {\n        text: \"COMMENTS\",\n        function: this.props.handleAssignmentComments,\n        param1: assignment,\n      },\n      {\n        text: \"MARK_AS_PENDING\",\n        function: this.changeStatus,\n        param1: \"pending\",\n      },\n      {\n        text: \"MARK_AS_DONE\",\n        function: this.changeStatus,\n        param1: \"done\",\n      },\n      {\n        text: \"MARK_AS_PROGRESS\",\n        function: this.changeStatus,\n        param1: \"in_progress\",\n      },\n      {\n        text: \"REMOVE\",\n        function: this.props.handleDelete,\n        param1: assignment,\n        disabled: !hasPermission(user, permissions, DELETE_ASSIGNMENTS),\n      },\n    ];\n    return  (\n      <div \n      style ={{\n        opacity:page_loaded ? 1  :0\n      }}\n      className=\"employee__assignment__page\">\n       \n        <header className='sticky__top flex__start'>\n          <aside onClick={() => this.backToList()} className=\"flex__start\">\n            <NavigateBeforeIcon />\n            <h5>{system_text.ASSIGNMENTS}</h5>\n          </aside>\n          <ElementActions width=\"150px\" options={options} />\n        </header>\n\n       {assignment ? <section className=\"employee__assignment__page__content\">\n          <div className=\"employee__assignment__page__content__section\">\n            <aside className=\"flex__start\">\n              <p>{system_text.STATUS}:</p>\n              <h5>{system_text[assignment.status]}</h5>\n            </aside>\n            <h3>{system_text.TITLE}</h3>\n            <h4>{assignment.title}</h4>\n          </div>\n          <aside className=\"employee__assignment__page__content__section\">\n            <h3>{system_text.CONTENT}</h3>\n            {assignment.text ? (\n              <Editor\n                toolbarHidden={true}\n                editorState={EditorState.createWithContent(\n                  convertFromRaw(JSON.parse(assignment.text))\n                )}\n                readOnly={true}\n              />\n            ) : (\n              \"\"\n            )}\n          </aside>\n          {assignment && assignment.files.length > 0 ? (\n            <div className=\"employee__assignment__page__content__section employee__assignment__page__content__files\">\n              <h3>{system_text.FILES}</h3>\n              <ul>\n                {assignment.files.map((m) => {\n                  return (\n                    <li className=\"flex__start\">\n                      <a className=\"flex__start\" href={m.url} target=\"_blank\">\n                        <LinkIcon />\n                        <h5>{m.name}</h5>\n                      </a>\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          ) : (\n            \"\"\n          )}\n          {assignment.deadline ? (\n            <div className=\"employee__assignment__page__content__section\">\n              <h3>{system_text.DEADLINE}</h3>\n              <span className=\"flex__start\">\n                <h4>\n                  {moment(assignment.deadline)\n                    .locale(language.substring(0, 2))\n                    .format(\"dddd, LL\")}\n                </h4>\n              </span>\n            </div>\n          ) : null}\n          {assignment.comments ? (\n            <div className=\"employee__assignment__page__content__section\">\n              <h3>{system_text.COMMENTS}</h3>\n\n              <Editor\n                toolbarHidden={true}\n                editorState={EditorState.createWithContent(\n                  convertFromRaw(JSON.parse(assignment.comments))\n                )}\n                readOnly={true}\n              />\n            </div>\n          ) : (\n            \" \"\n          )}\n          <div className=\"employee__assignment__page__content__section\">\n            <h3>{system_text.LAST_UPDATED}</h3>\n            <h4>{moment(assignment.updated_at).format(\"DD/MM/YY HH:mm\")}</h4>\n          </div>\n        </section> : <AssignmentLoader arr={[...Array(3).keys()]} />}\n      </div>\n    ) \n  }\n}\n\nfunction mapStateToProps({ user, global }) {\n  return { user, global };\n}\n\nexport default withRouter(\n  connect(mapStateToProps, actions)(EmployeeAssignmentPage)\n);\n"]},"metadata":{},"sourceType":"module"}