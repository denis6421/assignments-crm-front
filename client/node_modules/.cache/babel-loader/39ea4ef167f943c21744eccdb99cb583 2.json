{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import CloseOutlinedIcon from\"@material-ui/icons/CloseOutlined\";import AddCircleOutlineIcon from\"@material-ui/icons/AddCircleOutline\";import NoData from\"../../../parts/NoData\";var EmployeeAssignmentsPopup=/*#__PURE__*/function(_Component){_inherits(EmployeeAssignmentsPopup,_Component);function EmployeeAssignmentsPopup(){var _this;_classCallCheck(this,EmployeeAssignmentsPopup);_this=_possibleConstructorReturn(this,_getPrototypeOf(EmployeeAssignmentsPopup).call(this));_this.close=function(){_this.setState({page_loaded:false});setTimeout(function(){_this.props.closePopup();},300);};_this.handleSelect=function(m){_this.props.setAssignment(m);_this.close();};_this.setWrapperRef=function(node){_this.wrapperRef=node;};_this.handleClickOutside=function(event){if(_this.wrapperRef&&!_this.wrapperRef.contains(event.target)){_this.close();}};_this.state={};return _this;}_createClass(EmployeeAssignmentsPopup,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;setTimeout(function(){_this2.setState({page_loaded:true});},20);document.addEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,assignments_list=_this$props.assignments_list,system_text=_this$props.system_text;var page_loaded=this.state.page_loaded;return React.createElement(\"div\",{style:{opacity:page_loaded?1:0},className:\"employee__page__assignments__suggestions\"},React.createElement(\"section\",{className:\"overlay\"}),React.createElement(\"div\",{ref:this.setWrapperRef,className:\"employee__page__assignments__suggestions__content\"},React.createElement(\"button\",{type:\"button\",className:\"employee__page__assignments__suggestions__close\",onClick:function onClick(){return _this3.close();}},React.createElement(CloseOutlinedIcon,null)),React.createElement(\"h3\",null,system_text.TEMPLATES),React.createElement(\"ul\",null,assignments_list&&assignments_list.length>0?assignments_list.map(function(m){return React.createElement(\"li\",{onClick:function onClick(){return _this3.handleSelect(m);},className:\"flex__start\",key:m._id},React.createElement(AddCircleOutlineIcon,null),m.title);}):React.createElement(NoData,{text:system_text.NO_TEMPLATES}))));}}]);return EmployeeAssignmentsPopup;}(Component);export default EmployeeAssignmentsPopup;","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/employee-page/employee-assignments/EmployeeAssignmentsPopup.jsx"],"names":["React","Component","CloseOutlinedIcon","AddCircleOutlineIcon","NoData","EmployeeAssignmentsPopup","close","setState","page_loaded","setTimeout","props","closePopup","handleSelect","m","setAssignment","setWrapperRef","node","wrapperRef","handleClickOutside","event","contains","target","state","document","addEventListener","removeEventListener","assignments_list","system_text","opacity","TEMPLATES","length","map","_id","title","NO_TEMPLATES"],"mappings":"40BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kCAA9B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,qCAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,C,GAEMC,CAAAA,wB,kFACJ,mCAAc,0DACZ,4FADY,MAcdC,KAdc,CAcN,UAAM,CACZ,MAAKC,QAAL,CAAc,CACZC,WAAW,CAAE,KADD,CAAd,EAGAC,UAAU,CAAC,UAAM,CACf,MAAKC,KAAL,CAAWC,UAAX,GACD,CAFS,CAEP,GAFO,CAAV,CAGD,CArBa,OAsBdC,YAtBc,CAsBC,SAACC,CAAD,CAAO,CACpB,MAAKH,KAAL,CAAWI,aAAX,CAAyBD,CAAzB,EACA,MAAKP,KAAL,GACD,CAzBa,OA0BdS,aA1Bc,CA0BE,SAACC,IAAD,CAAU,CACxB,MAAKC,UAAL,CAAkBD,IAAlB,CACD,CA5Ba,OAmCdE,kBAnCc,CAmCO,SAACC,KAAD,CAAW,CAC9B,GAAI,MAAKF,UAAL,EAAmB,CAAC,MAAKA,UAAL,CAAgBG,QAAhB,CAAyBD,KAAK,CAACE,MAA/B,CAAxB,CAAgE,CAC9D,MAAKf,KAAL,GACD,CACF,CAvCa,CAEZ,MAAKgB,KAAL,CAAa,EAAb,CAFY,aAGb,C,kGAEmB,iBAClBb,UAAU,CAAC,UAAM,CACf,MAAI,CAACF,QAAL,CAAc,CACZC,WAAW,CAAE,IADD,CAAd,EAGD,CAJS,CAIP,EAJO,CAAV,CAKAe,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuC,KAAKN,kBAA5C,EACD,C,mEAmBsB,CACrBK,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,CAA0C,KAAKP,kBAA/C,EACD,C,uCAQQ,iCACmC,KAAKR,KADxC,CACCgB,gBADD,aACCA,gBADD,CACmBC,WADnB,aACmBA,WADnB,IAECnB,CAAAA,WAFD,CAEiB,KAAKc,KAFtB,CAECd,WAFD,CAGP,MACE,4BACE,KAAK,CAAE,CACLoB,OAAO,CAAEpB,WAAW,CAAG,CAAH,CAAO,CADtB,CADT,CAIE,SAAS,CAAC,0CAJZ,EAME,+BAAS,SAAS,CAAC,SAAnB,EANF,CAOE,2BACE,GAAG,CAAE,KAAKO,aADZ,CAEA,SAAS,CAAC,mDAFV,EAGE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,iDAFZ,CAGE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACT,KAAL,EAAN,EAHX,EAKE,oBAAC,iBAAD,MALF,CAHF,CAUE,8BAAKqB,WAAW,CAACE,SAAjB,CAVF,CAWE,8BACGH,gBAAgB,EAAIA,gBAAgB,CAACI,MAAjB,CAA0B,CAA9C,CACGJ,gBAAgB,CAACK,GAAjB,CAAqB,SAAClB,CAAD,CAAO,CAC1B,MACE,2BACE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAN,EADX,CAEE,SAAS,CAAC,aAFZ,CAGE,GAAG,CAAEA,CAAC,CAACmB,GAHT,EAKE,oBAAC,oBAAD,MALF,CAMGnB,CAAC,CAACoB,KANL,CADF,CAUD,CAXD,CADH,CAaG,oBAAC,MAAD,EAAQ,IAAI,CAAIN,WAAW,CAACO,YAA5B,EAdN,CAXF,CAPF,CADF,CAsCD,C,sCAnFoCjC,S,EAsFvC,cAAeI,CAAAA,wBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport CloseOutlinedIcon from \"@material-ui/icons/CloseOutlined\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport NoData from \"../../../parts/NoData\";\n\nclass EmployeeAssignmentsPopup extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        page_loaded: true,\n      });\n    }, 20);\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  close = () => {\n    this.setState({\n      page_loaded: false,\n    });\n    setTimeout(() => {\n      this.props.closePopup();\n    }, 300);\n  };\n  handleSelect = (m) => {\n    this.props.setAssignment(m);\n    this.close();\n  };\n  setWrapperRef = (node) => {\n    this.wrapperRef = node;\n  };\n\n \n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  handleClickOutside = (event) => {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.close()\n    }\n  };\n\n  render() {\n    const { assignments_list, system_text } = this.props;\n    const { page_loaded } = this.state;\n    return (\n      <div\n        style={{\n          opacity: page_loaded ? 1 : 0,\n        }}\n        className=\"employee__page__assignments__suggestions\"\n      >\n        <section className=\"overlay\"></section>\n        <div \n          ref={this.setWrapperRef}\n        className=\"employee__page__assignments__suggestions__content\">\n          <button\n            type=\"button\"\n            className=\"employee__page__assignments__suggestions__close\"\n            onClick={() => this.close()}\n          >\n            <CloseOutlinedIcon />\n          </button>\n          <h3>{system_text.TEMPLATES}</h3>\n          <ul>\n            {assignments_list && assignments_list.length > 0\n              ? assignments_list.map((m) => {\n                  return (\n                    <li\n                      onClick={() => this.handleSelect(m)}\n                      className=\"flex__start\"\n                      key={m._id}\n                    >\n                      <AddCircleOutlineIcon />\n                      {m.title}\n                    </li>\n                  );\n                })\n              : <NoData text = {system_text.NO_TEMPLATES}/>}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EmployeeAssignmentsPopup;\n"]},"metadata":{},"sourceType":"module"}