{"ast":null,"code":"import _regeneratorRuntime from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import assignments_inputs_data from\"./assignments_inputs_data\";import TextInput from\"../../../parts/inputs/TextInput\";import{connect}from\"react-redux\";import*as actions from\"../../../actions/actions\";import SingleDatepicker from\"../../../parts/SingleDatepicker\";import SmallLoader from\"../../../parts/SmallLoader\";import DraftInput from\"../../../parts/inputs/DraftInput\";import CloseIcon from\"@material-ui/icons/Close\";import FilesUpload from\"../../../parts/FilesUpload\";import SubmitButtons from\"../../../parts/SubmitButtons\";import EmployeeAssignmentsPopup from\"../../employee-page/employee-assignments/EmployeeAssignmentsPopup\";var HandleAssignment=/*#__PURE__*/function(_Component){_inherits(HandleAssignment,_Component);function HandleAssignment(){var _this;_classCallCheck(this,HandleAssignment);_this=_possibleConstructorReturn(this,_getPrototypeOf(HandleAssignment).call(this));_this.updateStateAssignment=function(name,value){var assignment=_this.state.assignment;var new_assignment=JSON.parse(JSON.stringify(assignment));new_assignment[name]=value;_this.setState({assignment:new_assignment});};_this.submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _this$state,is_edit,assignment;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=_this.state,is_edit=_this$state.is_edit,assignment=_this$state.assignment;e.preventDefault();_this.setState({validate:true});setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({validate:false});errors=document.querySelectorAll(\".text__input__error\");if(!(errors.length===0)){_context.next=13;break;}_this.setState({loading:true});if(!is_edit){_context.next=10;break;}_context.next=7;return _this.props.edit(assignment);case 7:_this.close();_context.next=13;break;case 10:_context.next=12;return _this.props.create(assignment);case 12:_this.close();case 13:case\"end\":return _context.stop();}}},_callee);})),50);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}();_this.close=function(){_this.setState({loaded:false});setTimeout(function(){_this.props.toggleHandleAssignment();},400);};_this.setAssignment=function(assignment){_this.setState({assignment_updated:true,assignment:{title:assignment.title,text:assignment.text,files:assignment.files}});setTimeout(function(){_this.setState({assignment_updated:false});},50);};_this.scrolltop=function(){_this.componentRef.current.scrollTop=0;};_this.state={assignment:{}};_this.componentRef=React.createRef();return _this;}_createClass(HandleAssignment,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var _this$props=this.props,assignment_to_edit=_this$props.assignment_to_edit,new_assignment=_this$props.new_assignment;this.setState({is_edit:assignment_to_edit,assignment:assignment_to_edit?assignment_to_edit:{}});if(new_assignment){this.setState({assignment:new_assignment});}setTimeout(function(){_this2.setState({loaded:true});},20);}},{key:\"render\",value:function render(){var _this3=this;var _this$state2=this.state,loaded=_this$state2.loaded,is_edit=_this$state2.is_edit,validate=_this$state2.validate,assignment=_this$state2.assignment,show_options=_this$state2.show_options,assignment_updated=_this$state2.assignment_updated,loading=_this$state2.loading;var _this$props2=this.props,from_employee_page=_this$props2.from_employee_page,assignments_list=_this$props2.assignments_list;var system_text=this.props.global.system_text;return React.createElement(\"div\",{id:loaded?\"assignments__handle--active\":\"\",className:\"assignments__handle\"},React.createElement(\"section\",{className:\"overlay\"}),React.createElement(\"form\",{ref:this.componentRef,onSubmit:function onSubmit(e){return _this3.submitForm(e);},className:\"assignments__handle__form\"},from_employee_page&&show_options?React.createElement(EmployeeAssignmentsPopup,{closePopup:function closePopup(){return _this3.setState({show_options:false});},assignments_list:assignments_list,setAssignment:this.setAssignment,system_text:system_text}):'',React.createElement(\"button\",{style:{opacity:loaded?1:0},type:\"button\",onClick:function onClick(){return _this3.close();},className:\"assignments__handle__form__close flex__center\"},React.createElement(CloseIcon,null)),React.createElement(\"h2\",{className:\"section__h2\"},is_edit?system_text.EDIT:system_text.CREATE),from_employee_page&&!is_edit?React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return _this3.setState({show_options:true});},className:\"save__btn suggestions__btn\"},system_text.TEMPLATES):'',from_employee_page?React.createElement(SingleDatepicker,{scrolltop:this.scrolltop,sendDate:this.updateStateAssignment,property_name:\"deadline\",date:assignment?assignment.deadline:\"\",title:system_text.DEADLINE,empty_error:\"Required field\",validate:validate}):'',assignment&&loaded&&assignments_inputs_data.map(function(input){switch(input.type){case\"draft\":return React.createElement(DraftInput,{handleUpdate:_this3.updateStateAssignment,input:input,validate:validate,property_name:input.property_name,value:assignment?assignment.text:'',label:input.label,system_text:system_text,updated:assignment_updated});default:return React.createElement(TextInput,{handleUpdate:_this3.updateStateAssignment,input:input,validate:validate,property_name:input.property_name,value:assignment?assignment[input.property_name]:\"\",system_text:system_text});}}),from_employee_page?React.createElement(\"div\",{className:\"assignments__handle__employee__page\"},is_edit?React.createElement(\"section\",{id:\"assignments__handle__employee__status\"},React.createElement(\"h3\",null,system_text.STATUS),React.createElement(\"aside\",null,system_text.ASSIGNMENT_STATUS_ARR.map(function(m){return React.createElement(\"button\",{type:\"button\",className:assignment.status===m.value?\"save__btn\":\"cancel__btn\",onClick:function onClick(){return _this3.updateStateAssignment(\"status\",m.value);}},m.text);}))):\"\"):\"\",React.createElement(FilesUpload,{update:this.updateStateAssignment,property_name:\"files\",files:assignment?assignment.files:[]}),React.createElement(SubmitButtons,{close:this.close,submit_text:system_text.SAVE,close_text:system_text.CANCEL,loading:loading})));}}]);return HandleAssignment;}(Component);function mapStateToProps(_ref3){var assignments=_ref3.assignments,global=_ref3.global;return{assignments:assignments,global:global};}export default connect(mapStateToProps,actions)(HandleAssignment);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/assignments/parts/HandleAssignment.jsx"],"names":["React","Component","assignments_inputs_data","TextInput","connect","actions","SingleDatepicker","SmallLoader","DraftInput","CloseIcon","FilesUpload","SubmitButtons","EmployeeAssignmentsPopup","HandleAssignment","updateStateAssignment","name","value","assignment","state","new_assignment","JSON","parse","stringify","setState","submitForm","e","is_edit","preventDefault","validate","setTimeout","errors","document","querySelectorAll","length","loading","props","edit","close","create","loaded","toggleHandleAssignment","setAssignment","assignment_updated","title","text","files","scrolltop","componentRef","current","scrollTop","createRef","assignment_to_edit","show_options","from_employee_page","assignments_list","system_text","global","opacity","EDIT","CREATE","TEMPLATES","deadline","DEADLINE","map","input","type","property_name","label","STATUS","ASSIGNMENT_STATUS_ARR","m","status","SAVE","CANCEL","mapStateToProps","assignments"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport assignments_inputs_data from \"./assignments_inputs_data\";\nimport TextInput from \"../../../parts/inputs/TextInput\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../../actions/actions\";\nimport SingleDatepicker from \"../../../parts/SingleDatepicker\";\nimport SmallLoader from \"../../../parts/SmallLoader\";\nimport DraftInput from \"../../../parts/inputs/DraftInput\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport FilesUpload from \"../../../parts/FilesUpload\";\nimport SubmitButtons from \"../../../parts/SubmitButtons\";\nimport EmployeeAssignmentsPopup from \"../../employee-page/employee-assignments/EmployeeAssignmentsPopup\";\n\nclass HandleAssignment extends Component {\n  constructor() {\n    super();\n    this.state = {\n      assignment: {},\n    };\n    this.componentRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { assignment_to_edit, new_assignment } = this.props;\n    this.setState({\n      is_edit: assignment_to_edit,\n      assignment: assignment_to_edit ? assignment_to_edit : {},\n    });\n    if (new_assignment) {\n      this.setState({\n        assignment: new_assignment,\n      });\n    }\n    setTimeout(() => {\n      this.setState({\n        loaded: true,\n      });\n    }, 20);\n  }\n\n  updateStateAssignment = (name, value) => {\n    const { assignment } = this.state;\n    let new_assignment = JSON.parse(JSON.stringify(assignment));\n    new_assignment[name] = value;\n    this.setState({\n      assignment: new_assignment,\n    });\n  };\n\n  submitForm = async (e) => {\n    const { is_edit, assignment } = this.state;\n    e.preventDefault();\n    this.setState({\n      validate: true,\n    });\n    setTimeout(async () => {\n      this.setState({\n        validate: false,\n      });\n      const errors = document.querySelectorAll(\".text__input__error\");\n      if (errors.length === 0) {\n        this.setState({\n          loading:true\n        })\n        if (is_edit) {\n          await this.props.edit(assignment);\n          this.close();\n        } else {\n          await this.props.create(assignment);\n          this.close();\n        }\n      }\n    }, 50);\n  };\n\n  close = () => {\n    this.setState({\n      loaded: false,\n    });\n    setTimeout(() => {\n      this.props.toggleHandleAssignment();\n    }, 400);\n  };\n  setAssignment = (assignment) => {\n    this.setState({\n      assignment_updated:true,\n      assignment:{\n        title:assignment.title,\n        text:assignment.text,\n        files:assignment.files\n      }\n    })\n    setTimeout(() => {\n      this.setState({\n        assignment_updated:false,\n      })\n    }, 50);\n  }\n  scrolltop = () => {\n  \n    this.componentRef.current.scrollTop = 0;\n\n\n  }\n\n  render() {\n    const { loaded, is_edit, validate, assignment, show_options , assignment_updated, loading} = this.state;\n    const { from_employee_page, assignments_list } = this.props;\n    const {system_text} = this.props.global\n    return (\n      <div\n        id={loaded ? \"assignments__handle--active\" : \"\"}\n        className=\"assignments__handle\"\n      >\n        <section className=\"overlay\"></section>\n        <form\n              ref={ this.componentRef }\n\n          onSubmit={(e) => this.submitForm(e)}\n          className=\"assignments__handle__form\"\n        >\n          {\n            from_employee_page && show_options? \n            <EmployeeAssignmentsPopup \n            closePopup = {() => this.setState({show_options:false})}\n            assignments_list = {assignments_list}\n            setAssignment ={this.setAssignment}\n            system_text = {system_text}\n            />  :''\n          }\n          <button\n            style={{\n              opacity: loaded ? 1 : 0,\n            }}\n            type=\"button\"\n            onClick={() => this.close()}\n            className=\"assignments__handle__form__close flex__center\"\n          >\n            \n            <CloseIcon />\n          </button>\n          <h2 className='section__h2'>{is_edit ? system_text.EDIT :system_text.CREATE}</h2>\n          {from_employee_page && !is_edit? \n            <button \n            type='button'\n            onClick = {() => this.setState({show_options:true})}\n          className='save__btn suggestions__btn'>{system_text.TEMPLATES}</button>\n             \n        : ''}\n        {\n          from_employee_page ?\n          <SingleDatepicker\n          scrolltop = {this.scrolltop}\n            sendDate={this.updateStateAssignment}\n            property_name=\"deadline\"\n            date={assignment ? assignment.deadline : \"\"}\n            title={system_text.DEADLINE}\n            empty_error=\"Required field\"\n            validate={validate}\n            \n          />  :''\n        }\n          {assignment && loaded &&\n            assignments_inputs_data.map((input) => {\n              switch (input.type) {\n                case \"draft\":\n                  return (\n                    <DraftInput\n                      handleUpdate={this.updateStateAssignment}\n                      input={input}\n                      validate={validate}\n                      property_name={input.property_name}\n                      value={assignment ? assignment.text : ''}\n                      label={input.label}\n                      system_text = {system_text}\n                      updated = {assignment_updated}\n                    />\n                  );\n                default:\n                  return (\n                    <TextInput\n                      handleUpdate={this.updateStateAssignment}\n                      input={input}\n                      validate={validate}\n                      property_name={input.property_name}\n                      value={assignment ? assignment[input.property_name] : \"\"}\n                      system_text = {system_text}\n                    />\n                  );\n              }\n            })}\n          {from_employee_page ? (\n            <div className=\"assignments__handle__employee__page\">\n              {is_edit ? (\n                <section id=\"assignments__handle__employee__status\">\n                  <h3>{system_text.STATUS}</h3>\n                  <aside>\n                    {system_text.ASSIGNMENT_STATUS_ARR.map((m) => {\n                      return (\n                        <button\n                          type=\"button\"\n                          className={\n                            assignment.status === m.value\n                              ? \"save__btn\"\n                              : \"cancel__btn\"\n                          }\n                          onClick={() =>\n                            this.updateStateAssignment(\"status\", m.value)\n                          }\n                        >\n                          {m.text}\n                        </button>\n                      );\n                    })}\n                  </aside>\n                </section>\n              ) : (\n                \"\"\n              )}\n            </div>\n          ) : (\n            \"\"\n          )}\n          <FilesUpload\n            update={this.updateStateAssignment}\n            property_name=\"files\"\n            files={assignment ? assignment.files : []}\n          />\n          <SubmitButtons\n            close={this.close}\n            submit_text={system_text.SAVE}\n            close_text={system_text.CANCEL}\n            loading={loading}\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ assignments, global }) {\n  return { assignments, global };\n}\n\nexport default connect(mapStateToProps, actions)(HandleAssignment);\n"]},"metadata":{},"sourceType":"module"}