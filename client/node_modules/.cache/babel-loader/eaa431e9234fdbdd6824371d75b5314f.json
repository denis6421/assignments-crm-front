{"ast":null,"code":"var _jsxFileName = \"/Users/denis/Desktop/projects/todo/front/client/src/components/navbar/Navbar.jsx\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport SmallPopup from \"../../parts/SmallPopup\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../actions/actions\";\nimport { LOGIN_ROUTE, SETTINGS_ROUTE } from \"../../tools/routes\";\nimport { removeCookie } from \"../../tools/cookie\";\nimport { AUTH_TOKEN } from \"../../tools/keys\";\nimport ExitToAppSharpIcon from \"@material-ui/icons/ExitToAppSharp\";\nimport PersonIcon from \"@material-ui/icons/Person\";\n\nconst isActive = (url, value) => {\n  if (url.indexOf(value) > -1) return true;\n  return false;\n};\n\nclass Navbar extends Component {\n  constructor() {\n    super();\n\n    this.logout = () => {\n      removeCookie(AUTH_TOKEN);\n      this.props.history.push(LOGIN_ROUTE);\n      window.location.reload();\n    };\n\n    this.onLoad = () => {\n      this.setState({\n        img_loaded: true\n      });\n    };\n\n    this.state = {};\n  }\n\n  componentWillReceiveProps(nextPros) {\n    let url = nextPros.location.pathname;\n    this.setState({\n      url\n    });\n  }\n\n  componentDidMount() {\n    let url = window.location.pathname;\n    this.setState({\n      url,\n      page_loaded: true\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          url = _this$state.url,\n          page_loaded = _this$state.page_loaded,\n          img_loaded = _this$state.img_loaded;\n    const user = this.props.user.user;\n    const navigations = this.props.navigations;\n    const system_text = this.props.global.system_text;\n    const style = {\n      left: \"110%\",\n      top: \"50%\",\n      transform: \"translate(0, -50%)\"\n    };\n    return page_loaded ? React.createElement(\"nav\", {\n      className: \"navbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      className: \"employee__img navbar__user__avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, user && user.avatar ? React.createElement(React.Fragment, null, React.createElement(\"img\", {\n      src: user.avatar,\n      style: {\n        opacity: img_loaded ? 1 : 0,\n        transition: '0.2s all'\n      },\n      onLoad: () => this.onLoad(),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), !img_loaded ? React.createElement(\"aside\", {\n      className: \"avatar__loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }) : '') : React.createElement(PersonIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"section\", {\n      className: \"navbar__list flex__column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, navigations && navigations.length > 0 ? navigations.map((m, i) => {\n      return React.createElement(Link, {\n        style: {\n          marginTop: m.last ? 'auto' : ''\n        },\n        id: isActive(url, m.value) ? \"navbar__list__link--active\" : \"\",\n        className: \"navbar__list__link flex__center\",\n        key: i,\n        to: m.param ? m.url.replace(m.param, user._id) : m.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, m.img, React.createElement(SmallPopup, {\n        arrow_class: \"arrow-left\",\n        style: style,\n        text: system_text[m.text],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }));\n    }) : '', React.createElement(\"button\", {\n      style: {\n        background: 'transparent',\n        border: '0px'\n      },\n      className: \"navbar__list__link navbar__logout__link\",\n      onClick: () => this.logout(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(SmallPopup, {\n      arrow_class: \"arrow-left\",\n      style: style,\n      text: system_text.LOGOUT,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(ExitToAppSharpIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })))) : '';\n  }\n\n}\n\nfunction mapStateToProps({\n  employees,\n  navbar,\n  user,\n  global\n}) {\n  return {\n    employees,\n    navbar,\n    user,\n    global\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(Navbar));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/navbar/Navbar.jsx"],"names":["React","Component","Link","withRouter","SmallPopup","connect","actions","LOGIN_ROUTE","SETTINGS_ROUTE","removeCookie","AUTH_TOKEN","ExitToAppSharpIcon","PersonIcon","isActive","url","value","indexOf","Navbar","constructor","logout","props","history","push","window","location","reload","onLoad","setState","img_loaded","state","componentWillReceiveProps","nextPros","pathname","componentDidMount","page_loaded","render","user","navigations","system_text","global","style","left","top","transform","avatar","opacity","transition","length","map","m","i","marginTop","last","param","replace","_id","img","text","background","border","LOGOUT","mapStateToProps","employees","navbar"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport SmallPopup from \"../../parts/SmallPopup\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../actions/actions\";\nimport { LOGIN_ROUTE, SETTINGS_ROUTE } from \"../../tools/routes\";\nimport { removeCookie } from \"../../tools/cookie\";\nimport { AUTH_TOKEN } from \"../../tools/keys\";\nimport ExitToAppSharpIcon from \"@material-ui/icons/ExitToAppSharp\";\nimport PersonIcon from \"@material-ui/icons/Person\";\n\nconst isActive = (url, value) => {\n  if(url.indexOf(value) > -1) return true\n  return false\n}\n\nclass Navbar extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n  componentWillReceiveProps(nextPros) {\n    let url = nextPros.location.pathname\n    this.setState({\n      url\n    })\n  }\n  componentDidMount() {\n    let url = window.location.pathname\n   this.setState({\n     url,\n     page_loaded:true\n   })\n  }\n\n\n\n  logout = () => {\n    removeCookie(AUTH_TOKEN);\n    this.props.history.push(LOGIN_ROUTE);\n    window.location.reload();\n  };\nonLoad = () => {\n  this.setState({\n    img_loaded:true\n  })\n}\n  render() {\n    const { url , page_loaded, img_loaded} = this.state;\n    const { user } = this.props.user;\n    const {navigations} = this.props\n    const {system_text} = this.props.global\n    const style = {\n      left: \"110%\",\n      top: \"50%\",\n      transform: \"translate(0, -50%)\",\n    };\n    return (\n      page_loaded ?  <nav className=\"navbar\">\n         <figure className='employee__img navbar__user__avatar'>\n            {user && user.avatar ?\n            <>\n             <img src={user.avatar}\n             style ={{\n               opacity:img_loaded ? 1 : 0,\n               transition:'0.2s all'\n             }}\n             onLoad = {() => this.onLoad()}\n             alt=\"\" /> \n            {!img_loaded  ? <aside className='avatar__loader'></aside> : ''}\n             </>\n             : <PersonIcon />}\n          </figure>\n        <section className=\"navbar__list flex__column\">\n         \n          {navigations && \n          navigations.length  > 0 ?\n           navigations.map((m, i) => {\n                return (\n                  <Link\n                  style ={{\n                    marginTop:m.last ? 'auto' : ''\n                  }}\n                    id={\n                      isActive(url, m.value) ? \"navbar__list__link--active\" : \"\"\n                    }\n                    className=\"navbar__list__link flex__center\"\n                    key={i}\n                    to={m.param ? m.url.replace(m.param, user._id) : m.url}\n                  >\n                    {m.img}\n                    <SmallPopup\n                      arrow_class=\"arrow-left\"\n                      style={style}\n                      text={system_text[m.text]}\n                    />\n                  </Link>\n                );\n              })\n              :''}\n         <button\n         style ={{\n           background:'transparent',\n           border:'0px',\n         }}\n              className=\"navbar__list__link navbar__logout__link\"\n              onClick={() => this.logout()}\n            >\n              <SmallPopup\n                arrow_class=\"arrow-left\"\n                style={style}\n                text={system_text.LOGOUT}\n              />\n              <ExitToAppSharpIcon />\n            </button>\n        </section>\n      </nav>  :''\n    );\n  }\n}\n\nfunction mapStateToProps({ employees, navbar, user, global }) {\n  return { employees, navbar, user, global };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(Navbar));\n"]},"metadata":{},"sourceType":"module"}