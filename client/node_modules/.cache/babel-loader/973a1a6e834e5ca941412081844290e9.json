{"ast":null,"code":"var _jsxFileName = \"/Users/denis/Desktop/projects/todo/front/client/src/components/dashboard/Dashboard.jsx\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch, withRouter } from \"react-router-dom\";\nimport { EMPLOYEES_ROUTE, EMPLOYEE_ROUTE, ASSIGNMENTS_ROUTE, OVERVIEW_ROUTE, SETTINGS_ROUTE, EMPLOYEE_ASSIGNMENT_ROUTE, PERSONAL_ASSIGNMENTS_ROUTE } from '../../tools/routes';\nimport Employees from '../employees/Employees';\nimport Navbar from '../navbar/Navbar';\nimport EmployeePage from '../employee-page/EmployeePage';\nimport AssignmentTemplates from '../assignments/AssignmentTemplates';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/actions';\nimport Overview from '../overview/Overview';\nimport Settings from '../settings/Settings';\nimport { manager_navigations } from '../navbar/navigations';\nimport { manager_settings } from '../settings/settings_routes';\nimport { apiGetRequest } from '../../tools/api';\nimport EmployeeAssignmentPage from '../employee-page/employee-assignment-page/EmployeeAssignmentPage';\nimport InvalidRoute from '../invalid-route/InvalidRoute';\nimport ManagerAssignments from '../manager-assignments/ManagerAssignments';\n\nclass Dashboard extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  async componentDidMount() {\n    const user = this.props.user.user;\n    console.log(user);\n    const api = \"account-settings?id=\".concat(user._id);\n    const res = await apiGetRequest(api);\n\n    if (res.ok) {\n      this.props.updateUserReducer('permissions', res.result.permissions);\n      this.props.updateUserReducer('system_logo', res.result.avatar);\n      this.props.setSystemLanguage(res.result.language);\n    }\n  }\n\n  render() {\n    const _this$props$user = this.props.user,\n          user = _this$props$user.user,\n          system_logo = _this$props$user.system_logo;\n    const language = this.props.global.language;\n    return user && user.is_manager && language ? React.createElement(\"div\", {\n      className: \"dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, system_logo ? React.createElement(\"div\", {\n      className: \"dashboard__logo page__flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: system_logo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    })) : '', React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      navigations: manager_navigations,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: EMPLOYEES_ROUTE,\n      render: () => React.createElement(Employees, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: OVERVIEW_ROUTE,\n      render: () => React.createElement(Overview, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: EMPLOYEE_ROUTE,\n      render: () => React.createElement(EmployeePage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: EMPLOYEE_ASSIGNMENT_ROUTE,\n      render: () => React.createElement(EmployeeAssignmentPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: ASSIGNMENTS_ROUTE,\n      render: () => React.createElement(AssignmentTemplates, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: PERSONAL_ASSIGNMENTS_ROUTE,\n      render: () => React.createElement(ManagerAssignments, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: SETTINGS_ROUTE,\n      render: () => React.createElement(Settings, {\n        settings_routes: manager_settings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"*\",\n      exact: true,\n      component: InvalidRoute,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })))) : '';\n  }\n\n}\n\nfunction mapStateToProps({\n  user,\n  global\n}) {\n  return {\n    user,\n    global\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(Dashboard));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/dashboard/Dashboard.jsx"],"names":["React","Component","BrowserRouter","Router","Route","Switch","withRouter","EMPLOYEES_ROUTE","EMPLOYEE_ROUTE","ASSIGNMENTS_ROUTE","OVERVIEW_ROUTE","SETTINGS_ROUTE","EMPLOYEE_ASSIGNMENT_ROUTE","PERSONAL_ASSIGNMENTS_ROUTE","Employees","Navbar","EmployeePage","AssignmentTemplates","connect","actions","Overview","Settings","manager_navigations","manager_settings","apiGetRequest","EmployeeAssignmentPage","InvalidRoute","ManagerAssignments","Dashboard","constructor","state","componentDidMount","user","props","console","log","api","_id","res","ok","updateUserReducer","result","permissions","avatar","setSystemLanguage","language","render","system_logo","global","is_manager","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { BrowserRouter as Router, Route, Switch, withRouter } from \"react-router-dom\"\nimport { EMPLOYEES_ROUTE, EMPLOYEE_ROUTE, ASSIGNMENTS_ROUTE, OVERVIEW_ROUTE, SETTINGS_ROUTE, EMPLOYEE_ASSIGNMENT_ROUTE, PERSONAL_ASSIGNMENTS_ROUTE } from '../../tools/routes'\nimport Employees from '../employees/Employees'\nimport Navbar from '../navbar/Navbar'\nimport EmployeePage from '../employee-page/EmployeePage'\nimport AssignmentTemplates from '../assignments/AssignmentTemplates'\nimport { connect } from 'react-redux'\nimport * as actions from '../../actions/actions'\nimport Overview from '../overview/Overview'\nimport Settings from '../settings/Settings'\nimport { manager_navigations } from '../navbar/navigations'\nimport { manager_settings } from '../settings/settings_routes'\nimport { apiGetRequest } from '../../tools/api'\nimport EmployeeAssignmentPage from '../employee-page/employee-assignment-page/EmployeeAssignmentPage'\nimport InvalidRoute from '../invalid-route/InvalidRoute'\nimport ManagerAssignments from '../manager-assignments/ManagerAssignments'\n\nclass Dashboard extends Component {\n  constructor(){\n    super()\n    this.state = {\n\n    }\n  }\n  async componentDidMount(){\n    const {user} = this.props.user\n    console.log(user)\n    const api = `account-settings?id=${user._id}`\n    const res  = await apiGetRequest(api)\n    if(res.ok){\n    \n        this.props.updateUserReducer('permissions', res.result.permissions)\n        this.props.updateUserReducer('system_logo', res.result.avatar)\n        this.props.setSystemLanguage(res.result.language)\n    }\n  }\n  \n    render () {\n      const {user, system_logo} = this.props.user\n        const {language} = this.props.global\n        return (\n          user && user.is_manager && language?   <div className='dashboard'>\n                  {\n                    system_logo ? \n                    <div className='dashboard__logo page__flex'>\n                      <img src={system_logo} />\n                    </div>\n                    : ''\n                  }\n                    <Router>\n                        <Navbar \n                        navigations  ={manager_navigations}\n                        />\n                        <Switch>\n                            <Route exact path={EMPLOYEES_ROUTE} render={() => <Employees />} />\n                            <Route exact path={OVERVIEW_ROUTE} render={() => <Overview />} />\n                            <Route  path={EMPLOYEE_ROUTE} render={() => <EmployeePage />} />\n                            <Route  path={EMPLOYEE_ASSIGNMENT_ROUTE} render={() => <EmployeeAssignmentPage />} />\n                            <Route exact path={ASSIGNMENTS_ROUTE} render={() => <AssignmentTemplates />} />\n                            <Route  path={PERSONAL_ASSIGNMENTS_ROUTE} render={() => <ManagerAssignments />} />\n                            <Route  path={SETTINGS_ROUTE} render={() => <Settings \n                            settings_routes = {manager_settings}\n                            />} />\n                             <Route path='*' exact={true} component={InvalidRoute} />\n                        </Switch>\n                    </Router>\n                </div> : ''\n        )\n    }\n}\n\nfunction mapStateToProps({ user, global }) {\n    return { user, global }\n  }\n  \n  export default withRouter(connect(mapStateToProps, actions)(Dashboard))\n  "]},"metadata":{},"sourceType":"module"}