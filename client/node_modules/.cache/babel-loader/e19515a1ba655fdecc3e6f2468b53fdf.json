{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import validator from\"validator\";import{connect}from'react-redux';import*as actions from'../../actions/actions';var validateInput=function validateInput(type,value){switch(type){case\"email\":return!validator.isEmail(value);case\"phone\":return!validator.isMobilePhone(String(value));default:break;}};var TextInput=/*#__PURE__*/function(_Component){_inherits(TextInput,_Component);function TextInput(){var _this;_classCallCheck(this,TextInput);_this=_possibleConstructorReturn(this,_getPrototypeOf(TextInput).call(this));_this.handleChnage=function(value){var input=_this.props.input;var property_name=input.property_name,type=input.type;if(type===\"phone\"){var num=value.replace(/[^0-9.]/g,\"\");_this.props.handleUpdate(property_name,num);}else{_this.props.handleUpdate(property_name,value);}};_this.handleBlur=function(){var _this$props=_this.props,value=_this$props.value,input=_this$props.input;var type=input.type,required=input.required;var validation_error,error;_this.setState({active:value});if(value){validation_error=validateInput(type,value);}else{if(required)error=true;}_this.setState({validation_error:validation_error,error:error});};_this.handleFocus=function(){_this.setState({active:true,validation_error:false,error:false});};_this.state={};return _this;}_createClass(TextInput,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var _this$props2=this.props,validate=_this$props2.validate,input=_this$props2.input,value=_this$props2.value;var type=input.type,required=input.required;if(nextProps.validate!==validate&&required){this.handleBlur(type,value);}}},{key:\"render\",value:function render(){var _this2=this;var _this$props3=this.props,input=_this$props3.input,value=_this$props3.value;var empty_text=input.empty_text,validation_text=input.validation_text,label=input.label,type=input.type;var _this$state=this.state,active=_this$state.active,error=_this$state.error,validation_error=_this$state.validation_error;var system_text=this.props.global.system_text;return React.createElement(\"div\",{className:active||value?\"text__input text__input--active\":\"text__input\"},React.createElement(\"input\",{type:type===\"password\"?\"password\":\"text\",onChange:function onChange(e){return _this2.handleChnage(e.target.value);},onBlur:function onBlur(e){return _this2.handleBlur();},onFocus:function onFocus(e){return _this2.handleFocus();},placeholder:system_text[label],value:value,autocomplete:\"new-email\"}),error?React.createElement(\"p\",{className:\"text__input__error\"},system_text[empty_text]):validation_error?React.createElement(\"p\",{className:\"text__input__error\"},system_text[validation_text]):null);}}]);return TextInput;}(Component);function mapStateToProps(_ref){var global=_ref.global;return{global:global};}export default connect(mapStateToProps,actions)(TextInput);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/parts/inputs/TextInput.jsx"],"names":["React","Component","validator","connect","actions","validateInput","type","value","isEmail","isMobilePhone","String","TextInput","handleChnage","input","props","property_name","num","replace","handleUpdate","handleBlur","required","validation_error","error","setState","active","handleFocus","state","nextProps","validate","empty_text","validation_text","label","system_text","global","e","target","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport validator from \"validator\";\nimport { connect } from 'react-redux'\nimport * as actions from '../../actions/actions'\n\n\nconst validateInput = (type, value) => {\n  switch (type) {\n    case \"email\":\n      return !validator.isEmail(value);\n    case \"phone\":\n      return !validator.isMobilePhone(String(value));\n    default:\n      break;\n  }\n};\n\nclass TextInput extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  handleChnage = (value) => {\n    const { input } = this.props;\n    const { property_name, type } = input;\n    if (type === \"phone\") {\n      let num = value.replace(/[^0-9.]/g, \"\");\n      this.props.handleUpdate(property_name, num);\n    } else {\n      this.props.handleUpdate(property_name, value);\n    }\n  };\n  handleBlur = () => {\n    const { value, input } = this.props;\n    const { type, required } = input;\n\n    let validation_error, error;\n    this.setState({\n      active: value,\n    });\n    if (value) {\n      validation_error = validateInput(type, value);\n    } else {\n      if (required) error = true;\n    }\n    this.setState({\n      validation_error,\n      error,\n    });\n  };\n  handleFocus = () => {\n    this.setState({\n      active: true,\n      validation_error: false,\n      error: false,\n    });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { validate, input, value } = this.props;\n    const { type, required } = input;\n    if (nextProps.validate !== validate && required) {\n      this.handleBlur(type, value);\n    }\n  }\n\n  render() {\n    const { input, value } = this.props;\n    const { empty_text, validation_text, label, type } = input;\n    const { active, error, validation_error } = this.state;\n    const {system_text} = this.props.global\n    return (\n      <div\n        className={\n          active || value ? \"text__input text__input--active\" : \"text__input\"\n        }\n      >\n        {/* <label>{label}</label> */}\n        <input\n          type={type === \"password\" ? \"password\" : \"text\"}\n          onChange={(e) => this.handleChnage(e.target.value)}\n          onBlur={(e) => this.handleBlur()}\n          onFocus={(e) => this.handleFocus()}\n          placeholder={system_text[label]}\n          value={value}\n          autocomplete=\"new-email\"\n        />\n        {error ? (\n          <p className=\"text__input__error\">{system_text[empty_text]}</p>\n        ) : validation_error ? (\n          <p className=\"text__input__error\">{system_text[validation_text]}</p>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ global }) {\n  return { global }\n}\n\nexport default (connect(mapStateToProps, actions)(TextInput))\n\n"]},"metadata":{},"sourceType":"module"}