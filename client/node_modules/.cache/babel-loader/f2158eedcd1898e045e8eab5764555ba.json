{"ast":null,"code":"import _defineProperty from \"/Users/denis/Desktop/projects/todo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/denis/Desktop/projects/todo/client/src/components/employee-page/employee-assignments/AssignmentsList.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../../actions/actions\";\nimport { withRouter } from \"react-router\";\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport CloseIcon from '@material-ui/icons/Close';\n\nclass AssignmentsList extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.setWrapperRef = node => {\n      this.wrapperRef = node;\n    };\n\n    this.handleClickOutside = event => {\n      if (this.wrapperRef && !this.wrapperRef.contains(event.target) && event.target.className !== \"add__btn\") {\n        this.close();\n      }\n    };\n\n    this.close = () => {\n      this.props.toggleAssignmentsList(false);\n    };\n\n    this.returnAssignment = m => {\n      let assignment = _objectSpread({}, m);\n\n      delete assignment.date;\n      delete assignment._id;\n      delete assignment.user;\n      this.props.handleAssignment(true, assignment);\n      this.close();\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  render() {\n    const _this$props = this.props,\n          show_assignments = _this$props.show_assignments,\n          assignments_list = _this$props.assignments_list;\n    const system_text = this.props.global.system_text;\n    let assignments = \"\";\n    assignments = assignments_list.map(m => {\n      return React.createElement(\"li\", {\n        key: m._id,\n        onClick: () => this.returnAssignment(m),\n        className: \"flex__start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"flex__center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(AddCircleOutlineIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, m.title));\n    });\n    return React.createElement(\"div\", {\n      ref: this.setWrapperRef,\n      id: show_assignments ? \"employee__page__assignments__list--active\" : \"\",\n      className: \"employee__page__assignments__list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        opacity: show_assignments ? 1 : 0\n      },\n      type: \"button\",\n      onClick: () => this.close(),\n      className: \"employee__page__assignments__close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \" \", React.createElement(CloseIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"header\", {\n      className: \"flex__start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, system_text.TEMPLATES), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, assignments));\n  }\n\n}\n\nfunction mapStateToProps({\n  assignments,\n  employees,\n  global\n}) {\n  return {\n    assignments,\n    employees,\n    global\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(AssignmentsList));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/client/src/components/employee-page/employee-assignments/AssignmentsList.jsx"],"names":["React","Component","connect","actions","withRouter","AddCircleOutlineIcon","CloseIcon","AssignmentsList","setWrapperRef","node","wrapperRef","handleClickOutside","event","contains","target","className","close","props","toggleAssignmentsList","returnAssignment","m","assignment","date","_id","user","handleAssignment","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","show_assignments","assignments_list","system_text","global","assignments","map","title","opacity","TEMPLATES","mapStateToProps","employees"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,0BAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,oBAAP,MAAiC,qCAAjC;AACA,OAAOC,SAAP,MAAsB,0BAAtB;;AAKA,MAAMC,eAAN,SAA8BN,SAA9B,CAAwC;AAAA;AAAA;;AAAA,SACtCO,aADsC,GACrBC,IAAD,IAAU;AACxB,WAAKC,UAAL,GAAkBD,IAAlB;AACD,KAHqC;;AAAA,SAYtCE,kBAZsC,GAYhBC,KAAD,IAAW;AAC9B,UACE,KAAKF,UAAL,IACA,CAAC,KAAKA,UAAL,CAAgBG,QAAhB,CAAyBD,KAAK,CAACE,MAA/B,CADD,IAEAF,KAAK,CAACE,MAAN,CAAaC,SAAb,KAA2B,UAH7B,EAIE;AACD,aAAKC,KAAL;AACA;AACF,KApBqC;;AAAA,SAqBtCA,KArBsC,GAqB9B,MAAM;AACZ,WAAKC,KAAL,CAAWC,qBAAX,CAAiC,KAAjC;AAED,KAxBqC;;AAAA,SAyBtCC,gBAzBsC,GAyBlBC,CAAD,IAAO;AACxB,UAAIC,UAAU,qBAAQD,CAAR,CAAd;;AACA,aAAOC,UAAU,CAACC,IAAlB;AACA,aAAOD,UAAU,CAACE,GAAlB;AACA,aAAOF,UAAU,CAACG,IAAlB;AAEA,WAAKP,KAAL,CAAWQ,gBAAX,CAA4B,IAA5B,EAAkCJ,UAAlC;AACA,WAAKL,KAAL;AACD,KAjCqC;AAAA;;AAKtCU,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuC,KAAKjB,kBAA5C;AACD;;AACDkB,EAAAA,oBAAoB,GAAG;AACrBF,IAAAA,QAAQ,CAACG,mBAAT,CAA6B,WAA7B,EAA0C,KAAKnB,kBAA/C;AACD;;AAwBDoB,EAAAA,MAAM,GAAG;AAAA,wBACwC,KAAKd,KAD7C;AAAA,UACCe,gBADD,eACCA,gBADD;AAAA,UACmBC,gBADnB,eACmBA,gBADnB;AAAA,UAEAC,WAFA,GAEe,KAAKjB,KAAL,CAAWkB,MAF1B,CAEAD,WAFA;AAGP,QAAIE,WAAW,GAAG,EAAlB;AAEAA,IAAAA,WAAW,GAAGH,gBAAgB,CAACI,GAAjB,CAAsBjB,CAAD,IAAO;AACxC,aACE;AACE,QAAA,GAAG,EAAEA,CAAC,CAACG,GADT;AAEE,QAAA,OAAO,EAAE,MAAM,KAAKJ,gBAAL,CAAsBC,CAAtB,CAFjB;AAGE,QAAA,SAAS,EAAC,aAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CALF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,CAAC,CAACkB,KAAP,CARF,CADF;AAYD,KAba,CAAd;AAeA,WACE;AACE,MAAA,GAAG,EAAE,KAAK9B,aADZ;AAEE,MAAA,EAAE,EAAEwB,gBAAgB,GAAG,2CAAH,GAAiD,EAFvE;AAGE,MAAA,SAAS,EAAC,mCAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AACG,MAAA,KAAK,EAAG;AACJO,QAAAA,OAAO,EAACP,gBAAgB,GAAG,CAAH,GAAQ;AAD5B,OADX;AAIG,MAAA,IAAI,EAAC,QAJR;AAKG,MAAA,OAAO,EAAI,MAAO,KAAKhB,KAAL,EALrB;AAMG,MAAA,SAAS,EAAC,oCANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMmD,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANnD,CALF,EAYE;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCkB,WAAW,CAACM,SAA7C,CAZF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKJ,WAAL,CAbF,CADF;AAiBD;;AAvEqC;;AA0ExC,SAASK,eAAT,CAAyB;AAAEL,EAAAA,WAAF;AAAeM,EAAAA,SAAf;AAA0BP,EAAAA;AAA1B,CAAzB,EAA6D;AAC3D,SAAO;AAAEC,IAAAA,WAAF;AAAeM,IAAAA,SAAf;AAA0BP,IAAAA;AAA1B,GAAP;AACD;;AAED,eAAe/B,UAAU,CAACF,OAAO,CAACuC,eAAD,EAAkBtC,OAAlB,CAAP,CAAkCI,eAAlC,CAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../../actions/actions\";\nimport { withRouter } from \"react-router\";\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport CloseIcon from '@material-ui/icons/Close';\n\n\n\n\nclass AssignmentsList extends Component {\n  setWrapperRef = (node) => {\n    this.wrapperRef = node;\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  handleClickOutside = (event) => {\n    if (\n      this.wrapperRef &&\n      !this.wrapperRef.contains(event.target) &&\n      event.target.className !== \"add__btn\"\n    ) {\n     this.close()\n    }\n  };\n  close = () => {\n    this.props.toggleAssignmentsList(false);\n  \n  }\n  returnAssignment = (m) => {\n    let assignment = { ...m };\n    delete assignment.date;\n    delete assignment._id;\n    delete assignment.user;\n   \n    this.props.handleAssignment(true, assignment);\n    this.close()\n  };\n  render() {\n    const { show_assignments, assignments_list } = this.props;\n    const {system_text} = this.props.global\n    let assignments = \"\";\n\n    assignments = assignments_list.map((m) => {\n      return (\n        <li\n          key={m._id}\n          onClick={() => this.returnAssignment(m)}\n          className=\"flex__start\"\n        >\n          <button className='flex__center'>\n          <AddCircleOutlineIcon />\n          </button>\n          <h4>{m.title}</h4>\n        </li>\n      );\n    });\n\n    return (\n      <div\n        ref={this.setWrapperRef}\n        id={show_assignments ? \"employee__page__assignments__list--active\" : \"\"}\n        className=\"employee__page__assignments__list\"\n      >\n        <button\n           style ={{\n               opacity:show_assignments ? 1  : 0\n           }}\n           type='button'\n           onClick = {()  => this.close()}\n           className='employee__page__assignments__close'> <CloseIcon /></button>\n        <header className='flex__start'>{system_text.TEMPLATES}</header>\n        <ul>{assignments}</ul>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ assignments, employees, global }) {\n  return { assignments, employees, global };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(AssignmentsList));\n"]},"metadata":{},"sourceType":"module"}