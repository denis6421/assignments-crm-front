{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{CopyToClipboard}from\"react-copy-to-clipboard\";import generator from\"generate-password\";import CheckCircleIcon from\"@material-ui/icons/CheckCircle\";import{connect}from'react-redux';import*as actions from'../../actions/actions';var PasswordInput=/*#__PURE__*/function(_Component){_inherits(PasswordInput,_Component);function PasswordInput(){var _this;_classCallCheck(this,PasswordInput);_this=_possibleConstructorReturn(this,_getPrototypeOf(PasswordInput).call(this));_this.generatePassword=function(){var password=generator.generate({length:10,uppercase:false});_this.setState({generated:true,error:false});_this.handleChange(password);};_this.handleChange=function(value){var input=_this.props.input;var property_name=input.property_name;_this.props.updateParentState('pw_changed',true);_this.props.handleUpdate(property_name,value);};_this.handleBlur=function(){var value=_this.props.value;_this.setState({active:value});_this.setState({error:!value});};_this.handleFocus=function(){_this.setState({active:true,validation_error:false,error:false});};_this.handleCopy=function(){_this.setState({copied:true});setTimeout(function(){_this.setState({copied:false});},2000);};_this.state={};return _this;}_createClass(PasswordInput,[{key:\"componentDidMount\",value:function componentDidMount(){var is_edit=this.props.is_edit;if(is_edit){this.setState({active:true});}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var _this$props=this.props,validate=_this$props.validate,input=_this$props.input,value=_this$props.value,is_edit=_this$props.is_edit;var type=input.type;if(nextProps.validate!==validate&&!is_edit){this.handleBlur(type,value);}}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,input=_this$props2.input,value=_this$props2.value,is_edit=_this$props2.is_edit;var empty_text=input.empty_text,label=input.label;var _this$state=this.state,active=_this$state.active,error=_this$state.error,generated=_this$state.generated,copied=_this$state.copied;var system_text=this.props.global.system_text;return React.createElement(\"div\",{id:\"password__input\",className:active||value?\"text__input text__input--active flex__start\":\"text__input flex__start\"},React.createElement(\"input\",{placeholder:system_text[label],onChange:function onChange(e){return _this2.handleChange(e.target.value);},type:\"password\",value:value?value:!value&&is_edit?'********':''}),React.createElement(CopyToClipboard,{text:value,onCopy:function onCopy(){return _this2.handleCopy();}},React.createElement(\"button\",{type:\"button\",style:{opacity:value?1:0.6,pointerEvents:value?\"all\":\"none\",width:'80px'},className:\"cancel__btn password__button flex__center\"},copied?React.createElement(CheckCircleIcon,null):\"\",copied?system_text.COPIED:system_text.COPY)),is_edit?React.createElement(\"button\",{style:{width:'110px',pointerEvents:generated?'none':'all'},type:\"button\",onClick:function onClick(){return _this2.generatePassword();},className:\"cancel__btn password__button flex__center\"},generated?React.createElement(CheckCircleIcon,null):\"\",generated?system_text.done:system_text.RESET):React.createElement(\"button\",{style:{pointerEvents:generated?'none':'all',width:'110px'},type:\"button\",onClick:function onClick(){return _this2.generatePassword();},className:\"cancel__btn password__button flex__center\"},generated?React.createElement(CheckCircleIcon,null):\"\",generated?system_text.GENERATED:system_text.GENERATE),error?React.createElement(\"p\",{className:\"text__input__error\"},system_text[empty_text]):\"\");}}]);return PasswordInput;}(Component);function mapStateToProps(_ref){var global=_ref.global;return{global:global};}export default connect(mapStateToProps,actions)(PasswordInput);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/parts/inputs/PasswordInput.jsx"],"names":["React","Component","CopyToClipboard","generator","CheckCircleIcon","connect","actions","PasswordInput","generatePassword","password","generate","length","uppercase","setState","generated","error","handleChange","value","input","props","property_name","updateParentState","handleUpdate","handleBlur","active","handleFocus","validation_error","handleCopy","copied","setTimeout","state","is_edit","nextProps","validate","type","empty_text","label","system_text","global","e","target","opacity","pointerEvents","width","COPIED","COPY","done","RESET","GENERATED","GENERATE","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport generator from \"generate-password\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport { connect } from 'react-redux'\nimport * as actions from '../../actions/actions'\n\n\nclass PasswordInput extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\ncomponentDidMount(){\n        const {is_edit} = this.props\n        if(is_edit){\n            this.setState({\n                active:true\n            })\n        }\n}\n  generatePassword = () => {\n    var password = generator.generate({\n      length: 10,\n      uppercase: false,\n    });\n    this.setState({\n      generated: true,\n      error:false\n    });\n    this.handleChange(password);\n  };\n\n  handleChange = (value) => {\n    const { input } = this.props;\n    const { property_name } = input;\n    this.props.updateParentState('pw_changed', true)\n    this.props.handleUpdate(property_name, value);\n  };\n  handleBlur = () => {\n    const { value } = this.props;\n    this.setState({\n      active: value,\n    });\n\n    this.setState({\n      error: !value,\n    });\n  };\n  handleFocus = () => {\n    this.setState({\n      active: true,\n      validation_error: false,\n      error: false,\n    });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { validate, input, value, is_edit } = this.props;\n    const { type } = input;\n    if (nextProps.validate !== validate && !is_edit) {\n      this.handleBlur(type, value);\n    }\n  }\n  handleCopy = () => {\n    this.setState({\n      copied: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        copied: false,\n      });\n    }, 2000);\n  };\n  render() {\n    const { input, value, is_edit } = this.props;\n    const { empty_text, label } = input;\n    const { active, error, generated , copied} = this.state;\n    const {system_text} = this.props.global\n    return (\n      <div\n        id=\"password__input\"\n        className={\n          active || value\n            ? \"text__input text__input--active flex__start\"\n            : \"text__input flex__start\"\n        }\n      >\n        \n        <input\n        placeholder = {system_text[label]}\n          onChange = {(e) => this.handleChange(e.target.value)}\n          type=\"password\"\n          value={value  ? value : !value && is_edit ? '********' : ''}\n        />\n\n        <CopyToClipboard \n        text={value}\n         onCopy={() => this.handleCopy()}>\n          <button\n            type=\"button\"\n            style={{\n              opacity: value ? 1 : 0.6,\n              pointerEvents: value ? \"all\" : \"none\",\n              width:'80px'\n            }}\n            className=\"cancel__btn password__button flex__center\"\n          >\n            {copied ? <CheckCircleIcon /> : \"\"}\n            {copied ? system_text.COPIED : system_text.COPY}\n          </button>\n        </CopyToClipboard>\n        {is_edit ? (\n          <button \n          style ={{\n          width:'110px',\n          pointerEvents:generated  ? 'none'  :'all'\n        }}\n          type=\"button\"\n          onClick = {() => this.generatePassword()}\n          className=\"cancel__btn password__button flex__center\">\n          {generated ? <CheckCircleIcon /> : \"\"}\n            {generated ? system_text.done :system_text.RESET}\n          </button>\n        ) : (\n          <button\n          style ={{\n              pointerEvents:generated  ? 'none'  :'all',\n            width:'110px'\n          }}\n            type=\"button\"\n            onClick={() => this.generatePassword()}\n            className=\"cancel__btn password__button flex__center\"\n          >\n            {generated ? <CheckCircleIcon /> : \"\"}\n            {generated ? system_text.GENERATED : system_text.GENERATE}\n          </button>\n        )}\n        {error ? <p className=\"text__input__error\">{system_text[empty_text]}</p> : \"\"}\n      </div>\n    );\n  }\n}\n\n\nfunction mapStateToProps({ global }) {\n  return { global }\n}\n\nexport default (connect(mapStateToProps, actions)(PasswordInput))\n\n"]},"metadata":{},"sourceType":"module"}