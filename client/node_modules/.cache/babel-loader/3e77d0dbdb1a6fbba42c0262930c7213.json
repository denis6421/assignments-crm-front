{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";var SelectBox=/*#__PURE__*/function(_Component){_inherits(SelectBox,_Component);function SelectBox(props){var _this;_classCallCheck(this,SelectBox);_this=_possibleConstructorReturn(this,_getPrototypeOf(SelectBox).call(this,props));_this.setWrapperRef=function(node){_this.wrapperRef=node;};_this.handleClickOutside=function(event){if(_this.wrapperRef&&!_this.wrapperRef.contains(event.target)){_this.setState({active:false});}};_this.select=function(elem){var _this$props=_this.props,property_name=_this$props.property_name,with_property=_this$props.with_property;if(with_property){_this.props.handleSelect(property_name,elem);}else{_this.props.handleSelect(elem);}_this.setState({active:false});};_this.state={};return _this;}_createClass(SelectBox,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"render\",value:function render(){var _this2=this;var active=this.state.active;var _this$props2=this.props,options=_this$props2.options,value=_this$props2.value;return React.createElement(\"div\",{id:active?\"selectbox--active\":\"\",ref:this.setWrapperRef,className:\"selectbox\"},React.createElement(\"header\",{className:\"flex__start\",onClick:function onClick(){return _this2.setState({active:!active});}},value?React.createElement(React.Fragment,null,value.img?React.createElement(\"img\",{src:value.img}):\"\",value.name):\"\"),React.createElement(\"ul\",{className:\"selectbox__list\"},options&&options.length>0?options.map(function(m,i){return React.createElement(\"li\",{className:\"flex__start\",onClick:function onClick(){return _this2.select(m);},key:i},m.img?React.createElement(\"img\",{src:m.img}):\"\",m.name);}):\"\"));}}]);return SelectBox;}(Component);export default SelectBox;","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/parts/SelectBox.jsx"],"names":["React","Component","SelectBox","props","setWrapperRef","node","wrapperRef","handleClickOutside","event","contains","target","setState","active","select","elem","property_name","with_property","handleSelect","state","document","addEventListener","removeEventListener","options","value","img","name","length","map","m","i"],"mappings":"40BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEMC,CAAAA,S,mEACJ,mBAAYC,KAAZ,CAAmB,2CACjB,2EAAMA,KAAN,GADiB,MAInBC,aAJmB,CAIH,SAACC,IAAD,CAAU,CACxB,MAAKC,UAAL,CAAkBD,IAAlB,CACD,CANkB,OAenBE,kBAfmB,CAeE,SAACC,KAAD,CAAW,CAC9B,GAAI,MAAKF,UAAL,EAAmB,CAAC,MAAKA,UAAL,CAAgBG,QAAhB,CAAyBD,KAAK,CAACE,MAA/B,CAAxB,CAAgE,CAC9D,MAAKC,QAAL,CAAc,CACZC,MAAM,CAAE,KADI,CAAd,EAGD,CACF,CArBkB,OAuBnBC,MAvBmB,CAuBV,SAACC,IAAD,CAAU,iBACwB,MAAKX,KAD7B,CACTY,aADS,aACTA,aADS,CACMC,aADN,aACMA,aADN,CAEjB,GAAIA,aAAJ,CAAmB,CACjB,MAAKb,KAAL,CAAWc,YAAX,CAAwBF,aAAxB,CAAuCD,IAAvC,EACD,CAFD,IAEO,CACL,MAAKX,KAAL,CAAWc,YAAX,CAAwBH,IAAxB,EACD,CACD,MAAKH,QAAL,CAAc,CACVC,MAAM,CAAC,KADG,CAAd,EAGD,CAjCkB,CAEjB,MAAKM,KAAL,CAAa,EAAb,CAFiB,aAGlB,C,mFAKmB,CAClBC,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuC,KAAKb,kBAA5C,EACD,C,mEACsB,CACrBY,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,CAA0C,KAAKd,kBAA/C,EACD,C,uCAqBQ,oBACCK,CAAAA,MADD,CACY,KAAKM,KADjB,CACCN,MADD,kBAEoB,KAAKT,KAFzB,CAECmB,OAFD,cAECA,OAFD,CAEUC,KAFV,cAEUA,KAFV,CAGP,MACE,4BACE,EAAE,CAAEX,MAAM,CAAG,mBAAH,CAAyB,EADrC,CAEE,GAAG,CAAE,KAAKR,aAFZ,CAGE,SAAS,CAAC,WAHZ,EAKE,8BACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,yBACP,CAAA,MAAI,CAACO,QAAL,CAAc,CACZC,MAAM,CAAE,CAACA,MADG,CAAd,CADO,EAFX,EAQGW,KAAK,CACJ,wCACGA,KAAK,CAACC,GAAN,CAAY,2BAAK,GAAG,CAAED,KAAK,CAACC,GAAhB,EAAZ,CAAsC,EADzC,CAEGD,KAAK,CAACE,IAFT,CADI,CAMJ,EAdJ,CALF,CAsBE,0BAAI,SAAS,CAAC,iBAAd,EACGH,OAAO,EAAIA,OAAO,CAACI,MAAR,CAAiB,CAA5B,CACGJ,OAAO,CAACK,GAAR,CAAY,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACpB,MACE,2BACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAChB,MAAL,CAAYe,CAAZ,CAAN,EAFX,CAGE,GAAG,CAAEC,CAHP,EAKGD,CAAC,CAACJ,GAAF,CAAQ,2BAAK,GAAG,CAAEI,CAAC,CAACJ,GAAZ,EAAR,CAA8B,EALjC,CAMGI,CAAC,CAACH,IANL,CADF,CAUD,CAXD,CADH,CAaG,EAdN,CAtBF,CADF,CAyCD,C,uBA/EqBxB,S,EAoFxB,cAAeC,CAAAA,SAAf","sourcesContent":["import React, { Component } from \"react\";\n\nclass SelectBox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  setWrapperRef = (node) => {\n    this.wrapperRef = node;\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  handleClickOutside = (event) => {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({\n        active: false,\n      });\n    }\n  };\n\n  select = (elem) => {\n    const { property_name, with_property } = this.props;\n    if (with_property) {\n      this.props.handleSelect(property_name, elem)\n    } else {\n      this.props.handleSelect(elem);\n    }\n    this.setState({\n        active:false\n    })\n  };\n  render() {\n    const { active } = this.state;\n    const { options, value } = this.props;\n    return (\n      <div\n        id={active ? \"selectbox--active\" : \"\"}\n        ref={this.setWrapperRef}\n        className=\"selectbox\"\n      >\n        <header\n          className=\"flex__start\"\n          onClick={() =>\n            this.setState({\n              active: !active,\n            })\n          }\n        >\n          {value ? (\n            <>\n              {value.img ? <img src={value.img} /> : \"\"}\n              {value.name}\n            </>\n          ) : (\n            \"\"\n          )}\n        </header>\n        <ul className=\"selectbox__list\">\n          {options && options.length > 0\n            ? options.map((m, i) => {\n                return (\n                  <li\n                    className=\"flex__start\"\n                    onClick={() => this.select(m)}\n                    key={i}\n                  >\n                    {m.img ? <img src={m.img} /> : \"\"}\n                    {m.name}\n                  </li>\n                );\n              })\n            : \"\"}\n        </ul>\n      </div>\n    );\n  }\n}\n\nSelectBox.propTypes = {};\n\nexport default SelectBox;\n"]},"metadata":{},"sourceType":"module"}