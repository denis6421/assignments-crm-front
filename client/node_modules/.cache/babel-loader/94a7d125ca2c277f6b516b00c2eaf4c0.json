{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/todo/front/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{CopyToClipboard}from\"react-copy-to-clipboard\";import generator from\"generate-password\";import CheckCircleIcon from\"@material-ui/icons/CheckCircle\";import{connect}from\"react-redux\";import*as actions from\"../../actions/actions\";import FileCopyOutlinedIcon from\"@material-ui/icons/FileCopyOutlined\";import RotateLeftOutlinedIcon from\"@material-ui/icons/RotateLeftOutlined\";import BtnWithTooltip from\"../../parts/BtnWithTooltip\";import CheckCircleOutlineOutlinedIcon from'@material-ui/icons/CheckCircleOutlineOutlined';var PasswordInput=/*#__PURE__*/function(_Component){_inherits(PasswordInput,_Component);function PasswordInput(){var _this;_classCallCheck(this,PasswordInput);_this=_possibleConstructorReturn(this,_getPrototypeOf(PasswordInput).call(this));_this.generatePassword=function(){var password=generator.generate({length:10,uppercase:false});_this.setState({generated:true,error:false});setTimeout(function(){_this.setState({generated:false});},3000);_this.handleChange(password);};_this.handleChange=function(value){var input=_this.props.input;var property_name=input.property_name;_this.props.updateParentState(\"pw_changed\",true);_this.props.handleUpdate(property_name,value);};_this.handleBlur=function(){var value=_this.props.value;_this.setState({active:value});_this.setState({error:!value});};_this.handleFocus=function(){_this.setState({active:true,validation_error:false,error:false});};_this.handleCopy=function(){_this.setState({copied:true});setTimeout(function(){_this.setState({copied:false});},2000);};_this.state={};return _this;}_createClass(PasswordInput,[{key:\"componentDidMount\",value:function componentDidMount(){var is_edit=this.props.is_edit;if(is_edit){this.setState({active:true});}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var _this$props=this.props,validate=_this$props.validate,input=_this$props.input,value=_this$props.value,is_edit=_this$props.is_edit;var type=input.type;if(nextProps.validate!==validate&&!is_edit){this.handleBlur(type,value);}}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,input=_this$props2.input,value=_this$props2.value,is_edit=_this$props2.is_edit;console.log(value);var empty_text=input.empty_text,label=input.label;var _this$state=this.state,active=_this$state.active,error=_this$state.error,generated=_this$state.generated,copied=_this$state.copied;var system_text=this.props.global.system_text;return React.createElement(\"div\",{id:\"password__input\",className:active||value?\"text__input text__input--active flex__start\":\"text__input flex__start\"},React.createElement(\"input\",{placeholder:system_text[label],onChange:function onChange(e){return _this2.handleChange(e.target.value);},type:\"password\",value:value?value:!value&&is_edit?\"********\":\"\",autocomplete:\"false\"}),React.createElement(CopyToClipboard,{text:value,onCopy:function onCopy(){return _this2.handleCopy();}},React.createElement(\"aside\",{style:{opacity:value?1:0.7,pointerEvents:value?'all':'none'}},React.createElement(BtnWithTooltip,{svg:copied?React.createElement(CheckCircleOutlineOutlinedIcon,null):React.createElement(FileCopyOutlinedIcon,null),tooltip:system_text.COPY}))),React.createElement(BtnWithTooltip,{svg:generated?React.createElement(CheckCircleOutlineOutlinedIcon,null):React.createElement(RotateLeftOutlinedIcon,null),handleClick:this.generatePassword,value:true,tooltip:system_text.GENERATE}),error?React.createElement(\"p\",{className:\"text__input__error\"},system_text[empty_text]):\"\");}}]);return PasswordInput;}(Component);function mapStateToProps(_ref){var global=_ref.global;return{global:global};}export default connect(mapStateToProps,actions)(PasswordInput);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/parts/inputs/PasswordInput.jsx"],"names":["React","Component","CopyToClipboard","generator","CheckCircleIcon","connect","actions","FileCopyOutlinedIcon","RotateLeftOutlinedIcon","BtnWithTooltip","CheckCircleOutlineOutlinedIcon","PasswordInput","generatePassword","password","generate","length","uppercase","setState","generated","error","setTimeout","handleChange","value","input","props","property_name","updateParentState","handleUpdate","handleBlur","active","handleFocus","validation_error","handleCopy","copied","state","is_edit","nextProps","validate","type","console","log","empty_text","label","system_text","global","e","target","opacity","pointerEvents","COPY","GENERATE","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport generator from \"generate-password\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../actions/actions\";\nimport FileCopyOutlinedIcon from \"@material-ui/icons/FileCopyOutlined\";\nimport RotateLeftOutlinedIcon from \"@material-ui/icons/RotateLeftOutlined\";\nimport BtnWithTooltip from \"../../parts/BtnWithTooltip\";\nimport CheckCircleOutlineOutlinedIcon from '@material-ui/icons/CheckCircleOutlineOutlined';\n\n\nclass PasswordInput extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n  componentDidMount() {\n    const { is_edit } = this.props;\n    if (is_edit) {\n      this.setState({\n        active: true,\n      });\n    }\n  }\n  generatePassword = () => {\n    var password = generator.generate({\n      length: 10,\n      uppercase: false,\n    });\n    this.setState({\n      generated: true,\n      error: false,\n    });\n   setTimeout(() => {\n    this.setState({\n      generated:false\n    })\n   }, 3000);\n    this.handleChange(password);\n  };\n\n  handleChange = (value) => {\n    const { input } = this.props;\n    const { property_name } = input;\n    this.props.updateParentState(\"pw_changed\", true);\n    this.props.handleUpdate(property_name, value);\n  };\n  handleBlur = () => {\n    const { value } = this.props;\n    this.setState({\n      active: value,\n    });\n\n    this.setState({\n      error: !value,\n    });\n  };\n  handleFocus = () => {\n    this.setState({\n      active: true,\n      validation_error: false,\n      error: false,\n    });\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const { validate, input, value, is_edit } = this.props;\n    const { type } = input;\n    if (nextProps.validate !== validate && !is_edit) {\n      this.handleBlur(type, value);\n    }\n  }\n  handleCopy = () => {\n    this.setState({\n      copied: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        copied: false,\n      });\n    }, 2000);\n  };\n  render() {\n    const { input, value, is_edit } = this.props;\n    console.log(value)\n    const { empty_text, label } = input;\n    const { active, error, generated, copied } = this.state;\n    const { system_text } = this.props.global;\n    return (\n      <div\n        id=\"password__input\"\n        className={\n          active || value\n            ? \"text__input text__input--active flex__start\"\n            : \"text__input flex__start\"\n        }\n      >\n        <input\n          placeholder={system_text[label]}\n          onChange={(e) => this.handleChange(e.target.value)}\n          type=\"password\"\n          value={value ? value : !value && is_edit ? \"********\" : \"\"}\n          autocomplete=\"false\"\n        />\n\n        <CopyToClipboard text={value} onCopy={() => this.handleCopy()}>\n          <aside\n          style ={{\n            opacity:value ? 1 : 0.7,\n            pointerEvents:value ? 'all' : 'none'\n          }}\n          >\n          <BtnWithTooltip\n            svg={copied  ? <CheckCircleOutlineOutlinedIcon /> : <FileCopyOutlinedIcon />}\n            tooltip={system_text.COPY}\n          ></BtnWithTooltip >\n          </aside>\n        </CopyToClipboard>\n        <BtnWithTooltip\n          svg={generated  ?<CheckCircleOutlineOutlinedIcon /> : <RotateLeftOutlinedIcon />}\n          handleClick={this.generatePassword}\n          value={true}\n          tooltip={system_text.GENERATE}\n        />\n        {error ? (\n          <p className=\"text__input__error\">{system_text[empty_text]}</p>\n        ) : (\n          \"\"\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ global }) {\n  return { global };\n}\n\nexport default connect(mapStateToProps, actions)(PasswordInput);\n"]},"metadata":{},"sourceType":"module"}