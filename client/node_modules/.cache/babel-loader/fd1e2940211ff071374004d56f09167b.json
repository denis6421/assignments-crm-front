{"ast":null,"code":"var _jsxFileName = \"/Users/denis/Desktop/projects/todo/front/client/src/components/dashboard/Dashboard.jsx\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch, withRouter } from \"react-router-dom\";\nimport { EMPLOYEES_ROUTE, EMPLOYEE_ROUTE, ASSIGNMENTS_ROUTE, OVERVIEW_ROUTE, SETTINGS_ROUTE, EMPLOYEE_ASSIGNMENT_ROUTE } from '../../tools/routes';\nimport Employees from '../employees/Employees';\nimport Navbar from '../navbar/Navbar';\nimport EmployeePage from '../employee-page/EmployeePage';\nimport AssignmentTemplates from '../assignments/AssignmentTemplates';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/actions';\nimport Overview from '../overview/Overview';\nimport Settings from '../settings/Settings';\nimport { manager_navigations } from '../navbar/navigations';\nimport { manager_settings } from '../settings/settings_routes';\nimport { apiGetRequest } from '../../tools/api';\nimport EmployeeAssignmentPage from '../employee-page/employee-assignment-page/EmployeeAssignmentPage';\nimport InvalidRoute from '../invalid-route/InvalidRoute';\n\nclass Dashboard extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  async componentDidMount() {\n    const user = this.props.user.user;\n    console.log(user);\n    const api = \"account-settings?id=\".concat(user._id);\n    const res = await apiGetRequest(api);\n\n    if (res.ok) {\n      this.props.updateUserReducer('permissions', res.result.permissions);\n      this.props.setSystemLanguage(res.result.language);\n    }\n  }\n\n  render() {\n    const user = this.props.user.user;\n    const language = this.props.global.language;\n    return user && user.is_manager && language ? React.createElement(\"div\", {\n      className: \"dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      navigations: manager_navigations,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: EMPLOYEES_ROUTE,\n      render: () => React.createElement(Employees, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: OVERVIEW_ROUTE,\n      render: () => React.createElement(Overview, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: EMPLOYEE_ROUTE,\n      render: () => React.createElement(EmployeePage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: EMPLOYEE_ASSIGNMENT_ROUTE,\n      render: () => React.createElement(EmployeeAssignmentPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: ASSIGNMENTS_ROUTE,\n      render: () => React.createElement(AssignmentTemplates, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: SETTINGS_ROUTE,\n      render: () => React.createElement(Settings, {\n        settings_routes: manager_settings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"*\",\n      exact: true,\n      component: InvalidRoute,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })))) : '';\n  }\n\n}\n\nfunction mapStateToProps({\n  user,\n  global\n}) {\n  return {\n    user,\n    global\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(Dashboard));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/todo/front/client/src/components/dashboard/Dashboard.jsx"],"names":["React","Component","BrowserRouter","Router","Route","Switch","withRouter","EMPLOYEES_ROUTE","EMPLOYEE_ROUTE","ASSIGNMENTS_ROUTE","OVERVIEW_ROUTE","SETTINGS_ROUTE","EMPLOYEE_ASSIGNMENT_ROUTE","Employees","Navbar","EmployeePage","AssignmentTemplates","connect","actions","Overview","Settings","manager_navigations","manager_settings","apiGetRequest","EmployeeAssignmentPage","InvalidRoute","Dashboard","constructor","state","componentDidMount","user","props","console","log","api","_id","res","ok","updateUserReducer","result","permissions","setSystemLanguage","language","render","global","is_manager","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { BrowserRouter as Router, Route, Switch, withRouter } from \"react-router-dom\"\nimport { EMPLOYEES_ROUTE, EMPLOYEE_ROUTE, ASSIGNMENTS_ROUTE, OVERVIEW_ROUTE, SETTINGS_ROUTE, EMPLOYEE_ASSIGNMENT_ROUTE } from '../../tools/routes'\nimport Employees from '../employees/Employees'\nimport Navbar from '../navbar/Navbar'\nimport EmployeePage from '../employee-page/EmployeePage'\nimport AssignmentTemplates from '../assignments/AssignmentTemplates'\nimport { connect } from 'react-redux'\nimport * as actions from '../../actions/actions'\nimport Overview from '../overview/Overview'\nimport Settings from '../settings/Settings'\nimport { manager_navigations } from '../navbar/navigations'\nimport { manager_settings } from '../settings/settings_routes'\nimport { apiGetRequest } from '../../tools/api'\nimport EmployeeAssignmentPage from '../employee-page/employee-assignment-page/EmployeeAssignmentPage'\nimport InvalidRoute from '../invalid-route/InvalidRoute'\n\nclass Dashboard extends Component {\n  constructor(){\n    super()\n    this.state = {\n\n    }\n  }\n  async componentDidMount(){\n    const {user} = this.props.user\n    console.log(user)\n    const api = `account-settings?id=${user._id}`\n    const res  = await apiGetRequest(api)\n    if(res.ok){\n    \n        this.props.updateUserReducer('permissions', res.result.permissions)\n        this.props.setSystemLanguage(res.result.language)\n    }\n  }\n  \n    render () {\n      const {user} = this.props.user\n        const {language} = this.props.global\n        return (\n          user && user.is_manager && language?   <div className='dashboard'>\n                    <Router>\n                        <Navbar \n                        navigations  ={manager_navigations}\n                        />\n                        <Switch>\n                            <Route exact path={EMPLOYEES_ROUTE} render={() => <Employees />} />\n                            <Route exact path={OVERVIEW_ROUTE} render={() => <Overview />} />\n                            <Route  path={EMPLOYEE_ROUTE} render={() => <EmployeePage />} />\n                            <Route  path={EMPLOYEE_ASSIGNMENT_ROUTE} render={() => <EmployeeAssignmentPage />} />\n                            <Route exact path={ASSIGNMENTS_ROUTE} render={() => <AssignmentTemplates />} />\n                            <Route  path={SETTINGS_ROUTE} render={() => <Settings \n                            settings_routes = {manager_settings}\n                            />} />\n                             <Route path='*' exact={true} component={InvalidRoute} />\n                        </Switch>\n                    </Router>\n                </div> : ''\n        )\n    }\n}\n\nfunction mapStateToProps({ user, global }) {\n    return { user, global }\n  }\n  \n  export default withRouter(connect(mapStateToProps, actions)(Dashboard))\n  "]},"metadata":{},"sourceType":"module"}