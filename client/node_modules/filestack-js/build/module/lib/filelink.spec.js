/*
 * Copyright (c) 2019 by Filestack.
 * Some rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { Filelink, ShapeType, VideoAccessMode, FitOptions, Align } from './filelink';
import { TransformSchema } from './../schema/transforms.schema';
import * as validator from '../schema';
describe('filelink', function () {
    beforeAll(function () {
        spyOn(validator, 'getValidator').and.callThrough();
    });
    var defaultSource = '5aYkEQJSQCmYShsoCnZN';
    var defaultApikey = 'DEFAULT_API_KEY';
    it('should properly instantiate Filelink', function () {
        var filelink = new Filelink(defaultSource);
        expect(filelink).toBeDefined();
        expect(filelink).toBeInstanceOf(Filelink);
    });
    it('should throw an error when handle is invalid', function () {
        var source = '*/5aYkEQJSQCmYShsoCnZN';
        expect(function () {
            var f = new Filelink(source);
        }).toThrow('Invalid filestack source provided');
    });
    it('should support workflows source', function () {
        var source = 'wf://975092d5-2eb3-460e-aca8-e7b00a0838d5/2ec47319-24c8-4ced-9ae3-10a6d450a736/1c04a766e53633f1256759f2d06a50a3';
        expect(function () {
            var f = new Filelink(source);
        }).not.toThrow();
    });
    it('should throw an error when external handle and without apikey', function () {
        var source = 'src://test123/example.jpg';
        expect(function () {
            var filelink = new Filelink(source);
        }).toThrow('External sources requires apikey to handle transforms');
    });
    it('should be able to convert filelink to string', function () {
        var filelink = new Filelink(defaultSource);
        var result = filelink.toString();
        expect(result).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should allow to set validator status with toString method', function () {
        var filelink = new Filelink(defaultSource);
        filelink.setUseValidator(false);
        expect(filelink.resize({
            // @ts-ignore
            t: 1,
        }).toString()).toEqual('https://cdn.filestackcontent.com/resize=t:1/5aYkEQJSQCmYShsoCnZN');
    });
    it('should allow to set validator status with getTransformations method', function () {
        var filelink = new Filelink(defaultSource);
        filelink.setUseValidator(false);
        filelink.resize({
            // @ts-ignore
            t: 1,
        });
        expect(filelink.getTransformations()).toEqual([{
                name: 'resize',
                params: { t: 1 },
            }]);
    });
    it('should create filelink with apikey when is provided', function () {
        var filelink = new Filelink(defaultSource, defaultApikey);
        var result = filelink.toString();
        expect(result).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to use many tasks at once and reset them', function () {
        var filelink = new Filelink(defaultSource);
        var resizeParams = {
            width: 200,
        };
        var rotateParams = {
            deg: 90,
        };
        filelink
            .resize(resizeParams)
            .rotate(rotateParams)
            .crop({
            dim: [20, 20, 250, 250],
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/resize=width:200/rotate=deg:90/crop=dim:[20,20,250,250]/5aYkEQJSQCmYShsoCnZN');
        filelink.reset();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to get transformations', function () {
        var filelink = new Filelink(defaultSource);
        var resizeParams = {
            width: 200,
        };
        var rotateParams = {
            deg: 90,
        };
        filelink
            .resize(resizeParams)
            .rotate(rotateParams)
            .crop({
            dim: [20, 20, 250, 250],
        });
        var expected = [{ name: 'resize', params: { width: 200 } }, { name: 'rotate', params: { deg: 90 } }, { name: 'crop', params: { dim: [20, 20, 250, 250] } }];
        expect(filelink.getTransformations()).toEqual(expected);
    });
    it('should be able to getValidationSchema', function () {
        var filelink = new Filelink(defaultSource);
        var result = filelink.getValidationSchema();
        expect(result).toEqual(TransformSchema);
    });
    it('should not require apikay on filestack external url', function () {
        var filelink = new Filelink('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
        filelink.shadow(false).upscale();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/upscale/\"https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN\"');
    });
    it('should be able to disable selected task', function () {
        var filelink = new Filelink(defaultSource);
        filelink.shadow(false).upscale();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/upscale/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to create filelink for many handles', function () {
        var sourceArr = ['5aYkEQJSQCmYShsoCnZN', '4aYkEQJSQCmYShsoCnZN'];
        var filelink = new Filelink(sourceArr);
        expect(filelink.toString()).toEqual('https://cdn.filestackcontent.com/[5aYkEQJSQCmYShsoCnZN,4aYkEQJSQCmYShsoCnZN]');
        filelink.setBase64(true);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/b64://WzVhWWtFUUpTUUNtWVNoc29DblpOLDRhWWtFUUpTUUNtWVNoc29DblpOXQ==');
    });
    it('should be able to create filelink for many src handles', function () {
        var sourceArr = ['src://test123/example.jpg', 'src://test123/flug_9-trans_atlantik-400dpi.jpg'];
        var filelink = new Filelink(sourceArr, defaultApikey);
        expect(filelink.toString()).toEqual('https://cdn.filestackcontent.com/DEFAULT_API_KEY/["src://test123/example.jpg","src://test123/flug_9-trans_atlantik-400dpi.jpg"]');
    });
    it('should throw an error if task params are not valid', function () {
        var filelink = new Filelink(defaultSource);
        expect(function () {
            // @ts-ignore
            filelink.resize({ r: 2 }).toString();
        }).toThrow('Params validation error');
    });
    it('should omit transformations with empty options', function () {
        var filelink = new Filelink(defaultSource);
        filelink.upscale(false);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should throw an error if source does not exists', function () {
        expect(function () {
            return new Filelink('');
        }).toThrow('Source not Set');
    });
    describe('Different tasks', function () {
        var filelink = new Filelink(defaultSource, defaultApikey);
        afterEach(function () {
            filelink = new Filelink(defaultSource, defaultApikey);
        });
        it('should be able to create filelink when handle is base64', function () {
            filelink.upscale();
            filelink.setBase64(true);
            expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/b64/W3sibmFtZSI6InVwc2NhbGUifV0=/b64://NWFZa0VRSlNRQ21ZU2hzb0NuWk4=');
        });
        it('should be able to use custom cname', function () {
            var cname = 'newcname.com';
            filelink.setCname(cname);
            expect(filelink.toString()).toBe('https://cdn.newcname.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to use custom domain', function () {
            var customDomain = 'https://customDomain.com';
            filelink.setCustomDomain(customDomain);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to autoImage transformation', function () {
            filelink.autoImage();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/auto_image/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add flip', function () {
            filelink.flip();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/flip/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add flop', function () {
            filelink.flop();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/flop/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to enhance', function () {
            filelink.enhance();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/enhance/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to redeye', function () {
            filelink.redeye();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/redeye/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to monochrome', function () {
            filelink.monochrome();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/monochrome/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to negative', function () {
            filelink.negative();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/negative/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to tags', function () {
            filelink.tags();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/tags/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to sfw', function () {
            filelink.sfw();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/sfw/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to store', function () {
            var storeParams = {};
            filelink.store(storeParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/store/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to disable cache', function () {
            filelink.cache(false);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/cache=false/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to set cache params', function () {
            var cacheParams = {
                expiry: 666,
            };
            filelink.cache(cacheParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/cache=expiry:666/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able add animation transform', function () {
            var params = {
                loop: 1,
                delay: 10,
                width: 10,
                height: 10,
                fit: FitOptions.scale,
                background: 'transparent',
                align: [Align.top, Align.center],
            };
            filelink.animate(params);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/animate=loop:1,delay:10,width:10,height:10,fit:scale,background:transparent,align:[top,center]/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to resize', function () {
            var resizeParams = {
                width: 200,
            };
            filelink.resize(resizeParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/resize=width:200/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to crop', function () {
            filelink.crop({
                dim: [20, 20, 250, 250],
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/crop=dim:[20,20,250,250]/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to rotate', function () {
            var rotateParams = {
                deg: 90,
            };
            filelink.rotate(rotateParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/rotate=deg:90/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to detect faces', function () {
            filelink.detectFaces({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/detect_faces/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to crop faces', function () {
            filelink.cropFaces({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/crop_faces/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to pixelate faces', function () {
            filelink.pixelateFaces({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/pixelate_faces/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to blur faces', function () {
            var blurFacesParams = {
                amount: 3,
                blur: 5,
                type: ShapeType.oval,
            };
            filelink.blurFaces(blurFacesParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/blur_faces=amount:3,blur:5,type:oval/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to round cornerns', function () {
            var roundedCornersParams = {
                radius: 50,
                blur: 5,
            };
            filelink.roundedCorners(roundedCornersParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/rounded_corners=radius:50,blur:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to polaroid', function () {
            var polaroidParams = {
                color: 'ff0000',
                rotate: 50,
            };
            filelink.polaroid(polaroidParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/polaroid=color:ff0000,rotate:50/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to vignette', function () {
            var vignetteParams = {
                background: 'ff0000',
                amount: 5,
            };
            filelink.vignette(vignetteParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/vignette=background:ff0000,amount:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to tornEdges', function () {
            filelink.tornEdges({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/torn_edges/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to shadow', function () {
            filelink.shadow();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/shadow/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to circle', function () {
            filelink.circle({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/circle/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to border', function () {
            filelink.border();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/border/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to vignette', function () {
            filelink.vignette({});
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/vignette/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to sharpen', function () {
            var sharpenParams = {
                amount: 5,
            };
            filelink.sharpen(sharpenParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/sharpen=amount:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to blur', function () {
            var blurParams = {
                amount: 5,
            };
            filelink.blur(blurParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/blur=amount:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to blackwhite', function () {
            var blackwhiteParams = {
                threshold: 50,
            };
            filelink.blackwhite(blackwhiteParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/blackwhite=threshold:50/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to sepia', function () {
            filelink.sepia();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/sepia/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to pixelate', function () {
            filelink.pixelate();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/pixelate/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to oilPaint', function () {
            filelink.oilPaint();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/oil_paint/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to modulate', function () {
            filelink.modulate();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/modulate/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to partialPixelate', function () {
            filelink.partialPixelate({
                objects: [[20, 20, 50, 50]],
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/partial_pixelate=objects:[[20,20,50,50]]/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to partialBlur', function () {
            filelink.partialBlur({
                amount: 5,
                objects: [[20, 20, 50, 50]],
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/partial_blur=amount:5,objects:[[20,20,50,50]]/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to collage', function () {
            filelink.collage({
                files: ['http://welcome-swiss.com/wp-content/uploads/2015/12/Swiss-landscape.jpg'],
                width: 200,
                height: 200,
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/collage=files:["http://welcome-swiss.com/wp-content/uploads/2015/12/Swiss-landscape.jpg"],width:200,height:200/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to upscale', function () {
            filelink.upscale();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/upscale/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to ascii', function () {
            filelink.ascii();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/ascii/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to quality', function () {
            var qualityParams = {
                value: 5,
            };
            filelink.quality(qualityParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/quality=value:5/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to use security', function () {
            var securityParams = {
                policy: 'examplePolicy',
                signature: 'exampleSignature',
            };
            filelink.security(securityParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/security=policy:examplePolicy,signature:exampleSignature/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able output', function () {
            var outputParams = {
                format: 'png',
            };
            filelink.output(outputParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/output=format:png/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to videoConvert', function () {
            var videoConvertParams = {
                aspect_mode: VideoAccessMode.letterbox,
                upscale: true,
            };
            filelink.videoConvert(videoConvertParams);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/video_convert=aspect_mode:letterbox,upscale:true/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to URLScreenshot', function () {
            filelink.URLScreenshot();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/urlscreenshot/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to PDFInfo', function () {
            filelink.PDFInfo();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/pdfinfo/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to PDFConvert', function () {
            filelink.PDFConvert();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/pdfconvert/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to force cache', function () {
            filelink.cache(true);
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/cache/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add fallback transformation', function () {
            filelink.fallback({
                handle: 'http:test.com',
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/fallback=handle:http:test.com/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add zip trnasformation', function () {
            filelink.zip();
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/zip/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add minify js transformation', function () {
            filelink.minifyJs({
                mangle: true,
                gzip: true,
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/minify_js=mangle:true,gzip:true/5aYkEQJSQCmYShsoCnZN');
        });
        it('should be able to add minify css transformation', function () {
            filelink.minifyCss({
                level: 1,
                gzip: true,
            });
            expect(filelink.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/minify_css=level:1,gzip:true/5aYkEQJSQCmYShsoCnZN');
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvZmlsZWxpbmsuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFFSCxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQW1CLFVBQVUsRUFBRSxLQUFLLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDdEcsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ2hFLE9BQU8sS0FBSyxTQUFTLE1BQU0sV0FBVyxDQUFDO0FBRXZDLFFBQVEsQ0FBQyxVQUFVLEVBQUU7SUFFbkIsU0FBUyxDQUFDO1FBQ1IsS0FBSyxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckQsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFNLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQztJQUM3QyxJQUFNLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQztJQUV4QyxFQUFFLENBQUMsc0NBQXNDLEVBQUU7UUFDekMsSUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQy9CLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDNUMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsOENBQThDLEVBQUU7UUFDakQsSUFBTSxNQUFNLEdBQUcsd0JBQXdCLENBQUM7UUFDeEMsTUFBTSxDQUFDO1lBQ0wsSUFBTSxDQUFDLEdBQUcsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLG1DQUFtQyxDQUFDLENBQUM7SUFDbEQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsaUNBQWlDLEVBQUU7UUFDcEMsSUFBTSxNQUFNLEdB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LENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsNkZBQTZGLENBQUMsQ0FBQztRQUNsSSxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywwQ0FBMEMsRUFBRTtZQUM3QyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDZixNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLG1FQUFtRSxDQUFDLENBQUM7UUFDeEcsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsZ0RBQWdELEVBQUU7WUFDbkQsUUFBUSxDQUFDLFFBQVEsQ0FBQztnQkFDaEIsTUFBTSxFQUFFLElBQUk7Z0JBQ1osSUFBSSxFQUFFLElBQUk7YUFDWCxDQUFDLENBQUM7WUFDSCxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLCtGQUErRixDQUFDLENBQUM7UUFDcEksQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaURBQWlELEVBQUU7WUFDcEQsUUFBUSxDQUFDLFNBQVMsQ0FBQztnQkFDakIsS0FBSyxFQUFFLENBQUM7Z0JBQ1IsSUFBSSxFQUFFLElBQUk7YUFDWCxDQUFDLENBQUM7WUFDSCxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLDRGQUE0RixDQUFDLENBQUM7UUFDakksQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6ImxpYi9maWxlbGluay5zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxOSBieSBGaWxlc3RhY2suXG4gKiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaWxlbGluaywgU2hhcGVUeXBlLCBWaWRlb0FjY2Vzc01vZGUsIEFuaW1hdGlvblBhcmFtcywgRml0T3B0aW9ucywgQWxpZ24gfSBmcm9tICcuL2ZpbGVsaW5rJztcbmltcG9ydCB7IFRyYW5zZm9ybVNjaGVtYSB9IGZyb20gJy4vLi4vc2NoZW1hL3RyYW5zZm9ybXMuc2NoZW1hJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvciBmcm9tICcuLi9zY2hlbWEnO1xuXG5kZXNjcmliZSgnZmlsZWxpbmsnLCAoKSA9PiB7XG5cbiAgYmVmb3JlQWxsKCgpID0+IHtcbiAgICBzcHlPbih2YWxpZGF0b3IsICdnZXRWYWxpZGF0b3InKS5hbmQuY2FsbFRocm91Z2goKTtcbiAgfSk7XG5cbiAgY29uc3QgZGVmYXVsdFNvdXJjZSA9ICc1YVlrRVFKU1FDbVlTaHNvQ25aTic7XG4gIGNvbnN0IGRlZmF1bHRBcGlrZXkgPSAnREVGQVVMVF9BUElfS0VZJztcblxuICBpdCgnc2hvdWxkIHByb3Blcmx5IGluc3RhbnRpYXRlIEZpbGVsaW5rJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGV4cGVjdChmaWxlbGluaykudG9CZURlZmluZWQoKTtcbiAgICBleHBlY3QoZmlsZWxpbmspLnRvQmVJbnN0YW5jZU9mKEZpbGVsaW5rKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciB3aGVuIGhhbmRsZSBpcyBpbnZhbGlkJywgKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9ICcqLzVhWWtFUUpTUUNtWVNoc29DblpOJztcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgZiA9IG5ldyBGaWxlbGluayhzb3VyY2UpO1xuICAgIH0pLnRvVGhyb3coJ0ludmFsaWQgZmlsZXN0YWNrIHNvdXJjZSBwcm92aWRlZCcpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHN1cHBvcnQgd29ya2Zsb3dzIHNvdXJjZScsICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2UgPSAnd2Y6Ly85NzUwOTJkNS0yZWIzLTQ2MGUtYWNhOC1lN2IwMGEwODM4ZDUvMmVjNDczMTktMjRjOC00Y2VkLTlhZTMtMTBhNmQ0NTBhNzM2LzFjMDRhNzY2ZTUzNjMzZjEyNTY3NTlmMmQwNmE1MGEzJztcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgZiA9IG5ldyBGaWxlbGluayhzb3VyY2UpO1xuICAgIH0pLm5vdC50b1Rocm93KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3Igd2hlbiBleHRlcm5hbCBoYW5kbGUgYW5kIHdpdGhvdXQgYXBpa2V5JywgKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9ICdzcmM6Ly90ZXN0MTIzL2V4YW1wbGUuanBnJztcblxuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhzb3VyY2UpO1xuICAgIH0pLnRvVGhyb3coJ0V4dGVybmFsIHNvdXJjZXMgcmVxdWlyZXMgYXBpa2V5IHRvIGhhbmRsZSB0cmFuc2Zvcm1zJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjb252ZXJ0IGZpbGVsaW5rIHRvIHN0cmluZycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBjb25zdCByZXN1bHQgPSBmaWxlbGluay50b1N0cmluZygpO1xuICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYWxsb3cgdG8gc2V0IHZhbGlkYXRvciBzdGF0dXMgd2l0aCB0b1N0cmluZyBtZXRob2QnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSk7XG4gICAgZmlsZWxpbmsuc2V0VXNlVmFsaWRhdG9yKGZhbHNlKTtcblxuICAgIGV4cGVjdChmaWxlbGluay5yZXNpemUoe1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdDogMSxcbiAgICB9KS50b1N0cmluZygpKS50b0VxdWFsKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9yZXNpemU9dDoxLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYWxsb3cgdG8gc2V0IHZhbGlkYXRvciBzdGF0dXMgd2l0aCBnZXRUcmFuc2Zvcm1hdGlvbnMgbWV0aG9kJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGZpbGVsaW5rLnNldFVzZVZhbGlkYXRvcihmYWxzZSk7XG4gICAgZmlsZWxpbmsucmVzaXplKHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHQ6IDEsXG4gICAgfSk7XG5cbiAgICBleHBlY3QoZmlsZWxpbmsuZ2V0VHJhbnNmb3JtYXRpb25zKCkpLnRvRXF1YWwoW3tcbiAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgcGFyYW1zOiB7IHQ6IDEgfSxcbiAgICB9XSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY3JlYXRlIGZpbGVsaW5rIHdpdGggYXBpa2V5IHdoZW4gaXMgcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSwgZGVmYXVsdEFwaWtleSk7XG4gICAgY29uc3QgcmVzdWx0ID0gZmlsZWxpbmsudG9TdHJpbmcoKTtcbiAgICBleHBlY3QocmVzdWx0KS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHVzZSBtYW55IHRhc2tzIGF0IG9uY2UgYW5kIHJlc2V0IHRoZW0nLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSk7XG4gICAgY29uc3QgcmVzaXplUGFyYW1zID0ge1xuICAgICAgd2lkdGg6IDIwMCxcbiAgICB9O1xuICAgIGNvbnN0IHJvdGF0ZVBhcmFtcyA9IHtcbiAgICAgIGRlZzogOTAsXG4gICAgfTtcbiAgICBmaWxlbGlua1xuICAgICAgLnJlc2l6ZShyZXNpemVQYXJhbXMpXG4gICAgICAucm90YXRlKHJvdGF0ZVBhcmFtcylcbiAgICAgIC5jcm9wKHtcbiAgICAgICAgZGltOiBbMjAsIDIwLCAyNTAsIDI1MF0sXG4gICAgICB9KTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vcmVzaXplPXdpZHRoOjIwMC9yb3RhdGU9ZGVnOjkwL2Nyb3A9ZGltOlsyMCwyMCwyNTAsMjUwXS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIGZpbGVsaW5rLnJlc2V0KCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBnZXQgdHJhbnNmb3JtYXRpb25zJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGNvbnN0IHJlc2l6ZVBhcmFtcyA9IHtcbiAgICAgIHdpZHRoOiAyMDAsXG4gICAgfTtcbiAgICBjb25zdCByb3RhdGVQYXJhbXMgPSB7XG4gICAgICBkZWc6IDkwLFxuICAgIH07XG4gICAgZmlsZWxpbmtcbiAgICAgIC5yZXNpemUocmVzaXplUGFyYW1zKVxuICAgICAgLnJvdGF0ZShyb3RhdGVQYXJhbXMpXG4gICAgICAuY3JvcCh7XG4gICAgICAgIGRpbTogWzIwLCAyMCwgMjUwLCAyNTBdLFxuICAgICAgfSk7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBbeyBuYW1lOiAncmVzaXplJywgcGFyYW1zOiB7IHdpZHRoOiAyMDAgfSB9LCB7IG5hbWU6ICdyb3RhdGUnLCBwYXJhbXM6IHsgZGVnOiA5MCB9IH0sIHsgbmFtZTogJ2Nyb3AnLCBwYXJhbXM6IHsgZGltOiBbMjAsIDIwLCAyNTAsIDI1MF0gfSB9XTtcbiAgICBleHBlY3QoZmlsZWxpbmsuZ2V0VHJhbnNmb3JtYXRpb25zKCkpLnRvRXF1YWwoZXhwZWN0ZWQpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZ2V0VmFsaWRhdGlvblNjaGVtYScsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBjb25zdCByZXN1bHQgPSBmaWxlbGluay5nZXRWYWxpZGF0aW9uU2NoZW1hKCk7XG4gICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChUcmFuc2Zvcm1TY2hlbWEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5vdCByZXF1aXJlIGFwaWtheSBvbiBmaWxlc3RhY2sgZXh0ZXJuYWwgdXJsJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIGZpbGVsaW5rLnNoYWRvdyhmYWxzZSkudXBzY2FsZSgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS91cHNjYWxlL1xcXCJodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS81YVlrRVFKU1FDbVlTaHNvQ25aTlxcXCInKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGRpc2FibGUgc2VsZWN0ZWQgdGFzaycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBmaWxlbGluay5zaGFkb3coZmFsc2UpLnVwc2NhbGUoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vdXBzY2FsZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gY3JlYXRlIGZpbGVsaW5rIGZvciBtYW55IGhhbmRsZXMnLCAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlQXJyID0gWyc1YVlrRVFKU1FDbVlTaHNvQ25aTicsICc0YVlrRVFKU1FDbVlTaHNvQ25aTiddO1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKHNvdXJjZUFycik7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvRXF1YWwoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL1s1YVlrRVFKU1FDbVlTaHNvQ25aTiw0YVlrRVFKU1FDbVlTaHNvQ25aTl0nKTtcbiAgICBmaWxlbGluay5zZXRCYXNlNjQodHJ1ZSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL2I2NDovL1d6VmhXV3RGVVVwVFVVTnRXVk5vYzI5RGJscE9MRFJoV1d0RlVVcFRVVU50V1ZOb2MyOURibHBPWFE9PScpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gY3JlYXRlIGZpbGVsaW5rIGZvciBtYW55IHNyYyBoYW5kbGVzJywgKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZUFyciA9IFsnc3JjOi8vdGVzdDEyMy9leGFtcGxlLmpwZycsICdzcmM6Ly90ZXN0MTIzL2ZsdWdfOS10cmFuc19hdGxhbnRpay00MDBkcGkuanBnJ107XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoc291cmNlQXJyLCBkZWZhdWx0QXBpa2V5KTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9FcXVhbCgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL1tcInNyYzovL3Rlc3QxMjMvZXhhbXBsZS5qcGdcIixcInNyYzovL3Rlc3QxMjMvZmx1Z185LXRyYW5zX2F0bGFudGlrLTQwMGRwaS5qcGdcIl0nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBpZiB0YXNrIHBhcmFtcyBhcmUgbm90IHZhbGlkJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBmaWxlbGluay5yZXNpemUoeyByOiAyIH0pLnRvU3RyaW5nKCk7XG4gICAgfSkudG9UaHJvdygnUGFyYW1zIHZhbGlkYXRpb24gZXJyb3InKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBvbWl0IHRyYW5zZm9ybWF0aW9ucyB3aXRoIGVtcHR5IG9wdGlvbnMnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSk7XG4gICAgZmlsZWxpbmsudXBzY2FsZShmYWxzZSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgc291cmNlIGRvZXMgbm90IGV4aXN0cycsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBGaWxlbGluaygnJyk7XG4gICAgfSkudG9UaHJvdygnU291cmNlIG5vdCBTZXQnKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RpZmZlcmVudCB0YXNrcycsICgpID0+IHtcbiAgICBsZXQgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSwgZGVmYXVsdEFwaWtleSk7XG4gICAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICAgIGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UsIGRlZmF1bHRBcGlrZXkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGNyZWF0ZSBmaWxlbGluayB3aGVuIGhhbmRsZSBpcyBiYXNlNjQnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay51cHNjYWxlKCk7XG4gICAgICBmaWxlbGluay5zZXRCYXNlNjQodHJ1ZSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2I2NC9XM3NpYm1GdFpTSTZJblZ3YzJOaGJHVWlmVjA9L2I2NDovL05XRlphMFZSU2xOUlEyMVpVMmh6YjBOdVdrND0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB1c2UgY3VzdG9tIGNuYW1lJywgKCkgPT4ge1xuICAgICAgY29uc3QgY25hbWUgPSAnbmV3Y25hbWUuY29tJztcbiAgICAgIGZpbGVsaW5rLnNldENuYW1lKGNuYW1lKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5uZXdjbmFtZS5jb20vREVGQVVMVF9BUElfS0VZLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdXNlIGN1c3RvbSBkb21haW4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21Eb21haW4gPSAnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tJztcbiAgICAgIGZpbGVsaW5rLnNldEN1c3RvbURvbWFpbihjdXN0b21Eb21haW4pO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhdXRvSW1hZ2UgdHJhbnNmb3JtYXRpb24nLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5hdXRvSW1hZ2UoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2F1dG9faW1hZ2UvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhZGQgZmxpcCcsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLmZsaXAoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2ZsaXAvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhZGQgZmxvcCcsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLmZsb3AoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2Zsb3AvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBlbmhhbmNlJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuZW5oYW5jZSgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvZW5oYW5jZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHJlZGV5ZScsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnJlZGV5ZSgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvcmVkZXllLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gbW9ub2Nocm9tZScsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLm1vbm9jaHJvbWUoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL21vbm9jaHJvbWUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBuZWdhdGl2ZScsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLm5lZ2F0aXZlKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9uZWdhdGl2ZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHRhZ3MnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay50YWdzKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS90YWdzLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2Z3JywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuc2Z3KCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9zZncvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBzdG9yZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0b3JlUGFyYW1zID0ge307XG4gICAgICBmaWxlbGluay5zdG9yZShzdG9yZVBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9zdG9yZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGRpc2FibGUgY2FjaGUnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5jYWNoZShmYWxzZSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9jYWNoZT1mYWxzZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHNldCBjYWNoZSBwYXJhbXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjYWNoZVBhcmFtcyA9IHtcbiAgICAgICAgZXhwaXJ5OiA2NjYsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsuY2FjaGUoY2FjaGVQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvY2FjaGU9ZXhwaXJ5OjY2Ni81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIGFkZCBhbmltYXRpb24gdHJhbnNmb3JtJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zOiBBbmltYXRpb25QYXJhbXMgPSB7XG4gICAgICAgIGxvb3A6IDEsXG4gICAgICAgIGRlbGF5OiAxMCxcbiAgICAgICAgd2lkdGg6IDEwLFxuICAgICAgICBoZWlnaHQ6IDEwLFxuICAgICAgICBmaXQ6IEZpdE9wdGlvbnMuc2NhbGUsXG4gICAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIGFsaWduOiBbQWxpZ24udG9wLCBBbGlnbi5jZW50ZXJdLFxuICAgICAgfTtcblxuICAgICAgZmlsZWxpbmsuYW5pbWF0ZShwYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvYW5pbWF0ZT1sb29wOjEsZGVsYXk6MTAsd2lkdGg6MTAsaGVpZ2h0OjEwLGZpdDpzY2FsZSxiYWNrZ3JvdW5kOnRyYW5zcGFyZW50LGFsaWduOlt0b3AsY2VudGVyXS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHJlc2l6ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc2l6ZVBhcmFtcyA9IHtcbiAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgIH07XG4gICAgICBmaWxlbGluay5yZXNpemUocmVzaXplUGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3Jlc2l6ZT13aWR0aDoyMDAvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjcm9wJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuY3JvcCh7XG4gICAgICAgIGRpbTogWzIwLCAyMCwgMjUwLCAyNTBdLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9jcm9wPWRpbTpbMjAsMjAsMjUwLDI1MF0vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byByb3RhdGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCByb3RhdGVQYXJhbXMgPSB7XG4gICAgICAgIGRlZzogOTAsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsucm90YXRlKHJvdGF0ZVBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9yb3RhdGU9ZGVnOjkwLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZGV0ZWN0IGZhY2VzJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuZGV0ZWN0RmFjZXMoe30pO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvZGV0ZWN0X2ZhY2VzLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gY3JvcCBmYWNlcycsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLmNyb3BGYWNlcyh7fSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9jcm9wX2ZhY2VzLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcGl4ZWxhdGUgZmFjZXMnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5waXhlbGF0ZUZhY2VzKHt9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3BpeGVsYXRlX2ZhY2VzLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYmx1ciBmYWNlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGJsdXJGYWNlc1BhcmFtcyA9IHtcbiAgICAgICAgYW1vdW50OiAzLFxuICAgICAgICBibHVyOiA1LFxuICAgICAgICB0eXBlOiBTaGFwZVR5cGUub3ZhbCxcbiAgICAgIH07XG4gICAgICBmaWxlbGluay5ibHVyRmFjZXMoYmx1ckZhY2VzUGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2JsdXJfZmFjZXM9YW1vdW50OjMsYmx1cjo1LHR5cGU6b3ZhbC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHJvdW5kIGNvcm5lcm5zJywgKCkgPT4ge1xuICAgICAgY29uc3Qgcm91bmRlZENvcm5lcnNQYXJhbXMgPSB7XG4gICAgICAgIHJhZGl1czogNTAsXG4gICAgICAgIGJsdXI6IDUsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsucm91bmRlZENvcm5lcnMocm91bmRlZENvcm5lcnNQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvcm91bmRlZF9jb3JuZXJzPXJhZGl1czo1MCxibHVyOjUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBwb2xhcm9pZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHBvbGFyb2lkUGFyYW1zID0ge1xuICAgICAgICBjb2xvcjogJ2ZmMDAwMCcsXG4gICAgICAgIHJvdGF0ZTogNTAsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsucG9sYXJvaWQocG9sYXJvaWRQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvcG9sYXJvaWQ9Y29sb3I6ZmYwMDAwLHJvdGF0ZTo1MC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHZpZ25ldHRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmlnbmV0dGVQYXJhbXMgPSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICdmZjAwMDAnLFxuICAgICAgICBhbW91bnQ6IDUsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsudmlnbmV0dGUodmlnbmV0dGVQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvdmlnbmV0dGU9YmFja2dyb3VuZDpmZjAwMDAsYW1vdW50OjUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB0b3JuRWRnZXMnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay50b3JuRWRnZXMoe30pO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvdG9ybl9lZGdlcy81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHNoYWRvdycsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnNoYWRvdygpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvc2hhZG93LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gY2lyY2xlJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuY2lyY2xlKHt9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2NpcmNsZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGJvcmRlcicsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLmJvcmRlcigpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvYm9yZGVyLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdmlnbmV0dGUnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay52aWduZXR0ZSh7fSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS92aWduZXR0ZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHNoYXJwZW4nLCAoKSA9PiB7XG4gICAgICBjb25zdCBzaGFycGVuUGFyYW1zID0ge1xuICAgICAgICBhbW91bnQ6IDUsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsuc2hhcnBlbihzaGFycGVuUGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3NoYXJwZW49YW1vdW50OjUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBibHVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgYmx1clBhcmFtcyA9IHtcbiAgICAgICAgYW1vdW50OiA1LFxuICAgICAgfTtcbiAgICAgIGZpbGVsaW5rLmJsdXIoYmx1clBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9ibHVyPWFtb3VudDo1LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYmxhY2t3aGl0ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGJsYWNrd2hpdGVQYXJhbXMgPSB7XG4gICAgICAgIHRocmVzaG9sZDogNTAsXG4gICAgICB9O1xuICAgICAgZmlsZWxpbmsuYmxhY2t3aGl0ZShibGFja3doaXRlUGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2JsYWNrd2hpdGU9dGhyZXNob2xkOjUwLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2VwaWEnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5zZXBpYSgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvc2VwaWEvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBwaXhlbGF0ZScsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLnBpeGVsYXRlKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9waXhlbGF0ZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIG9pbFBhaW50JywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsub2lsUGFpbnQoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL29pbF9wYWludC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIG1vZHVsYXRlJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsubW9kdWxhdGUoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL21vZHVsYXRlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcGFydGlhbFBpeGVsYXRlJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsucGFydGlhbFBpeGVsYXRlKHtcbiAgICAgICAgb2JqZWN0czogW1syMCwgMjAsIDUwLCA1MF1dLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9wYXJ0aWFsX3BpeGVsYXRlPW9iamVjdHM6W1syMCwyMCw1MCw1MF1dLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcGFydGlhbEJsdXInLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5wYXJ0aWFsQmx1cih7XG4gICAgICAgIGFtb3VudDogNSxcbiAgICAgICAgb2JqZWN0czogW1syMCwgMjAsIDUwLCA1MF1dLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9wYXJ0aWFsX2JsdXI9YW1vdW50OjUsb2JqZWN0czpbWzIwLDIwLDUwLDUwXV0vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjb2xsYWdlJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuY29sbGFnZSh7XG4gICAgICAgIGZpbGVzOiBbJ2h0dHA6Ly93ZWxjb21lLXN3aXNzLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxNS8xMi9Td2lzcy1sYW5kc2NhcGUuanBnJ10sXG4gICAgICAgIHdpZHRoOiAyMDAsXG4gICAgICAgIGhlaWdodDogMjAwLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKFxuICAgICAgICAnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9jb2xsYWdlPWZpbGVzOltcImh0dHA6Ly93ZWxjb21lLXN3aXNzLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxNS8xMi9Td2lzcy1sYW5kc2NhcGUuanBnXCJdLHdpZHRoOjIwMCxoZWlnaHQ6MjAwLzVhWWtFUUpTUUNtWVNoc29DblpOJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB1cHNjYWxlJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsudXBzY2FsZSgpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvdXBzY2FsZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFzY2lpJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuYXNjaWkoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2FzY2lpLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcXVhbGl0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IHF1YWxpdHlQYXJhbXMgPSB7XG4gICAgICAgIHZhbHVlOiA1LFxuICAgICAgfTtcbiAgICAgIGZpbGVsaW5rLnF1YWxpdHkocXVhbGl0eVBhcmFtcyk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9xdWFsaXR5PXZhbHVlOjUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB1c2Ugc2VjdXJpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZWN1cml0eVBhcmFtcyA9IHtcbiAgICAgICAgcG9saWN5OiAnZXhhbXBsZVBvbGljeScsXG4gICAgICAgIHNpZ25hdHVyZTogJ2V4YW1wbGVTaWduYXR1cmUnLFxuICAgICAgfTtcbiAgICAgIGZpbGVsaW5rLnNlY3VyaXR5KHNlY3VyaXR5UGFyYW1zKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3NlY3VyaXR5PXBvbGljeTpleGFtcGxlUG9saWN5LHNpZ25hdHVyZTpleGFtcGxlU2lnbmF0dXJlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgb3V0cHV0JywgKCkgPT4ge1xuICAgICAgY29uc3Qgb3V0cHV0UGFyYW1zID0ge1xuICAgICAgICBmb3JtYXQ6ICdwbmcnLFxuICAgICAgfTtcbiAgICAgIGZpbGVsaW5rLm91dHB1dChvdXRwdXRQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvb3V0cHV0PWZvcm1hdDpwbmcvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB2aWRlb0NvbnZlcnQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2aWRlb0NvbnZlcnRQYXJhbXMgPSB7XG4gICAgICAgIGFzcGVjdF9tb2RlOiBWaWRlb0FjY2Vzc01vZGUubGV0dGVyYm94LFxuICAgICAgICB1cHNjYWxlOiB0cnVlLFxuICAgICAgfTtcbiAgICAgIGZpbGVsaW5rLnZpZGVvQ29udmVydCh2aWRlb0NvbnZlcnRQYXJhbXMpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvdmlkZW9fY29udmVydD1hc3BlY3RfbW9kZTpsZXR0ZXJib3gsdXBzY2FsZTp0cnVlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gVVJMU2NyZWVuc2hvdCcsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLlVSTFNjcmVlbnNob3QoKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL3VybHNjcmVlbnNob3QvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBQREZJbmZvJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuUERGSW5mbygpO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvcGRmaW5mby81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIFBERkNvbnZlcnQnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5QREZDb252ZXJ0KCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9wZGZjb252ZXJ0LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZm9yY2UgY2FjaGUnLCAoKSA9PiB7XG4gICAgICBmaWxlbGluay5jYWNoZSh0cnVlKTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL2NhY2hlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYWRkIGZhbGxiYWNrIHRyYW5zZm9ybWF0aW9uJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuZmFsbGJhY2soe1xuICAgICAgICBoYW5kbGU6ICdodHRwOnRlc3QuY29tJyxcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvZmFsbGJhY2s9aGFuZGxlOmh0dHA6dGVzdC5jb20vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhZGQgemlwIHRybmFzZm9ybWF0aW9uJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsuemlwKCk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS96aXAvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhZGQgbWluaWZ5IGpzIHRyYW5zZm9ybWF0aW9uJywgKCkgPT4ge1xuICAgICAgZmlsZWxpbmsubWluaWZ5SnMoe1xuICAgICAgICBtYW5nbGU6IHRydWUsXG4gICAgICAgIGd6aXA6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2N1c3RvbURvbWFpbi5jb20vREVGQVVMVF9BUElfS0VZL21pbmlmeV9qcz1tYW5nbGU6dHJ1ZSxnemlwOnRydWUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhZGQgbWluaWZ5IGNzcyB0cmFuc2Zvcm1hdGlvbicsICgpID0+IHtcbiAgICAgIGZpbGVsaW5rLm1pbmlmeUNzcyh7XG4gICAgICAgIGxldmVsOiAxLFxuICAgICAgICBnemlwOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jdXN0b21Eb21haW4uY29tL0RFRkFVTFRfQVBJX0tFWS9taW5pZnlfY3NzPWxldmVsOjEsZ3ppcDp0cnVlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=
