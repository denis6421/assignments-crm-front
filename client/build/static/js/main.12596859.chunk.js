(this["webpackJsonpsass-test"]=this["webpackJsonpsass-test"]||[]).push([[0],{337:function(e,t,a){e.exports=a.p+"static/media/israel.36a29225.svg"},338:function(e,t,a){e.exports=a.p+"static/media/usa.a035edad.svg"},359:function(e,t,a){e.exports=a(732)},370:function(e,t,a){},453:function(e,t){},455:function(e,t){},488:function(e,t){},489:function(e,t){},732:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setDataToEmployeesReducer",(function(){return ue})),a.d(n,"removeEmployee",(function(){return me})),a.d(n,"AddAndUpdateEmployee",(function(){return pe})),a.d(n,"updateNavbarReducer",(function(){return de})),a.d(n,"setDataToAssignmentsReducer",(function(){return _e})),a.d(n,"addAssignment",(function(){return fe})),a.d(n,"removeAssignment",(function(){return ge})),a.d(n,"updateAssignment",(function(){return Ee})),a.d(n,"updateUserReducer",(function(){return he})),a.d(n,"updateGlobalReducer",(function(){return ve})),a.d(n,"setSystemLanguage",(function(){return be}));var r=a(0),s=a.n(r),o=a(24),l=a.n(o),i=a(14),c=a(66),u=a(308),m=a(136),p=a(310);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(340),_=a.n(d),f=a(5);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={employees_list:[],employee_assignments:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set data to employees reducer":var a=t.payload,n=a.name,r=a.value;return E({},e,Object(f.a)({},n,r));default:return e}};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={selected_employee:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update navbar reducer":var a=t.payload,n=a.name,r=a.value;return y({},e,Object(f.a)({},n,r));default:return e}};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N={assignments_list:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sety data to assignments reducer":var a=t.payload,n=a.name,r=a.value;return x({},e,Object(f.a)({},n,r));default:return e}};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T,P={user:"",permissions:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update user reducer":var a=t.payload,n=a.name,r=a.value;return k({},e,Object(f.a)({},n,r));default:return e}},D=a(183),I=a.n(D),R=a(184),M=a.n(R),L=a(182),G=a.n(L),F={english:(T={settings:{direction:"ltr"},LANGUAGE_LOADING:"Language is loading...",pending:"Pending",in_progress:"In progress",done:"Done",LAST_UPDATED:"Last updated",CREATE_ASSIGNMENTS:"Create assignments",EDIT_ASSIGNMENTS:"Edit assignments",DELETE_ASSIGNMENTS:"Delete assignments",EDIT_PROFILE:"Edit profile",EMPLOYEE_PERMISSIONS:"Employee Permissions",PROFILE:"Profile",PERMISSIONS:"Permissions",SYSTEM:"System",NO_ASSIGNMENTS:"No assignments",ASSIGNMENT_CREATE_SUCCESS:"Assignment created",LOGOUT:"Logout",LANGUAGE_SELECT:"System language",NO_TEMPLATES:"No templates",SETTINGS:"Settings",EMPLOYEES:"Employees",CREATE_EMPLOYEE_BTN:"CREATE EMPLOYEE",EDIT_EMPLOYEE:"Edit Employee",CREATE_EMPLOYEE:"Create Employee",EMPLOYEES_TITLES:["Name","Pending","In progress","Done"],NAME:"Name"},Object(f.a)(T,"pending","Pending"),Object(f.a)(T,"in_progress","In progress"),Object(f.a)(T,"done","Done"),Object(f.a)(T,"NEW_EMPLOYEE","Create Employee"),Object(f.a)(T,"EMAIL","Email"),Object(f.a)(T,"PHONE","Phone"),Object(f.a)(T,"POSITION","Position"),Object(f.a)(T,"PASSWORD","Password"),Object(f.a)(T,"COPY","Copy"),Object(f.a)(T,"COPIED","Copied"),Object(f.a)(T,"GENERATE","Generate"),Object(f.a)(T,"GENERATED","Generated"),Object(f.a)(T,"SAVE","Save"),Object(f.a)(T,"CANCEL","Cancel"),Object(f.a)(T,"YES","Yes"),Object(f.a)(T,"NO","No"),Object(f.a)(T,"RESET","Reset"),Object(f.a)(T,"INVALID_PHONE","Invalid Phone"),Object(f.a)(T,"INVALID_EMAIL","Invalid Email"),Object(f.a)(T,"REQUIRED_FIELD","Required Field"),Object(f.a)(T,"EMPLOYEE_PAGE","Employee Page"),Object(f.a)(T,"EDIT","Edit"),Object(f.a)(T,"CREATE","Create"),Object(f.a)(T,"DELETE","Delete"),Object(f.a)(T,"REMOVE_TEXT","Are you sure, you want to remove:"),Object(f.a)(T,"REMOVE_ASSIGNMENT_QUESTION","Delete the assignment"),Object(f.a)(T,"NO_EMPLOYEES","No Employees"),Object(f.a)(T,"ASSIGNMENTS","Assignments"),Object(f.a)(T,"ASSIGNMENT","Assignment"),Object(f.a)(T,"PERSONAL_ASSIGNMENTS","Personal"),Object(f.a)(T,"ADD_FILE","Add file"),Object(f.a)(T,"SELECT_DATE","Select Date"),Object(f.a)(T,"EMPLOYEE_INFO","Employee info"),Object(f.a)(T,"STATUS","Status"),Object(f.a)(T,"TITLE","Title"),Object(f.a)(T,"TEXT","Text"),Object(f.a)(T,"DEADLINE","Deadline"),Object(f.a)(T,"ACTIVE","Active"),Object(f.a)(T,"INACTIVE","Inactive"),Object(f.a)(T,"TEMPLATES","Templates"),Object(f.a)(T,"NEW_ASSIGNMENT","Create Assignment"),Object(f.a)(T,"EMPLOYEE_ASSIGNMENTS_TITLES",[{name:"Title",value:"title"},{name:"Deadline",value:"deadline"},{name:"Actions",value:"actions"}]),Object(f.a)(T,"VIEW","View"),Object(f.a)(T,"MARK_AS_PENDING","Mark as pending"),Object(f.a)(T,"MARK_AS_DONE","Mark as done"),Object(f.a)(T,"MARK_AS_PROGRESS","Mark as in progress"),Object(f.a)(T,"REMOVE","Remove"),Object(f.a)(T,"CONTENT","Content"),Object(f.a)(T,"FILES","Files"),Object(f.a)(T,"COMMENTS","Comments"),Object(f.a)(T,"COMMENT","Comment"),Object(f.a)(T,"CLOSE","Close"),Object(f.a)(T,"ASSIGNMENT_STATUS_ARR",[{text:"Pending",value:"pending",img:s.a.createElement(G.a,null)},{text:"In progress",value:"in_progress",img:s.a.createElement(I.a,null)},{text:"Done",value:"done",img:s.a.createElement(M.a,null)}]),T),hebrew:{settings:{direction:"rtl"},LANGUAGE_LOADING:"\u05d4\u05e9\u05e4\u05d4 \u05e0\u05d8\u05e2\u05e0\u05ea...",pending:"\u05de\u05de\u05ea\u05d9\u05df",in_progress:"\u05d1\u05ea\u05d4\u05dc\u05d9\u05da",done:"\u05d1\u05d5\u05e6\u05e2",LAST_UPDATED:"\u05e2\u05d5\u05d3\u05db\u05df \u05dc\u05d0\u05d7\u05e8\u05d5\u05e0\u05d4",CREATE_ASSIGNMENTS:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",EDIT_ASSIGNMENTS:"\u05e2\u05e8\u05d9\u05db\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",DELETE_ASSIGNMENTS:"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",EDIT_PROFILE:"\u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc",EMPLOYEE_PERMISSIONS:"\u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05e2\u05d5\u05d1\u05d3",PROFILE:"\u05de\u05e9\u05ea\u05de\u05e9",PERMISSIONS:"\u05d4\u05e8\u05e9\u05d0\u05d5\u05ea",SYSTEM:"\u05de\u05e2\u05e8\u05db\u05ea",NO_ASSIGNMENTS:"\u05d0\u05d9\u05df \u05de\u05e9\u05d9\u05de\u05d5\u05ea",CLOSE:"\u05e1\u05d2\u05d5\u05e8",ASSIGNMENT_CREATE_SUCCESS:"\u05ea\u05d1\u05e0\u05d9\u05ea \u05e0\u05d5\u05e6\u05e8\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",LOGOUT:"\u05d4\u05ea\u05e0\u05ea\u05e7",LANGUAGE_SELECT:"\u05e9\u05e4\u05ea \u05de\u05e2\u05e8\u05db\u05ea",NO_TEMPLATES:"\u05d0\u05d9\u05df \u05ea\u05d1\u05e0\u05d9\u05d5\u05ea",SETTINGS:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",EMPLOYEES:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",CREATE_EMPLOYEE_BTN:"\u05e6\u05d5\u05e8 \u05e2\u05d1\u05d3",EDIT_EMPLOYEE:"\u05e2\u05e8\u05d5\u05da \u05e2\u05d5\u05d1\u05d3",CREATE_EMPLOYEE:"\u05e6\u05d5\u05e8 \u05e2\u05d5\u05d1\u05d3",EMPLOYEES_TITLES:["\u05e9\u05dd","\u05de\u05de\u05ea\u05d9\u05df","\u05d1\u05ea\u05d4\u05dc\u05d9\u05da","\u05d1\u05d5\u05e6\u05e2"],NAME:"\u05e9\u05dd",NEW_EMPLOYEE:"\u05e6\u05d5\u05e8 \u05e2\u05d5\u05d1\u05d3",EMAIL:"\u05de\u05d9\u05d9\u05dc",PHONE:"\u05d8\u05dc\u05e4\u05d5\u05df",POSITION:"\u05e2\u05de\u05d3\u05d4",PASSWORD:"\u05e1\u05d9\u05e1\u05de\u05d0",COPY:"\u05d4\u05e2\u05ea\u05e7",COPIED:"\u05d1\u05d5\u05e6\u05e2",GENERATE:"\u05e6\u05d5\u05e8",GENERATED:"\u05d1\u05d5\u05e6\u05e2",SAVE:"\u05e9\u05de\u05d5\u05e8",CANCEL:"\u05d1\u05d8\u05dc",YES:"\u05db\u05df",NO:"\u05dc\u05d0",RESET:"\u05d0\u05e4\u05e1",INVALID_PHONE:"\u05d8\u05dc\u05e4\u05d5\u05df \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df",INVALID_EMAIL:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05e9\u05d2\u05d5\u05d9",REQUIRED_FIELD:"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4",EMPLOYEE_PAGE:"\u05e2\u05de\u05d5\u05d3 \u05e2\u05d5\u05d1\u05d3",EDIT:"\u05e2\u05e8\u05d5\u05da",PERSONAL_ASSIGNMENTS:"\u05de\u05e9\u05d9\u05de\u05d5\u05ea \u05e9\u05dc\u05d9",CREATE:"\u05e6\u05d5\u05e8",DELETE:"\u05de\u05d7\u05e7",REMOVE_TEXT:"\u05d4\u05d0\u05dd \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea",REMOVE_ASSIGNMENT_QUESTION:"\u05d4\u05d0\u05dd \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea",NO_EMPLOYEES:"\u05d0\u05d9\u05df \u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",ASSIGNMENTS:"\u05de\u05e9\u05d9\u05de\u05d5\u05ea",ASSIGNMENT:"\u05de\u05e9\u05d9\u05de\u05d4",ADD_FILE:"\u05d4\u05d5\u05e1\u05e3 \u05e7\u05d5\u05d1\u05e5",SELECT_DATE:"\u05d1\u05d7\u05e8 \u05ea\u05d0\u05e8\u05d9\u05da",EMPLOYEE_INFO:"\u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05e2\u05d5\u05d1\u05d3",STATUS:"\u05e1\u05d8\u05d8\u05d5\u05e1",TITLE:"\u05db\u05d5\u05ea\u05e8\u05ea",TEXT:"\u05d8\u05e7\u05e1\u05d8",DEADLINE:"\u05de\u05d5\u05e2\u05d3 \u05d0\u05d7\u05e8\u05d5\u05df",ACTIVE:"\u05e4\u05e2\u05d9\u05dc",INACTIVE:"\u05d0\u05d9\u05e0\u05d5 \u05e4\u05e2\u05d9\u05dc",TEMPLATES:"\u05ea\u05d1\u05e0\u05d9\u05d5\u05ea",NEW_ASSIGNMENT:"\u05e6\u05d5\u05e8 \u05de\u05e9\u05d9\u05de\u05d4",EMPLOYEE_ASSIGNMENTS_TITLES:[{name:"\u05db\u05d5\u05ea\u05e8\u05ea",value:"title"},{name:"\u05d9\u05e2\u05d3 \u05d0\u05d7\u05e8\u05d5\u05df",value:"deadline"},{name:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea",value:"actions"}],VIEW:"\u05e6\u05e4\u05d4 \u05d1\u05de\u05e9\u05d9\u05de\u05d4",MARK_AS_PENDING:"\u05e1\u05de\u05df \u05db\u05de\u05de\u05ea\u05d9\u05df",MARK_AS_DONE:"\u05e1\u05de\u05df \u05db\u05d1\u05d5\u05e6\u05e2",MARK_AS_PROGRESS:"\u05e1\u05de\u05df \u05db\u05de\u05ea\u05d1\u05e6\u05e2",REMOVE:"\u05de\u05d7\u05e7",CONTENT:"\u05ea\u05d5\u05db\u05df",FILES:"\u05e7\u05d1\u05e6\u05d9\u05dd",COMMENTS:"\u05d4\u05e2\u05e8\u05d5\u05ea",COMMENT:"\u05d4\u05e2\u05e8\u05d4",ASSIGNMENT_STATUS_ARR:[{text:"\u05de\u05de\u05ea\u05d9\u05df",value:"pending",img:s.a.createElement(G.a,null)},{text:"\u05d1\u05ea\u05d4\u05dc\u05d9\u05da",value:"in_progress",img:s.a.createElement(I.a,null)},{text:"\u05d1\u05d5\u05e6\u05e2",value:"done",img:s.a.createElement(M.a,null)}]}};function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H={error:!1,success:!1,system_text:F.english},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update global reducer":var a=t.payload,n=a.name,r=a.value;return Y({},e,Object(f.a)({},n,r));default:return e}},W=(a(370),a(2)),J=a.n(W),q=a(7),B=a(8),Q=a(9),K=a(11),X=a(10),z=a(12),Z=a(17),$="/dashboard/employees",ee="/dashboard/employees/:id",te="/dashboard/employees/:id/assignment/:assignment_id",ae="/dashboard/personal-assignments",ne="/dashboard/personal-assignments/:assignment_id",re="/dashboard/settings",se="/login",oe="/employee-dashboard/:id/assignments/:assignment_id",le="/employee-dashboard/:id/assignments",ie=a(31),ce=a(32),ue=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"set data to employees reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},me=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=(r=JSON.parse(JSON.stringify(t))).filter((function(t){return t._id!==e._id})),"employees_list",n({type:"set data to employees reducer",payload:{name:"employees_list",value:r}});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},pe=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r,s;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=JSON.parse(JSON.stringify(t)),(s=r.findIndex((function(t){return t._id===e._id})))>=0?r.splice(s,1,e):r=[e].concat(Object(ce.a)(r)),"employees_list",n({type:"set data to employees reducer",payload:{name:"employees_list",value:r}});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},de=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"update navbar reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},_e=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"sety data to assignments reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},fe=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=JSON.parse(JSON.stringify(t)),r=[e].concat(Object(ce.a)(r)),"assignments_list",n({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ge=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=(r=JSON.parse(JSON.stringify(t))).filter((function(t){return t._id!==e._id})),"assignments_list",n({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ee=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r,s;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=t?JSON.parse(JSON.stringify(t)):[],s=r.findIndex((function(t){return t._id===e._id})),console.log(s),s>=0&&r.splice(s,1,e),"assignments_list",n({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},he=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"update user reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ve=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"update global reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=document.querySelector("body"),"rtl"===(r=F[e]?F[e]:F.english).settings.direction?n.classList.add("rtl__body"):n.classList.remove("rtl__body"),"system_text",a({type:"update global reducer",payload:{name:"system_text",value:r}}),a({type:"update global reducer",payload:{name:"language",value:e}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye=a(312),Oe=a.n(ye),Se=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).setWrapperRef=function(t){e.wrapperRef=t},e.handleClickOutside=function(t){e.wrapperRef&&!e.wrapperRef.contains(t.target)&&e.setState({active:!1})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props,a=t.options,n=t.width,r=this.props.global.system_text,o=this.state.active;return s.a.createElement("div",{style:{zIndex:o?"99":""},ref:this.setWrapperRef,className:"actions"},s.a.createElement("section",{style:{background:o?"rgba(0, 145, 255, 0.2)":""},onClick:function(){return e.setState({active:!0})},className:"actions__toggle flex__center"},s.a.createElement(Oe.a,null)),s.a.createElement("ul",{style:{opacity:o?1:0,pointerEvents:o?"all":"none",width:n||" "},className:"actions__list"},a&&a.length>0?a.filter((function(e){return!e.disabled})).map((function(t,a){return s.a.createElement("li",{key:a,onClick:function(){t.function(t.param1,t.param2,t.param3),e.setState({active:!1})},className:"actions__list__element flex__start"},r[t.text])})):""))}}]),t}(r.Component);var je=Object(i.c)((function(e){return{global:e.global}}),n)(Se),xe=a(52),Ne=a.n(xe),we=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).onLoad=function(){e.setState({image_loaded:!0})},e.goToEmployeePage=function(){var t=e.props.employee;e.props.history.push(ee.replace(":id",t._id))},e.edit=function(){var t=e.props.employee;e.props.toggleHandleEmployee(!0,t)},e.remove=function(){var t=e.props.employee;e.props.handleRemove(t)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.employee,n=t.list_view,r=t.system_text,o=a.avatar,l=a.name,i=a.assignments_count,c=this.state.image_loaded,u=[{text:"EMPLOYEE_PAGE",function:this.goToEmployeePage},{text:"EDIT",function:this.edit},{text:"DELETE",function:this.remove}];return s.a.createElement("li",{className:"row"===n?"employees__list__employee flex__start":"employees__list__employee flex__column"},s.a.createElement("div",{onClick:function(){return e.goToEmployeePage()},className:"employees__list__employee__name flex__start"},s.a.createElement("figure",{style:{border:o?"1px solid rgba(1, 58, 102, 0.3)":""},className:"employees__list__employee__avatar flex__center"},o?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{style:{opacity:c?1:0},src:o,alt:"",onLoad:function(){return e.onLoad()}}),c?"":s.a.createElement("aside",{className:"avatar__loader"})):s.a.createElement(Ne.a,null)),s.a.createElement("h3",null,l||"-")),s.a.createElement("div",{className:"employees__list__employee__stats flex__start"},s.a.createElement("h3",null,i?i.pending:0),s.a.createElement("h3",null,i?i.in_progress:0),s.a.createElement("h3",null,i?i.done:0)),s.a.createElement("div",{style:{display:"none"},id:"employee__mobile__stats",className:"employees__list__employee__stats flex__start"},s.a.createElement("span",null,s.a.createElement("h5",null,r.pending),s.a.createElement("h3",null,i?i.pending:0)),s.a.createElement("span",null,s.a.createElement("h5",null,r.in_progress),s.a.createElement("h3",null,i?i.in_progress:0)),s.a.createElement("span",null,s.a.createElement("h5",null,r.done),s.a.createElement("h3",null,i?i.done:0))),s.a.createElement(je,{options:u}))}}]),t}(r.Component),Ae=Object(Z.f)(we),ke=a(138),Te=a(90),Pe=a.n(Te),Ce=a(314),De=a.n(Ce),Ie=function(e){var t=e.active;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:"none"},id:"loader",className:"lds-ellipsis"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))};Pe.a.initApp("0C7F99A6-3715-126A-FF3C-3387261D5C00","957C469D-E5DE-4C1D-8A8B-A3BE62BF1CD2");var Re=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFileSelect=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.property_name,r=a[0],e.setState({loading:!0,image_loaded:!1}),t.prev=3,t.next=6,Pe.a.Files.upload(r,"/myFiles",!0).then((function(t){var a=t.fileURL;e.props.update(n,a),e.setState({loading:!1})}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),t.next=12,e.props.updateGlobalReducer("error","Failed to change profile image");case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.onLoad=function(){e.setState({image_loaded:!0})},e.state={is_drag:!1},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,a=this.state,n=a.image_loaded,r=a.loading;return s.a.createElement("div",{className:"uploader"},s.a.createElement(ke.a,{style:{width:"100%",height:"100%"},onDrop:function(t){return e.handleFileSelect(t)}}),t?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{className:"uploader__img",onLoad:function(){return e.onLoad()},style:{opacity:!r&&n?1:0,transition:"0.3s all"},src:t,alt:""}),r||!n?s.a.createElement(Ie,{active:!0}):""):s.a.createElement(De.a,null))}}]),t}(r.Component);var Me=Object(i.c)((function(e){return{global:e.global}}),n)(Re),Le=a(187),Ge=a.n(Le),Fe=function(e,t){switch(e){case"email":return!Ge.a.isEmail(t);case"phone":return!Ge.a.isMobilePhone(String(t))}},Ue=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleChnage=function(t){var a=e.props.input,n=a.property_name;if("phone"===a.type){var r=t.replace(/[^0-9.]/g,"");e.props.handleUpdate(n,r)}else e.props.handleUpdate(n,t)},e.handleBlur=function(){var t,a,n=e.props,r=n.value,s=n.input,o=s.type,l=s.required;e.setState({active:r}),r?t=Fe(o,r):l&&(a=!0),e.setState({validation_error:t,error:a})},e.handleFocus=function(){e.setState({active:!0,validation_error:!1,error:!1})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.validate,n=t.input,r=t.value,s=n.type,o=n.required;e.validate!==a&&o&&this.handleBlur(s,r)}},{key:"render",value:function(){var e=this,t=this.props,a=t.input,n=t.value,r=a.empty_text,o=a.validation_text,l=a.label,i=a.type,c=this.state,u=c.active,m=c.error,p=c.validation_error,d=this.props.global.system_text;return s.a.createElement("div",{className:u||n?"text__input text__input--active":"text__input"},s.a.createElement("input",{type:"password"===i?"password":"text",onChange:function(t){return e.handleChnage(t.target.value)},onBlur:function(t){return e.handleBlur()},onFocus:function(t){return e.handleFocus()},placeholder:d[l],value:n,autocomplete:"new-email"}),m?s.a.createElement("p",{className:"text__input__error"},d[r]):p?s.a.createElement("p",{className:"text__input__error"},d[o]):null)}}]),t}(r.Component);var Ye=Object(i.c)((function(e){return{global:e.global}}),n)(Ue),He=[{label:"NAME",property_name:"name",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PHONE",property_name:"phone",type:"phone",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_PHONE",required:!1},{label:"POSITION",property_name:"position",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!1},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:""}],Ve=a(315),We=a.n(Ve),Je=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.active_text,r=t.inactive_text,o=t.property_name;return s.a.createElement("div",{className:"switch__component flex__start"},s.a.createElement("figure",null,s.a.createElement(We.a,{onColor:"#86d3ff",onHandleColor:"#2693e6",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,onChange:function(){return e.props.updateEmployee(o,!a)},checked:a})),n&&r?s.a.createElement("h4",null,a?n:r):"")}}]),t}(r.Component),qe=a(316),Be=a(317),Qe=a.n(Be),Ke=a(319),Xe=a.n(Ke),ze=a(320),Ze=a.n(ze),$e=function(e){var t=e.svg,a=e.tooltip,n=e.handleClick,r=e.value;return s.a.createElement("div",{onClick:function(){return n?n(r):""},className:"btn__with__tooltip"},s.a.createElement("button",{type:"button"},t),s.a.createElement("figure",null,a))},et=a(188),tt=a.n(et),at=a(321),nt=a.n(at),rt=a(318),st=a.n(rt),ot=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).generatePassword=function(){var t=Qe.a.generate({length:10,uppercase:!1});e.setState({generated:!0,error:!1}),setTimeout((function(){e.setState({generated:!1})}),3e3),e.handleChange(t)},e.handleChange=function(t){var a=e.props.input.property_name;e.props.updateParentState("pw_changed",!0),e.props.handleUpdate(a,t)},e.handleBlur=function(){var t=e.props.value;e.setState({active:t}),e.setState({error:!t})},e.handleFocus=function(){e.setState({active:!0,validation_error:!1,error:!1})},e.handleCopy=function(){e.setState({copied:!0}),setTimeout((function(){e.setState({copied:!1})}),2e3)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.props.is_edit&&this.setState({active:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.validate,n=t.input,r=t.value,s=t.is_edit,o=n.type;e.validate===a||s||this.handleBlur(o,r)}},{key:"render",value:function(){var e=this,t=this.props,a=t.input,n=t.value,r=t.is_edit,o=a.empty_text,l=a.label,i=this.state,c=i.active,u=i.error,m=i.generated,p=i.copied,d=i.show_password,_=this.props.global.system_text;return s.a.createElement("div",{className:c||n?"password text__input--active flex__start":"password flex__start"},s.a.createElement("section",{className:"password__input"},s.a.createElement("input",{placeholder:_[l],onChange:function(t){return e.handleChange(t.target.value)},type:d?"text":"password",value:n||(!n&&r?"********":""),autocomplete:"new-password",onBlur:function(t){return e.handleBlur()},onFocus:function(t){return e.handleFocus()}}),s.a.createElement("button",{type:"button",className:"flex__center",onClick:function(){return e.setState({show_password:!d})}},d?s.a.createElement(st.a,null):s.a.createElement(Xe.a,null))),s.a.createElement("section",{className:"password__actions flex__between"},s.a.createElement(qe.CopyToClipboard,{text:n,onCopy:function(){return e.handleCopy()}},s.a.createElement("aside",{style:{opacity:n?1:.7,pointerEvents:n?"all":"none"}},s.a.createElement($e,{svg:p?s.a.createElement(tt.a,null):s.a.createElement(Ze.a,null),tooltip:_.COPY}))),s.a.createElement($e,{svg:m?s.a.createElement(tt.a,null):s.a.createElement(nt.a,null),handleClick:this.generatePassword,value:!0,tooltip:_.GENERATE})),u?s.a.createElement("p",{className:"text__input__error"},_[o]):"")}}]),t}(r.Component);var lt=Object(i.c)((function(e){return{global:e.global}}),n)(ot),it=a(84),ct=a.n(it),ut=function(e){var t=e.loading,a=e.close_text,n=e.close,r=e.submit,o=e.submit_text,l=e.button_type;return s.a.createElement("div",{className:"submit__buttons__box flex__start"},t?s.a.createElement("button",{type:"button",style:{background:"transparent",border:"none",position:"relative"}},s.a.createElement(Ie,{active:!0})):s.a.createElement("button",{className:"flex__center",style:{color:"white",background:"#0091ff"},onClick:function(){return r?r():""},type:l?"button":"submit"},o),s.a.createElement("button",{className:"flex__center",style:{color:"#0091ff",background:"rgba(0, 145, 255, 0.1)"},type:"button",onClick:function(){return n()}},a))},mt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateProfile=function(t,a){var n=e.state.profile,r=JSON.parse(JSON.stringify(n));r[t]=a,e.setState({profile:r})},e.close=function(){e.setState({profile:{},loaded:!1}),setTimeout((function(){e.props.toggleHandleProfile()}),400)},e.submitForm=function(t){var a=e.state,n=a.profile,r=a.pw_changed;t.preventDefault(),e.setState({validate:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({validate:!1}),0!==document.querySelectorAll(".text__input__error").length){t.next=7;break}return e.setState({loading:!0}),t.next=6,e.props.save(n,r);case 6:e.close();case 7:case"end":return t.stop()}}),t)}))),60)},e.updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.state={profile:{active:!0}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.profile_to_edit;setTimeout((function(){e.setState({loaded:!0})}),30),t&&this.setState({profile:t,is_edit:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loaded,n=t.profile,r=t.validate,o=t.is_edit,l=t.loading,i=this.props,c=i.edit_text,u=i.create_text,m=i.status_disabled,p=this.props.global.system_text;return s.a.createElement("div",{id:a?"employees__handle--active":"",className:"employees__handle"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)},className:"employees__handle__form flex__column"},s.a.createElement("button",{style:{opacity:a?1:0},type:"button",onClick:function(){return e.close()},className:"employees__handle__form__close"},s.a.createElement(ct.a,null)),s.a.createElement("header",{className:"flex__between"},s.a.createElement("h2",{className:"section__h2"},o?c:u)),s.a.createElement("span",{style:{alignItems:"flex-start"},className:"flex__between"},s.a.createElement(Me,{property_name:"avatar",update:this.updateProfile,value:n.avatar}),m?"":s.a.createElement(Je,{property_name:"active",value:n.active,updateEmployee:this.updateProfile})),s.a.createElement("div",{className:"employees__handle__form__info"},He.map((function(t){switch(t.type){case"password":return s.a.createElement(lt,{handleUpdate:e.updateProfile,input:t,validate:r,system_text:p,value:n[t.property_name],is_edit:o,updateParentState:e.updateState});default:return s.a.createElement(Ye,{handleUpdate:e.updateProfile,input:t,system_text:p,validate:r,value:n[t.property_name]})}}))),s.a.createElement(ut,{close:this.close,submit_text:p.SAVE,close_text:p.CANCEL,loading:l})))}}]),t}(r.Component);var pt=Object(i.c)((function(e){return{employees:e.employees,user:e.user,global:e.global}}),n)(mt),dt=function(e){var t=e.text,a=e.name,n=e.active,r=e.submit_text,o=e.close_text,l=e.loading;return s.a.createElement("div",{style:{opacity:n?1:0,pointerEvents:n?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("h3",null,a),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},l?s.a.createElement(Ie,{active:!0}):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.submit()}},r),s.a.createElement("button",{onClick:function(){return e.close()},style:{color:"#0091ff",background:"rgba(0, 145, 255, 0.1)"}},o)))))},_t=a(139),ft=a.n(_t),gt="https://assignments-server.herokuapp.com/api",Et="auth_token",ht=a(140),vt=a.n(ht),bt=function(e,t,a){return vt.a.set(e,t,{expires:a})},yt=function(e){return vt.a.get(e)},Ot=function(e){return vt.a.remove(e)},St=function(e){return new Promise((function(t){var a={"x-auth-token":yt(Et)};ft.a.get("".concat(gt,"/").concat(e),{headers:a}).then((function(e){var a=e.data,n=a.ok,r=a.result;t({ok:n,result:r})})).catch((function(e){t({ok:!1})}))}))},jt=function(e,t){return new Promise((function(a){var n={"x-auth-token":yt(Et)};ft.a.post("".concat(gt,"/").concat(e),t,{headers:n}).then((function(e){var t=e.data,n=t.ok,r=t.result;a({ok:n,result:r})})).catch((function(e){a({ok:!1})}))}))},xt=function(e){return e.arr.map((function(e){return s.a.createElement("div",{className:"loader__element employee__loader"},s.a.createElement("figure",null))}))},Nt=a(322),wt=a.n(Nt),At=a(323),kt=a.n(At),Tt=function(e){var t=e.text,a=e.create_text,n=e.create;return s.a.createElement("div",{className:"no__data flex__column"},s.a.createElement(wt.a,{className:"no__data__main__svg"}),s.a.createElement("h3",null,t),a?s.a.createElement("button",{className:"add__btn flex__center",onClick:function(){return n()}},s.a.createElement(kt.a,null),a):"")},Pt=a(324),Ct=a.n(Pt),Dt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.toggleHandleEmployee=function(t,a){e.setState({handle_employee:t,employee:a})},e.handleRemove=function(t){e.setState({employee_to_remove:t})},e.remove=Object(q.a)(J.a.mark((function t(){var a,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.employee_to_remove,r=a.employees_list,e.setState({remove_loading:!0}),"employee/delete",t.next=5,jt("employee/delete",{id:n._id});case 5:t.sent.ok&&(e.props.removeEmployee(n,r),e.setState({employees_list:r.filter((function(e){return e._id!==n._id}))}),e.close()),setTimeout((function(){e.setState({remove_loading:!1})}),400);case 8:case"end":return t.stop()}}),t)}))),e.close=function(){e.setState({employee_to_remove:""})},e.handleView=function(t){e.setState({list_view:t})},e.saveEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a,n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,e.resetEmployeePassword(a);case 3:a._id?e.updateEmployee(a):e.createEmployee(a);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.createEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"employee/create",t.next=3,jt("employee/create",a);case 3:(n=t.sent).ok?(e.props.updateGlobalReducer("success","Employee created successfully"),r=JSON.parse(JSON.stringify(e.state.employees_list)),e.setState({employees_list:[n.result].concat(Object(ce.a)(r))})):e.props.updateGlobalReducer("error",n.result?n.result:"Failed to create employee");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"employee/update",t.next=3,jt("employee/update",a);case 3:(n=t.sent).ok?(e.props.updateGlobalReducer("success","Employee updated successfully"),r=JSON.parse(JSON.stringify(e.state.employees_list)),(s=r.findIndex((function(e){return e._id==a._id})))>=0&&(r.splice(s,1,n.result),e.setState({employees_list:r}))):e.props.updateGlobalReducer("error","Failed to update employee");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resetEmployeePassword=function(){var e=Object(q.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/password-reset",a={_id:t._id,password:t.password},e.next=4,jt("employee/password-reset",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.state={list_view:"row"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/all",setTimeout((function(){a.setState({page_loaded:!0})}),20),e.next=4,St("employee/all");case 4:(t=e.sent).ok&&this.setState({loaded:!0,employees_list:t.result});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.employees_list,n=t.employee,r=t.handle_employee,o=t.employee_to_remove,l=t.list_view,i=t.loaded,c=t.page_loaded,u=t.remove_loading,m=this.props.global.system_text;return s.a.createElement("div",{style:{opacity:c?1:0},className:"employees page__flex"},s.a.createElement(dt,{text:m.REMOVE_TEXT,name:"".concat(o?o.name:"","?"),active:o,submit:this.remove,close:this.close,submit_text:m.YES,close_text:m.NO,loading:u}),r?s.a.createElement(pt,{toggleHandleProfile:this.toggleHandleEmployee,profile_to_edit:n,save:this.saveEmployee,resetPassword:this.resetEmployeePassword,edit_text:m.EDIT_EMPLOYEE,create_text:m.CREATE_EMPLOYEE}):"",s.a.createElement("div",{className:"sticky__top"},s.a.createElement("header",{className:"flex__start"},s.a.createElement($e,{svg:s.a.createElement(Ct.a,null),handleClick:this.toggleHandleEmployee,value:!0,tooltip:m.CREATE})),s.a.createElement("section",{className:"titles__section flex__start"},m.EMPLOYEES_TITLES.map((function(e,t){return s.a.createElement("h3",{key:t},e)})))),i&&a&&a.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{className:"employees__list flex__start"},a.map((function(t){return s.a.createElement(Ae,{list_view:l,toggleHandleEmployee:e.toggleHandleEmployee,employee:t,key:t._id,system_text:m,handleRemove:e.handleRemove})})))):i?s.a.createElement(Tt,{text:m.NO_EMPLOYEES}):s.a.createElement(xt,{arr:Object(ce.a)(Array(5).keys())}))}}]),t}(r.Component);var It=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,user:e.user,global:e.global}}),n)(Dt)),Rt=function(e){var t=e.text,a=e.style,n=e.arrow_class;return s.a.createElement("div",{style:a,className:"smal__popup flex__center"},t,s.a.createElement("aside",{className:n}))},Mt=a(326),Lt=a.n(Mt),Gt=a(325),Ft=a.n(Gt),Ut=function(e,t){return e.indexOf(t)>-1},Yt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).logout=function(){Ot(Et),e.props.history.push(se),window.location.reload()},e.onLoad=function(){e.setState({img_loaded:!0})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({mobile_menu:!1});var t=e.location.pathname;this.setState({url:t})}},{key:"componentDidMount",value:function(){var e=window.location.pathname;this.setState({url:e,page_loaded:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.url,n=t.page_loaded,r=t.img_loaded,o=t.mobile_menu,l=this.props.user.user,i=this.props.navigations,c=this.props.global.system_text,u={left:"110%",top:"50%",transform:"translate(0, -50%)"};return n?s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{style:{display:"none"},onClick:function(){return e.setState({mobile_menu:!o})},className:"mobile__hamburger"},s.a.createElement(Ft.a,null)),s.a.createElement("figure",{className:"employee__img navbar__user__avatar"},l&&l.avatar?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:l.avatar,style:{opacity:r?1:0,transition:"0.2s all"},onLoad:function(){return e.onLoad()},alt:""}),r?"":s.a.createElement("aside",{className:"avatar__loader"})):s.a.createElement(Ne.a,null)),s.a.createElement("section",{id:o?"navbar__list--active":"",className:"navbar__list flex__column"},s.a.createElement("aside",{className:"navbar__list__mobile__placeholder",style:{display:"none"},onClick:function(){return e.setState({mobile_menu:!1})}}),i&&i.length>0?i.map((function(e,t){return s.a.createElement(ie.b,{id:Ut(a,e.value)?"navbar__list__link--active":"",className:"navbar__list__link flex__center",key:t,to:e.param?e.url.replace(e.param,l._id):e.url},e.img,s.a.createElement(Rt,{arrow_class:"arrow-left",style:u,text:c[e.text]}))})):""),s.a.createElement("button",{style:{background:"transparent",border:"0px"},className:"navbar__list__link navbar__logout__link",onClick:function(){return e.logout()}},s.a.createElement(Rt,{arrow_class:"arrow-left",style:u,text:c.LOGOUT}),s.a.createElement(Lt.a,null))):""}}]),t}(r.Component);var Ht=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,user:e.user,global:e.global}}),n)(Yt)),Vt=a(327),Wt=a.n(Vt),Jt=function(e){function t(){var e,a;Object(B.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(K.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).showProfile=function(){a.props.changeSection(!0)},a}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.employee,n=t.system_text;return s.a.createElement("div",{className:"employee__page__menu flex__start"},s.a.createElement("div",{className:"page__flex flex__start"},s.a.createElement(ie.b,{to:$,className:"flex__start employee__page__menu__back"},s.a.createElement(Wt.a,null),s.a.createElement("h4",null,n.EMPLOYEES)),s.a.createElement("figure",{onClick:function(){return e.showProfile()},className:"flex__center"},a.avatar?s.a.createElement("img",{src:a.avatar}):s.a.createElement(Ne.a,null)),s.a.createElement("h3",{className:"employee__page__menu__name"},a.name)))}}]),t}(r.Component),qt=a(28),Bt=a.n(qt),Qt=function(e,t,a){var n=!1;return!!e.is_manager||(t&&t.length>0&&(n=t.includes(a)),n)};a(254);function Kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Xt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeStatus=function(t){var a=e.props.m;console.log(a);var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Kt(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Kt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);n.status=t,e.setState({hide:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.createAndUpdateAssignment(n);case 2:e.setState({hide:!1});case 3:case"end":return t.stop()}}),t)}))),500)},e.goToAssignment=function(t){var a=e.props.manager_assignments,n=e.props.user.user;a?e.props.history.push(ne.replace(":assignment_id",t._id)):n.is_manager?e.props.history.push(te.replace(":id",t.employee_id).replace(":assignment_id",t._id)):e.props.history.push(oe.replace(":id",n._id).replace(":assignment_id",t._id))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this.props.m,t=this.props.user,a=t.permissions,n=t.user,r=this.state.hide,o=this.props.global.language,l=[{text:"VIEW",function:this.goToAssignment,param1:e},{text:"MARK_AS_PENDING",function:this.changeStatus,param1:"pending"},{text:"MARK_AS_DONE",function:this.changeStatus,param1:"done"},{text:"MARK_AS_PROGRESS",function:this.changeStatus,param1:"in_progress"},{text:"REMOVE",function:this.props.handleDelete,param1:e,disabled:!Qt(n,a,"EM003")}];return l=l.filter((function(t){if(t.param1!==e.status)return t})),s.a.createElement("li",{id:r?"employee__page__assignment__hidden":"",className:"employee__page__assignment flex__start"},s.a.createElement("div",null,s.a.createElement("h4",{style:{display:"none"}},"Title"),s.a.createElement("h3",null,e.title)),s.a.createElement("div",null,s.a.createElement("h4",{style:{display:"none"}},"Deadline"),s.a.createElement("h3",null,e.deadline?Bt()(e.deadline).locale(o.substring(0,2)).format("ddd, LL"):"-")),s.a.createElement(je,{width:"150px",options:l}))}}]),t}(r.Component);var zt=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Xt)),Zt=function(e){return e.arr.map((function(e){return s.a.createElement("div",{className:"loader__element assignment__loader"},s.a.createElement("figure",null))}))},$t=function(e,t,a){var n=[];return e&&e.length>0&&(n=e.filter((function(e){return e.status===t}))),n.length>0?a?n.sort((function(e,t){return Bt()(t.deadline).diff(Bt()(e.deadline))})):n.sort((function(e,t){return Bt()(e.deadline).diff(Bt()(t.deadline))})):[]},ea=a(134),ta=a.n(ea),aa=a(328),na=a.n(aa),ra=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFilter=function(t){e.setState({status:t})},e.toggleAssignmentsList=function(t){e.setState({show_assignments:t})},e.updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.openCreateAssignment=function(){e.props.handleAssignment(!0,!0)},e.sortAssignments=function(){var t=e.state.sort;e.setState({sort:!t})},e.state={status:"pending"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({page_loaded:!0})}),20)}},{key:"componentWillUnmount",value:function(){this.toggleAssignmentsList(!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.employee,n=t.assignments_loaded,r=t.manager_assignments,o=this.props.user,l=o.user,i=o.permissions,c=this.state,u=c.status,m=c.page_loaded,p=c.sort,d=this.props.global.system_text;return s.a.createElement("div",{style:{opacity:m?1:0},className:"employee__page__assignments"},s.a.createElement("div",{className:"sticky__top"},s.a.createElement("header",{className:"employee__page__assignments__header flex__start"},Qt(l,i,"EM001")?s.a.createElement($e,{svg:s.a.createElement(ta.a,null),handleClick:function(){return e.props.handleAssignment(!0)},tooltip:d.CREATE}):""),s.a.createElement("ul",{className:"flex__start",id:"employee__page__assignments__actions"},d.ASSIGNMENT_STATUS_ARR.map((function(t,n){return s.a.createElement("li",{key:n,className:"flex__center",id:u===t.value?"employee__page__assignments__actions--active":"",onClick:function(){return e.handleFilter(t.value)}},t.img,s.a.createElement("h3",null," ",t.text),s.a.createElement("h5",null,"(",function(e,t){if(e&&e.length>0){var a=0;return e.forEach((function(e){e.status===t&&a++})),a}return 0}(a.assignments,t.value),")"))}))),$t(a.assignments,u)?s.a.createElement("section",{id:"employee__assignments__titles",className:"flex__start"},d.EMPLOYEE_ASSIGNMENTS_TITLES.map((function(t,a){return s.a.createElement("div",{className:"flex__start",key:a},s.a.createElement("h3",null,t.name),"deadline"===t.value?s.a.createElement(na.a,{onClick:function(){return e.sortAssignments()}}):"")}))):null),s.a.createElement("ul",{className:"flex__start",id:"employee__assignments"},n?n&&!$t(a.assignments,u)?s.a.createElement(Tt,{create:this.openCreateAssignment,text:d.NO_ASSIGNMENTS}):a.assignments&&a.assignments.length>0?$t(a.assignments,u,p).map((function(t){var a;return s.a.createElement(zt,(a={key:t._id,m:t,manager_assignments:r,createAndUpdateAssignment:e.props.createAndUpdateAssignment,handleAssignment:e.props.handleAssignment,handleDelete:e.props.handleDelete},Object(f.a)(a,"key",t._id),Object(f.a)(a,"handleAssignmentComments",e.props.handleAssignmentComments),a))})):"":s.a.createElement(Zt,{arr:Object(ce.a)(Array(3).keys())})))}}]),t}(r.Component);var sa=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,assignments:e.assignments,user:e.user,global:e.global}}),n)(ra)),oa=a(62),la=a(34),ia=a(329),ca=a.n(ia),ua=a(65),ma=a.n(ua),pa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeStatus=function(t){var a=e.props.assignment,n=JSON.parse(JSON.stringify(a));n.status=t,e.props.createAndUpdateAssignment(n)},e.backToList=function(){var t=e.props.user.user,a=e.state.employee_id;e.props.manager_assignments?e.props.history.push(ae):t.is_manager?e.props.history.push(ee.replace(":id",a)):e.props.history.push(le.replace(":id",a))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n,r,s=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.assignment_id,a=this.props.match.params.id,setTimeout((function(){s.setState({page_loaded:!0})}),20),n="employee_assignment/get-by-id?_id=".concat(t),e.next=6,St(n);case 6:(r=e.sent).ok&&(this.props.updateAssignmentInAssignmentPage(r.result),this.setState({employee_id:a}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.global,a=t.system_text,n=t.language,r=this.props.assignment,o=this.props.user,l=o.permissions,i=o.user,c=this.state.page_loaded,u=[{text:"EDIT",function:this.props.handleAssignment,param1:!0,param2:!1,param3:r,disabled:!Qt(i,l,"EM002")},{text:"COMMENTS",function:this.props.handleAssignmentComments,param1:r},{text:"MARK_AS_PENDING",function:this.changeStatus,param1:"pending"},{text:"MARK_AS_DONE",function:this.changeStatus,param1:"done"},{text:"MARK_AS_PROGRESS",function:this.changeStatus,param1:"in_progress"},{text:"REMOVE",function:this.props.handleDelete,param1:r,disabled:!Qt(i,l,"EM003")}];return s.a.createElement("div",{style:{opacity:c?1:0},className:"employee__assignment__page"},s.a.createElement("header",{className:"sticky__top flex__start"},s.a.createElement("aside",{onClick:function(){return e.backToList()},className:"flex__start"},s.a.createElement(ma.a,null),s.a.createElement("h5",null,a.ASSIGNMENTS)),s.a.createElement(je,{width:"150px",options:u})),r?s.a.createElement("section",{className:"employee__assignment__page__content"},s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("aside",{className:"flex__start"},s.a.createElement("p",null,a.STATUS,":"),s.a.createElement("h5",null,a[r.status])),s.a.createElement("h3",null,a.TITLE),s.a.createElement("h4",{style:{fontFamily:"medium-font",fontSize:"20px"}},r.title)),s.a.createElement("aside",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,a.CONTENT),r.text?s.a.createElement(oa.Editor,{toolbarHidden:!0,editorState:la.EditorState.createWithContent(Object(la.convertFromRaw)(JSON.parse(r.text))),readOnly:!0}):""),r&&r.files.length>0?s.a.createElement("div",{className:"employee__assignment__page__content__section employee__assignment__page__content__files"},s.a.createElement("h3",null,a.FILES),s.a.createElement("ul",null,r.files.map((function(e){return s.a.createElement("li",{className:"flex__start"},s.a.createElement("a",{className:"flex__start",href:e.url,target:"_blank"},s.a.createElement(ca.a,null),s.a.createElement("h5",null,e.name)))})))):"",r.deadline?s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,a.DEADLINE),s.a.createElement("span",{className:"flex__start"},s.a.createElement("h4",null,Bt()(r.deadline).locale(n.substring(0,2)).format("dddd, LL")))):null,r.comments?s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,a.COMMENTS),s.a.createElement(oa.Editor,{toolbarHidden:!0,editorState:la.EditorState.createWithContent(Object(la.convertFromRaw)(JSON.parse(r.comments))),readOnly:!0})):" ",s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,a.LAST_UPDATED),s.a.createElement("h4",null,Bt()(r.updated_at).format("DD/MM/YY HH:mm")))):s.a.createElement(Zt,{arr:Object(ce.a)(Array(3).keys())}))}}]),t}(r.Component);var da=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(pa)),_a=[{label:"TITLE",property_name:"title",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"TEXT",property_name:"text",type:"draft",empty_text:"Required field",validation_text:""}],fa=(a(292),function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).createContent=function(t){var a="";if(t){var n=Object(la.convertFromRaw)(JSON.parse(t));a=la.EditorState.createWithContent(n)}e.setState({comments:a})},e.onEditorStateChange=function(t){e.setState({comments:t}),window.clearTimeout(e.state.timeout);var a=setTimeout((function(){e.save(t)}),200);e.setState({timeout:a})},e.saveContent=function(e){return JSON.stringify(Object(la.convertToRaw)(e.getCurrentContent()))},e.save=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.property_name,t.next=3,e.saveContent(a);case 3:r=t.sent,e.props.handleUpdate(n,r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.value;this.setState({loaded:!0}),this.createContent(e)}},{key:"componentWillReceiveProps",value:function(e){e.updated!==this.props.updated&&this.createContent(e.value)}},{key:"render",value:function(){var e=this.state.comments,t=this.props,a=t.label,n=t.system_text;return s.a.createElement("div",{className:"draft__content"},s.a.createElement(oa.Editor,{editorState:e,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,placeholder:n[a]}))}}]),t}(r.Component)),ga=a(330),Ea=a.n(ga);Pe.a.initApp("0C7F99A6-3715-126A-FF3C-3387261D5C00","957C469D-E5DE-4C1D-8A8B-A3BE62BF1CD2");var ha=function(e,t){return e.filter((function(e){return e.name===t.name}))[0]},va=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFileSelect=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s,o,l,i,c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.property_name,e.setState({loading:!0}),r=!0,s=!1,o=void 0,t.prev=5,l=J.a.mark((function t(){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.value,t.prev=1,t.next=4,Pe.a.Files.upload(a,"/myFiles",!0).then((function(t){var r=t.fileURL,s={name:a.name,url:r},o=e.props.files?e.props.files:[];ha(o,s)||(o=[].concat(Object(ce.a)(o),[s]),e.props.update(n,o))}));case 4:e.setState({loading:!1}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})),i=a[Symbol.iterator]();case 8:if(r=(c=i.next()).done){t.next=13;break}return t.delegateYield(l(),"t0",10);case 10:r=!0,t.next=8;break;case 13:t.next=19;break;case 15:t.prev=15,t.t1=t.catch(5),s=!0,o=t.t1;case 19:t.prev=19,t.prev=20,r||null==i.return||i.return();case 22:if(t.prev=22,!s){t.next=25;break}throw o;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}}),t,null,[[5,15,19,27],[20,,22,26]])})));return function(e){return t.apply(this,arguments)}}(),e.removeFile=function(t){var a=e.props,n=a.files,r=a.property_name,s=n.filter((function(e){return e.name!==t.name}));e.props.update(r,s)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.files,a=this.state.loading,n=this.props.global.system_text;return s.a.createElement("div",{className:"files__upload"},a?s.a.createElement("div",{className:"dropzone dropzone__loader"},s.a.createElement(Ie,{active:!0})):s.a.createElement(ke.a,{className:"dropzone flex__start",style:{width:"100%",height:"100%"},onDrop:function(t){return e.handleFileSelect(t)}},s.a.createElement(Ea.a,null),s.a.createElement("h5",null,n.ADD_FILE)),s.a.createElement("ul",{className:"files__upload__list flex__start"},t&&t.length>0?t.map((function(t){return s.a.createElement("li",{className:"flex__start"},s.a.createElement("a",{href:t.url,target:"_blank"},s.a.createElement("h4",null,t.name)),s.a.createElement("button",{type:"button",onClick:function(){return e.removeFile(t)}},s.a.createElement(ct.a,null)))})):""))}}]),t}(r.Component);var ba=Object(i.c)((function(e){return{global:e.global}}),n)(va),ya=a(85),Oa=a.n(ya),Sa=a(331),ja=a.n(Sa),xa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).close=function(){e.setState({page_loaded:!1}),setTimeout((function(){e.props.closePopup()}),300)},e.handleSelect=function(t){e.props.setAssignment(t),e.close()},e.setWrapperRef=function(t){e.wrapperRef=t},e.handleClickOutside=function(t){e.wrapperRef&&!e.wrapperRef.contains(t.target)&&e.close()},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({page_loaded:!0})}),20),document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props,a=t.assignments_list,n=t.system_text,r=this.state.page_loaded;return s.a.createElement("div",{style:{opacity:r?1:0},className:"employee__page__assignments__suggestions"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("div",{ref:this.setWrapperRef,className:"employee__page__assignments__suggestions__content"},s.a.createElement("button",{type:"button",className:"employee__page__assignments__suggestions__close",onClick:function(){return e.close()}},s.a.createElement(Oa.a,null)),s.a.createElement("h3",null,n.TEMPLATES),s.a.createElement("ul",null,a&&a.length>0?a.map((function(t){return s.a.createElement("li",{onClick:function(){return e.handleSelect(t)},className:"flex__start",key:t._id},s.a.createElement(ja.a,null),t.title)})):s.a.createElement(Tt,{text:n.NO_TEMPLATES}))))}}]),t}(r.Component),Na=a(36),wa=a(764),Aa=a(192),ka=a(341),Ta=a(88),Pa=a(189),Ca=a.n(Pa),Da=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleDateChange=function(t){var a=e.props.property_name;e.props.sendDate(a,Bt()(t))},e.state={date:Bt()().toDate()},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.title,n=this.props.global,r=n.language,o=n.system_text,l={en:Ta.a,he:ka.a};return s.a.createElement("div",{className:"material__datepicker"},s.a.createElement("div",{className:"material__datepicker__desktop"},s.a.createElement(Na.a,{utils:Aa.a,locale:l[r.substring(0,2)]},s.a.createElement("div",null,s.a.createElement("h3",null,a),s.a.createElement(wa.a,{format:"dd/MM/yyyy",autoOk:!0,disableToolbar:!0,variant:"inline",value:t||Bt()(),onChange:this.handleDateChange,minDate:Bt()()}),s.a.createElement(Ca.a,null)))),s.a.createElement("div",{className:"material__datepicker__mobile"},s.a.createElement(Na.a,{utils:Aa.a,locale:l[r.substring(0,2)]},s.a.createElement("div",null,s.a.createElement("h3",null,a),s.a.createElement(wa.a,{format:"dd/MM/yyyy",autoOk:!0,value:t||Bt()(),onChange:this.handleDateChange,animateYearScrolling:!0,okLabel:o.SAVE,cancelLabel:o.CANCEL,minDate:Bt()()}),s.a.createElement(Ca.a,null)))))}}]),t}(r.Component);var Ia=Object(i.c)((function(e){return{global:e.global}}),n)(Da),Ra=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateStateAssignment=function(t,a){var n=e.state.assignment,r=JSON.parse(JSON.stringify(n));r[t]=a,e.setState({assignment:r})},e.submitForm=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.is_edit,s=n.assignment,a.preventDefault(),e.setState({validate:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({validate:!1}),0!==document.querySelectorAll(".text__input__error").length){t.next=13;break}if(e.setState({loading:!0}),!r){t.next=10;break}return t.next=7,e.props.edit(s);case 7:e.close(),t.next=13;break;case 10:return t.next=12,e.props.create(s);case 12:e.close();case 13:case"end":return t.stop()}}),t)}))),50);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.toggleHandleAssignment()}),400)},e.setAssignment=function(t){e.setState({assignment_updated:!0,assignment:{title:t.title,text:t.text,files:t.files}}),setTimeout((function(){e.setState({assignment_updated:!1})}),50)},e.scrolltop=function(){e.componentRef.current.scrollTop=0},e.state={assignment:{}},e.componentRef=s.a.createRef(),e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.assignment_to_edit,n=t.new_assignment;this.setState({is_edit:a,assignment:a||{}}),n&&this.setState({assignment:n}),setTimeout((function(){e.setState({loaded:!0})}),20)}},{key:"render",value:function(){var e=this,t=this.state,a=t.loaded,n=t.is_edit,r=t.validate,o=t.assignment,l=t.show_options,i=t.assignment_updated,c=t.loading,u=this.props,m=u.from_employee_page,p=u.assignments_list,d=this.props.global.system_text;return s.a.createElement("div",{id:a?"assignments__handle--active":"",className:"assignments__handle"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{ref:this.componentRef,onSubmit:function(t){return e.submitForm(t)},className:"assignments__handle__form"},m&&l?s.a.createElement(xa,{closePopup:function(){return e.setState({show_options:!1})},assignments_list:p,setAssignment:this.setAssignment,system_text:d}):"",s.a.createElement("button",{style:{opacity:a?1:0},type:"button",onClick:function(){return e.close()},className:"assignments__handle__form__close flex__center"},s.a.createElement(ct.a,null)),s.a.createElement("h2",{className:"section__h2"},n?d.EDIT:d.CREATE),m&&!n?s.a.createElement("button",{type:"button",onClick:function(){return e.setState({show_options:!0})},className:"save__btn suggestions__btn"},d.TEMPLATES):"",m?s.a.createElement(Ia,{sendDate:this.updateStateAssignment,property_name:"deadline",date:o?o.deadline:"",title:d.DEADLINE,empty_error:"Required field",validate:r}):"",o&&a&&_a.map((function(t){switch(t.type){case"draft":return s.a.createElement(fa,{handleUpdate:e.updateStateAssignment,input:t,validate:r,property_name:t.property_name,value:o?o.text:"",label:t.label,system_text:d,updated:i});default:return s.a.createElement(Ye,{handleUpdate:e.updateStateAssignment,input:t,validate:r,property_name:t.property_name,value:o?o[t.property_name]:"",system_text:d})}})),m?s.a.createElement("div",{className:"assignments__handle__employee__page"},n?s.a.createElement("section",{id:"assignments__handle__employee__status"},s.a.createElement("h3",null,d.STATUS),s.a.createElement("aside",null,d.ASSIGNMENT_STATUS_ARR.map((function(t){return s.a.createElement("button",{type:"button",className:o.status===t.value?"save__btn":"cancel__btn",onClick:function(){return e.updateStateAssignment("status",t.value)}},t.text)})))):""):"",s.a.createElement(ba,{update:this.updateStateAssignment,property_name:"files",files:o?o.files:[]}),s.a.createElement(ut,{close:this.close,submit_text:d.SAVE,close_text:d.CANCEL,loading:c})))}}]),t}(r.Component);var Ma=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),n)(Ra);function La(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ga(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?La(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fa=function(e){return JSON.stringify(Object(la.convertToRaw)(e.getCurrentContent()))},Ua=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).onEditorStateChange=function(t){e.setState({comments:t})},e.close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.updateParentState("assignment_comments")}),300)},e.save=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.assignment,r=Ga({},n),e.setState({loading:!0}),t.next=5,Fa(a);case 5:return s=t.sent,r.comments=s,t.next=9,e.props.updateAssignment(r);case 9:e.close();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.assignment;setTimeout((function(){e.setState({loaded:!0})}),20),this.setState({loaded:!0});var a="";if(t.comments){var n=Object(la.convertFromRaw)(JSON.parse(t.comments));a=la.EditorState.createWithContent(n)}this.setState({comments:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.comments,n=t.loaded,r=t.loading,o=this.props,l=o.assignment,i=o.system_text;return s.a.createElement("div",{id:n?"employee__assignment__comments--active":"",className:"employee__assignment__comments"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{className:"flex__column"},s.a.createElement("button",{type:"button",onClick:function(){return e.close()},className:"employee__assignment__comments__close"},s.a.createElement(Oa.a,null)),s.a.createElement("header",null,s.a.createElement("h2",null,i.ASSIGNMENT),s.a.createElement("h3",null,"".concat(l.title))),s.a.createElement("div",{className:"employee__assignment__comments__editor"},s.a.createElement(oa.Editor,{editorState:a,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,placeholder:i.COMMENT})),s.a.createElement(ut,{submit:function(){return a?e.save(a):""},loading:r,close_text:i.CANCEL,close:this.close,submit_text:i.SAVE,button_type:!0})))}}]),t}(r.Component);function Ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ya(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ya(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Va=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getAssignments=Object(q.a)(J.a.mark((function t(){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"assignment",t.next=3,St("assignment");case 3:(a=t.sent).ok&&e.setState({assignments_list:a.result,assignments_loaded:!0});case 5:case"end":return t.stop()}}),t)}))),e.handleAssignment=function(t,a,n){e.setState({handle_assignment:t,new_assignment:a,assignment_to_edit:n})},e.createAndUpdateAssignment=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s,o,l,i;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.employee,s=n.manager_assignments,"employee_assignment",a.employee_id=r._id,a.status=a.status?a.status:"pending",a.deadline=a.deadline?a.deadline:Bt()().toDate(),console.log(a),t.next=8,jt("employee_assignment",a);case 8:(o=t.sent).ok&&(l=r.assignments.findIndex((function(e){return e._id==a._id})),i=JSON.parse(JSON.stringify(r)),l>=0?(i.assignments.splice(l,1,o.result),e.props.updateGlobalReducer("success","Assignment updated")):(i.assignments.unshift(o.result),e.props.updateGlobalReducer("success","Assignment created")),s?e.props.updateUserReducer("user",i):e.props.updateParentState("employee",i),window.location.pathname.indexOf("assignment")>-1&&e.updateAssignmentInAssignmentPage(o.result));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(t){console.log(t),e.setState({assignment_to_remove:t})},e.handleAssignmentComments=function(t){e.setState({assignment_comments:t})},e.remove=Object(q.a)(J.a.mark((function t(){var a,n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.assignment_to_remove,n=e.props.employee,e.setState({delete_loading:!0}),a.employee_id=n._id,"employee_assignment/delete",t.next=7,jt("employee_assignment/delete",a);case 7:t.sent.ok&&(r=Ha({},n),(s=r.assignments.findIndex((function(e){return e._id==a._id})))>=0&&(r.assignments.splice(s,1),e.props.updateEmployee(r),e.close()),0===window.location.pathname.indexOf("assignment")&&e.props.history.push(ee.replace(":id",n._id))),setTimeout((function(){e.setState({delete_loading:!1})}),300);case 10:case"end":return t.stop()}}),t)}))),e.close=function(){e.handleDelete()},e.updateAssignmentInAssignmentPage=function(t){e.setState({page_assignment:t})},e.updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getAssignments();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.assignments_list,n=t.assignments_loaded,r=t.assignment_comments,o=t.handle_assignment,l=t.new_assignment,i=t.assignment_to_edit,c=t.assignment_to_remove,u=t.page_assignment,m=t.delete_loading,p=this.props.global.system_text,d=this.props,_=d.active_section,f=d.employee,g=d.hide_page,E=d.manager_assignments,h=this.props.user.user;return s.a.createElement("div",{style:{opacity:g?0:1,transition:"0.2s all"}},s.a.createElement(dt,{text:p.REMOVE_ASSIGNMENT_QUESTION,name:"".concat(c?c.title:"","?"),active:c,submit:this.remove,close:this.close,submit_text:p.YES,close_text:p.NO,loading:m}),r?s.a.createElement(Ua,{updateAssignment:this.createAndUpdateAssignment,assignment:r,updateParentState:this.updateState,system_text:p}):"",o?s.a.createElement(Ma,{new_assignment:l,edit:this.createAndUpdateAssignment,create:this.createAndUpdateAssignment,assignment_to_edit:i,toggleHandleAssignment:this.handleAssignment,from_employee_page:!0,handleDelete:this.handleDelete,assignments_list:a}):null,E?s.a.createElement(Z.c,null,s.a.createElement(Z.a,{exact:!0,path:ae,render:function(){return s.a.createElement(sa,{manager_assignments:E,handleAssignmentComments:e.handleAssignmentComments,handleAssignment:e.handleAssignment,updateEmployee:e.updateEmployee,employee:f||{},assignments_loaded:n,createAndUpdateAssignment:e.createAndUpdateAssignment,handleDelete:e.handleDelete})}}),s.a.createElement(Z.a,{exact:!0,path:ne,render:function(){return s.a.createElement(da,{employee:f,manager_assignments:E,active_section:_,handleAssignment:e.handleAssignment,handleDelete:e.handleDelete,assignment:u,updateAssignmentInAssignmentPage:e.updateAssignmentInAssignmentPage,createAndUpdateAssignment:e.createAndUpdateAssignment,handleAssignmentComments:e.handleAssignmentComments})}})):s.a.createElement(Z.c,null,s.a.createElement(Z.a,{exact:!0,path:h.is_manager?ee:le,render:function(){return s.a.createElement(sa,{handleAssignmentComments:e.handleAssignmentComments,handleAssignment:e.handleAssignment,updateEmployee:e.updateEmployee,employee:f||{},assignments_loaded:n,createAndUpdateAssignment:e.createAndUpdateAssignment,handleDelete:e.handleDelete})}}),s.a.createElement(Z.a,{exact:!0,path:h.is_manager?te:oe,render:function(){return s.a.createElement(da,{employee:f,active_section:_,handleAssignment:e.handleAssignment,handleDelete:e.handleDelete,assignment:u,updateAssignmentInAssignmentPage:e.updateAssignmentInAssignmentPage,createAndUpdateAssignment:e.createAndUpdateAssignment,handleAssignmentComments:e.handleAssignmentComments})}})))}}]),t}(r.Component);var Wa=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,assignments:e.assignments,user:e.user,global:e.global}}),n)(Va)),Ja=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.changeSection(!1)}),100)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),20)}},{key:"render",value:function(){var e=this,t=this.props,a=t.employee,n=t.hide_status,r=t.show_close_btn,o=this.state.loaded,l=this.props.global.system_text,i=a.name,c=a.phone,u=a.position,m=a.email,p=a.active,d=a.avatar;return s.a.createElement("div",{style:{opacity:o?1:0},className:"employee__page__personal page__flex"},r?s.a.createElement("button",{className:"employee__page__personal__close",onClick:function(){return e.close()}},s.a.createElement(Oa.a,null)):"",s.a.createElement("section",{className:"flex__start"},s.a.createElement("figure",{className:"employee__img flex__center"},d?s.a.createElement("img",{src:d,alt:""}):s.a.createElement(Ne.a,null)),s.a.createElement("button",{className:"employee__page__edit save__btn",onClick:function(){return e.props.toggleHandleEmployee(!0)}},l.EDIT)),s.a.createElement("ul",{className:"employee__page__personal__details flex__start"},s.a.createElement("li",null,s.a.createElement("h5",null,l.NAME),s.a.createElement("h3",null,i||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.EMAIL),s.a.createElement("h3",null,m||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.PHONE),s.a.createElement("h3",null,c||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.POSITION),s.a.createElement("h3",null,u||"-")),n?"":s.a.createElement("li",null,s.a.createElement("h5",null,l.STATUS),s.a.createElement("h3",null,p?l.ACTIVE:l.INACTIVE))))}}]),t}(r.Component);var qa=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),n)(Ja),Ba=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeSection=function(t){e.setState({profile:t})},e.getEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="employee/get-by-id?id=".concat(a),t.next=3,St(n);case 3:(r=t.sent).ok&&setTimeout((function(){e.setState({employee:r.result})}),100);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a,n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n&&e.resetEmployeePassword(a),"employee/update",t.next=4,jt("employee/update",a);case 4:(r=t.sent).ok&&e.setState({employee:r.result});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.toggleHandleEmployee=function(t){e.setState({handle_employee:t})},e.resetEmployeePassword=function(){var e=Object(q.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/password-reset",a={_id:t._id,password:t.password},e.next=4,jt("employee/password-reset",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.state={active_section:"assignments",assignments:[]},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.manager,a=t||this.props.match.params.id,setTimeout((function(){n.setState({page_loaded:!0})}),20),e.next=5,this.getEmployee(a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.employee,a=e.active_section,n=e.page_loaded,r=e.handle_employee,o=e.profile,l=this.props.user.user,i=this.props.global.system_text;return n?s.a.createElement("div",{className:"employee__page",id:l.is_manager?"":"employee__page--employee"},r?s.a.createElement(pt,{toggleHandleProfile:this.toggleHandleEmployee,profile_to_edit:t,returnEmployee:this.updateEmployee,save:this.updateEmployee,resetPassword:this.resetEmployeePassword,edit_text:i.EDIT_EMPLOYEE}):"",l.is_manager?s.a.createElement(Jt,{system_text:i,changeSection:this.changeSection,active_section:a,active:!0,employee:t||{},user:l}):"",s.a.createElement("div",{className:"page__flex"},s.a.createElement(Wa,{hide_page:o,employee:t,updateEmployee:this.updateEmployee,updateParentState:this.updateState}),o?s.a.createElement(qa,{show_close_btn:!0,toggleHandleEmployee:this.toggleHandleEmployee,employee:t||{},save:this.updateEmployee,changeSection:this.changeSection}):"")):""}}]),t}(r.Component);var Qa=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,assignments:e.assignments,user:e.user,global:e.global}}),n)(Ba)),Ka=function(e){var t=e.m,a=e.system_text,n=[{text:"EDIT",function:e.toggleHandleAssignment,param1:!0,param2:t},{text:"REMOVE",function:e.handleRemove,param1:t}];return s.a.createElement("li",{className:"assignments__list__assignment"},s.a.createElement(je,{width:"120px",options:n}),s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,a.TITLE),s.a.createElement("h4",null,t.title)),s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,a.CONTENT),s.a.createElement(oa.Editor,{toolbarHidden:!0,editorState:la.EditorState.createWithContent(Object(la.convertFromRaw)(JSON.parse(t.text))),readOnly:!0})),t.files&&t.files.length>0?s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,a.FILES),s.a.createElement("ul",null,t.files.map((function(e){return s.a.createElement("div",{className:"system__file",key:e._id},s.a.createElement("a",{href:e.url,target:"_blank"},s.a.createElement("p",null,e.name)))})))):"")},Xa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).toggleHandleAssignment=function(t,a){e.setState({handle_assignment:t,assignment_to_edit:a})},e.handleRemove=function(t){e.setState({assignment_to_remove:t})},e.close=function(){e.setState({assignment_to_remove:"",handle_assignment:""})},e.remove=Object(q.a)(J.a.mark((function t(){var a,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.assignment_to_remove,n=e.props.assignments.assignments_list,e.setState({remove_loading:!0}),"assignment/delete",t.next=6,jt("assignment/delete",{id:a._id});case 6:t.sent.ok&&(e.props.removeAssignment(a,n),e.close()),setTimeout((function(){e.setState({remove_loading:!1})}),400);case 9:case"end":return t.stop()}}),t)}))),e.create=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.global.system_text,r=e.props.assignments.assignments_list,"assignment",e.setState({loading:!0}),t.next=6,jt("assignment",a);case 6:(s=t.sent).ok&&e.props.addAssignment(s.result,r),e.props.updateGlobalReducer("success",n.ASSIGNMENT_CREATE_SUCCESS),e.setState({loading:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.edit=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.assignments.assignments_list,"assignment",e.setState({loading:!0}),t.next=5,jt("assignment",a);case 5:(r=t.sent).ok&&e.props.updateAssignment(r.result,n),e.setState({loading:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"assignment",e.next=3,St("assignment");case 3:(t=e.sent).ok&&(this.props.setDataToAssignmentsReducer("assignments_list",t.result),this.setState({assignments_loaded:!0}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.assignments.assignments_list,a=this.state,n=a.handle_assignment,r=a.assignment_to_edit,o=a.assignment_to_remove,l=a.loading,i=a.assignments_loaded,c=a.remove_loading,u=this.props.global.system_text;return s.a.createElement("div",{className:"assignments page__flex"},s.a.createElement(dt,{text:u.REMOVE_TEXT,name:"".concat(o?o.title:"","?"),active:o,submit:this.remove,close:this.close,submit_text:u.YES,close_text:u.NO,loading:c}),n?s.a.createElement(Ma,{loading:l,edit:this.edit,create:this.create,assignment_to_edit:r,toggleHandleAssignment:this.toggleHandleAssignment}):" ",s.a.createElement("div",{className:"sticky__top"},s.a.createElement($e,{svg:s.a.createElement(ta.a,null),handleClick:function(){return e.toggleHandleAssignment(!0)},tooltip:u.CREATE})),s.a.createElement("ul",{className:"assignments__list flex__start"},i&&t&&t.length>0?t.map((function(t){return s.a.createElement(Ka,{m:t,system_text:u,handleRemove:e.handleRemove,toggleHandleAssignment:e.toggleHandleAssignment,key:t._id})})):i?s.a.createElement(Tt,{text:u.NO_TEMPLATES}):s.a.createElement(Zt,{arr:Object(ce.a)(Array(3).keys())})))}}]),t}(r.Component);var za=Object(Z.f)(Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),n)(Xa)),Za=a(86),$a=(r.Component,function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getGraphData=Object(q.a)(J.a.mark((function t(){var a,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"overview/assignments",t.next=3,St("overview/assignments");case 3:(a=t.sent).ok&&(n=a.result,r={labels:["Pending","In progress","Done"],datasets:[{data:[n.pending,n.in_progress,n.done],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},e.setState({graph_data:r}));case 5:case"end":return t.stop()}}),t)}))),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.getGraphData()}},{key:"render",value:function(){var e=this.state.graph_data;return s.a.createElement("div",{className:"overview__section"},e?s.a.createElement(Za.a,{data:e}):"")}}]),t}(r.Component)),en=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getData=Object(q.a)(J.a.mark((function t(){var a,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.type,"employee/all",t.next=4,St("employee/all");case 4:(n=t.sent).ok&&(r=n.result,e.setState({employees:r}),e.generateData(r,a));case 6:case"end":return t.stop()}}),t)}))),e.generateData=function(t,a){var n={labels:t.map((function(e){return e.name})),datasets:[{label:"",backgroundColor:"rgba(0, 145, 255, 0.5)",borderColor:"rgba(255,99,132,0)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:t.map((function(e){return e.assignments_count[a]}))}]};e.setState({graph_data:n})},e.state={type:"pending"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=(e.type,e.graph_data);return s.a.createElement("div",{className:"overview__section"},s.a.createElement(Za.b,{options:{legend:{display:!1},scales:{xAxes:[{ticks:{beginAtZero:!1},gridLines:{offsetGridLines:!1}}],yAxes:[{stacked:!0,gridLines:{}}]}},data:t}))}}]),t}(r.Component),tn=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"overview flex__start"},s.a.createElement("div",{className:"page__flex flex__column"},s.a.createElement($a,null),s.a.createElement(en,null)))}}]),t}(r.Component),an=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){this.props.global.system_text;var e=this.props.settings_routes;this.props.user.user;return s.a.createElement("div",{className:"settings page__flex"},s.a.createElement(Z.c,null,e.map((function(e,t){return s.a.createElement(Z.a,{key:t,exact:!0,path:e.route,render:function(){return e.component}})}))))}}]),t}(r.Component);var nn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(an)),rn=a(333),sn=a.n(rn),on=a(190),ln=a.n(on),cn=a(191),un=a.n(cn),mn=a(334),pn=a.n(mn),dn=[{url:$,text:"EMPLOYEES",value:"employees",img:s.a.createElement(sn.a,null)},{url:"/dashboard/templates",text:"TEMPLATES",value:"templates",img:s.a.createElement(ln.a,null)},{url:ae,text:"PERSONAL_ASSIGNMENTS",value:"personal-assignments",img:s.a.createElement(pn.a,null),last:!0},{url:re,text:"SETTINGS",value:"settings",img:s.a.createElement(un.a,null),last:!0}],_n=[{url:le,text:"ASSIGNMENTS",value:"assignments",img:s.a.createElement(ln.a,null),param:":id"},{url:"/employee-dashboard/settings",text:"SETTINGS",value:"settings",img:s.a.createElement(un.a,null),last:!0}],fn=a(335),gn=a.n(fn),En=a(336),hn=a.n(En),vn=[{name:"PROFILE",url:"/employee-dashboard/settings/profile",img:s.a.createElement(Ne.a,null)}],bn=[{name:"PROFILE",url:"/dashboard/settings/profile",img:s.a.createElement(Ne.a,null)},{name:"PERMISSIONS",url:"/dashboard/settings/permissions",img:s.a.createElement(gn.a,null)},{name:"SYSTEM",url:"/dashboard/settings/system",img:s.a.createElement(hn.a,null)}],yn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).goToPage=function(t){e.props.history.push(t)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user.user;console.log(e);var t="";t=e.is_manager?bn:vn,this.setState({categories:t})}},{key:"render",value:function(){var e=this,t=this.props.global.system_text,a=this.state.categories;return s.a.createElement("div",{className:"settings__select"},s.a.createElement("header",{className:"sticky__top"},s.a.createElement("h2",{className:"section__h2"},t.SETTINGS)),s.a.createElement("ul",{className:"settings__select__list flex__start"},a&&a.length>0?a.map((function(a){return s.a.createElement("li",{className:"settings__select__list__element flex__column",onClick:function(){return e.goToPage(a.url)}},a.img,s.a.createElement("h4",null,t[a.name]))})):""))}}]),t}(r.Component);var On=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(yn)),Sn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getProfile=Object(q.a)(J.a.mark((function t(){var a,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.user.user,n="",n=a.is_manager?"users/get-profile":"employee/get-profile",t.next=5,St(n);case 5:(r=t.sent).ok&&e.setState({profile:r.result});case 7:case"end":return t.stop()}}),t)}))),e.saveProfile=function(){var t=Object(q.a)(J.a.mark((function t(a,n){var r,s,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.user.user,s="",s=r.is_manager?"users/update":"employee/update",t.next=5,jt(s,a);case 5:(o=t.sent).ok&&(e.props.updateUserReducer("user",o.result),e.setState({profile:a})),n&&e.resetProfilePassword(a);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.resetProfilePassword=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user.user,r="",s={password:a.password},n.is_manager?r="users/reset-password":(s._id=a._id,r="employee/reset-password"),t.next=6,jt(r,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleHandleProfile=function(t){e.setState({edit_profile:t})},e.state={edit_profile:!1},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getProfile();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.profile,a=e.edit_profile,n=this.props.user.user,r=this.props.global.system_text;return t?s.a.createElement("div",{className:"settings__profile"},s.a.createElement("header",{className:"sticky__top"},s.a.createElement(ie.b,{className:"back__button flex__start",to:n.is_manager?re:"/employee-dashboard/settings"},s.a.createElement(ma.a,null),r.SETTINGS)),s.a.createElement(qa,{employee:t,toggleHandleEmployee:this.toggleHandleProfile,hide_status:!0}),a?s.a.createElement(pt,{profile_to_edit:t,save:this.saveProfile,resetPassword:this.resetProfilePassword,toggleHandleProfile:this.toggleHandleProfile,edit_text:"Edit profile",status_disabled:!0}):null):null}}]),t}(r.Component);var jn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Sn)),xn=[{text:"CREATE_ASSIGNMENTS",code:"EM001"},{text:"EDIT_ASSIGNMENTS",code:"EM002"},{text:"DELETE_ASSIGNMENTS",code:"EM003"},{text:"EDIT_PROFILE",code:"EM004"}],Nn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).update=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s,o,l,i;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user,r=n.permissions,s=n.user,o=Object(ce.a)(r),l=(l=Object(ce.a)(r)).includes(a)?l.filter((function(e){return e!==a})):[].concat(Object(ce.a)(l),[a]),i={user:s._id,permissions:l},"account-settings/update",e.props.updateUserReducer("permissions",l),t.next=9,jt("account-settings/update",i);case 9:t.sent.ok||e.props.updateUserReducer("permissions",o);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={user_permissions:[]},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user,a=t.permissions,n=t.user,r=this.props.global.system_text;return s.a.createElement("div",{className:"settings__permissions"},s.a.createElement("header",{className:"sticky__top"},s.a.createElement(ie.b,{className:"back__button flex__start",to:n.is_manager?re:"/employee-dashboard/settings"},s.a.createElement(ma.a,null),r.SETTINGS)),s.a.createElement("h2",null,r.EMPLOYEE_PERMISSIONS),s.a.createElement("ul",{className:"settings__permissions__list"},xn.map((function(t,n){return s.a.createElement("li",null,s.a.createElement(Je,{key:n,active_text:r[t.text],inactive_text:r[t.text],updateEmployee:e.update,value:a.includes(t.code),property_name:t.code}))}))))}}]),t}(r.Component);var wn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Nn)),An=function(e){function t(e){var a;return Object(B.a)(this,t),(a=Object(K.a)(this,Object(X.a)(t).call(this,e))).setWrapperRef=function(e){a.wrapperRef=e},a.handleClickOutside=function(e){a.wrapperRef&&!a.wrapperRef.contains(e.target)&&a.setState({active:!1})},a.select=function(e){var t=a.props,n=t.property_name;t.with_property?a.props.handleSelect(n,e):a.props.handleSelect(e),a.setState({active:!1})},a.state={},a}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.state.active,a=this.props,n=a.options,r=a.value;return s.a.createElement("div",{id:t?"selectbox--active":"",ref:this.setWrapperRef,className:"selectbox"},s.a.createElement("header",{className:"flex__start",onClick:function(){return e.setState({active:!t})}},r?s.a.createElement(s.a.Fragment,null,r.img?s.a.createElement("img",{src:r.img}):"",r.name):""),s.a.createElement("ul",{className:"selectbox__list"},n&&n.length>0?n.map((function(t,a){return s.a.createElement("li",{className:"flex__start",onClick:function(){return e.select(t)},key:a},t.img?s.a.createElement("img",{src:t.img}):"",t.name)})):""))}}]),t}(r.Component),kn=a(337),Tn=a.n(kn),Pn=a(338),Cn=a.n(Pn),Dn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),20),setTimeout((function(){e.setState({loaded:!1})}),3e3),setTimeout((function(){e.props.close()}),3300)}},{key:"render",value:function(){var e=this.props.text,t=this.state.loaded;return s.a.createElement("div",{style:{opacity:t?1:0},className:"settings__system__loading"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("section",{className:"settings__system__loading__content flex__column"},s.a.createElement("h3",null,e),s.a.createElement(Ie,{active:!0})))}}]),t}(r.Component),In=[{name:"English",value:"english",img:Cn.a},{name:"Hebrew",value:"hebrew",img:Tn.a}],Rn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeLanguage=function(){var t=Object(q.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.user.user,"account-settings/update",e.setState({loading:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={user:n._id,language:a.value},t.prev=1,t.next=4,jt("account-settings/update",r).then((function(t){e.props.setSystemLanguage(t.result.language);var a=In.filter((function(e){return e.value===t.result.language}))[0];e.setState({selected:a})}));case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,null,[[1,6]])}))),500);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.global.language,t=In.filter((function(t){return t.value===e}))[0];console.log(t,e),this.setState({selected:t})}},{key:"render",value:function(){var e=this,t=this.props.global.system_text,a=this.state,n=a.selected,r=a.loading,o=this.props.user.user;return s.a.createElement("div",{className:"settings__system"},s.a.createElement("header",{className:"sticky__top"},s.a.createElement(ie.b,{className:"back__button flex__start",to:o.is_manager?re:"/employee-dashboard/settings"},s.a.createElement(ma.a,null),t.SETTINGS)),r?s.a.createElement(Dn,{text:t.LANGUAGE_LOADING,close:function(){return e.setState({loading:!1})}}):"",s.a.createElement("section",{className:"settings__system__section"},s.a.createElement("h2",null,t.LANGUAGE_SELECT),s.a.createElement(An,{value:n,options:In,handleSelect:this.changeLanguage})))}}]),t}(r.Component);var Mn=Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Rn),Ln=[{component:s.a.createElement(On,null),route:re},{component:s.a.createElement(jn,null),route:"/dashboard/settings/profile"},{component:s.a.createElement(wn,null),route:"/dashboard/settings/permissions"},{component:s.a.createElement(Mn,null),route:"/dashboard/settings/system"}],Gn=[{component:s.a.createElement(On,null),route:"/employee-dashboard/settings"},{component:s.a.createElement(jn,null),route:"/employee-dashboard/settings/profile"}],Fn=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){return console.log("invalid"),s.a.createElement("div",null)}}]),t}(r.Component);function Un(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Yn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Un(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Un(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Hn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user.user,a="employee_assignment/get-by-employee-id?employee_id=".concat(t._id),e.next=4,St(a);case 4:(n=e.sent).ok&&((r=Yn({},t)).assignments=n.result,this.props.updateUserReducer("user",r)),this.setState({page_loaded:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user.user,t=this.state.page_loaded;return s.a.createElement("div",{className:"manager__assignments employee__page"},s.a.createElement("div",{className:"page__flex"},t?s.a.createElement(Wa,{employee:e,manager_assignments:!0}):""))}}]),t}(r.Component);var Vn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Hn)),Wn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user.user,console.log(t),a="account-settings?id=".concat(t._id),e.next=5,St(a);case 5:(n=e.sent).ok&&(this.props.updateUserReducer("permissions",n.result.permissions),this.props.updateUserReducer("system_logo",n.result.avatar),this.props.setSystemLanguage(n.result.language));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user,t=e.user,a=e.system_logo,n=this.props.global.language;return t&&t.is_manager&&n?s.a.createElement("div",{className:"dashboard"},a?s.a.createElement("div",{className:"dashboard__logo page__flex"},s.a.createElement("img",{src:a})):"",s.a.createElement(ie.a,null,s.a.createElement(Ht,{navigations:dn}),s.a.createElement(Z.c,null,s.a.createElement(Z.a,{exact:!0,path:$,render:function(){return s.a.createElement(It,null)}}),s.a.createElement(Z.a,{exact:!0,path:"/dashboard/overview",render:function(){return s.a.createElement(tn,null)}}),s.a.createElement(Z.a,{path:ee,render:function(){return s.a.createElement(Qa,null)}}),s.a.createElement(Z.a,{path:te,render:function(){return s.a.createElement(da,null)}}),s.a.createElement(Z.a,{exact:!0,path:"/dashboard/templates",render:function(){return s.a.createElement(za,null)}}),s.a.createElement(Z.a,{path:ae,render:function(){return s.a.createElement(Vn,null)}}),s.a.createElement(Z.a,{path:re,render:function(){return s.a.createElement(nn,{settings_routes:Ln})}}),s.a.createElement(Z.a,{path:"*",exact:!0,component:Fn})))):""}}]),t}(r.Component);var Jn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Wn)),qn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user.user,a="account-settings?id=".concat(t.user),e.next=4,St(a);case 4:(n=e.sent).ok&&(this.props.updateUserReducer("permissions",n.result.permissions),this.props.updateUserReducer("system_logo",n.result.avatar),this.props.setSystemLanguage(n.result.language),r=_n,Qt(t,n.result.permissions,"EM004")||(r=r.filter((function(e){return"settings"!==e.value}))),this.setState({navigations:r})),this.setState({page_loaded:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user.user,t=this.props.global.language,a=this.state,n=a.navigations,r=a.page_loaded;return e&&n&&r&&t?s.a.createElement("div",{className:"dashboard"},s.a.createElement(ie.a,null,s.a.createElement(Ht,{navigations:n}),s.a.createElement(Z.c,null,s.a.createElement(Z.a,{path:le,render:function(){return s.a.createElement(Qa,null)}}),s.a.createElement(Z.a,{path:"/employee-dashboard/settings",render:function(){return s.a.createElement(nn,{settings_routes:Gn})}})))):""}}]),t}(r.Component);var Bn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(qn)),Qn=function(e){var t=e.error;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:t?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.close()}},"Close"))))};var Kn=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),n)((function(e){var t=e.msg,a=e.global.system_text;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:t?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.close()}},a.CLOSE))))})),Xn=function(){var e=Object(q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/login-by-jwt",e.next=3,St("auth/login-by-jwt");case 3:if(!(t=e.sent).ok){e.next=8;break}return e.abrupt("return",t.result);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zn=[{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0}],Zn=function(e){var t=e.text,a=e.active;return s.a.createElement("div",{className:"submit__btn"},a?s.a.createElement(Ie,{active:!0}):s.a.createElement("button",null,t))},$n=a(339),er=a.n($n);function tr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ar=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateForm=function(t,a){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tr(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state.form_data);n[t]=a,e.setState({form_data:n})},e.submitForm=function(t){t.preventDefault(),e.setState({validate:!0}),setTimeout((function(){0===document.querySelectorAll(".text__input__error").length&&e.signin(),e.setState({validate:!1})}),50)},e.signin=Object(q.a)(J.a.mark((function t(){var a,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.form_data,e.setState({loading:!0}),"auth/login",t.next=5,jt("auth/login",a);case 5:if(!(n=t.sent).ok){t.next=18;break}if(e.props.updateUserReducer("user",n.result),bt(Et,n.result.token),!n.result.is_manager){t.next=11;break}return t.abrupt("return",e.props.history.push($));case 11:if(n.result.active){t.next=17;break}return Ot(Et),e.setState({loading:!1}),t.abrupt("return",e.props.updateGlobalReducer("error","Employee is inactive"));case 17:return t.abrupt("return",e.props.history.push(le.replace(":id",n.result._id)));case 18:!n.ok&&n.result&&e.props.updateGlobalReducer("error",n.result),e.setState({loading:!1});case 20:case"end":return t.stop()}}),t)}))),e.state={form_data:{}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/"),t=e[e.length-1];this.setState({demo:"demo"===t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.form_data,n=t.validate,r=t.loading,o=t.demo;return s.a.createElement("div",{className:"login flex__center"},s.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)},className:"login__form signin__form flex__column"},s.a.createElement(er.a,{style:{fontSize:"70px",marginLeft:"auto",marginRight:"auto",marginBottom:"20px",color:"rgba(0, 145, 255, 1)"}}),s.a.createElement("section",{className:"login__form__inputs"},zn.map((function(t,r){return s.a.createElement(Ye,{key:r,handleUpdate:e.updateForm,input:t,validate:n,value:a[t.property_name]})})),o?s.a.createElement("div",{className:"login__demo__account"},s.a.createElement("h3",null,"Demo account"),s.a.createElement("span",{className:"flex__start"},s.a.createElement("h5",null,"Username:"),s.a.createElement("h4",null,"demo@demo.com")),s.a.createElement("span",{className:"flex__start"},s.a.createElement("h5",null,"Password:"),s.a.createElement("h4",null,"demo123"))):""),s.a.createElement(Zn,{text:"Submit",active:r})))}}]),t}(r.Component);var nr=Object(Z.f)(Object(i.c)((function(e){return{user:e.user}}),n)(ar)),rr=[{label:"NAME",property_name:"name",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0}],sr=function(e){var t=e.active;return s.a.createElement("div",{id:t?"login__signup__success--active":"",className:"login__signup__success flex__column"},s.a.createElement("h2",null,"Congratulation!"),s.a.createElement("h3",null,"Your account has been created successfully"),s.a.createElement("p",null,"Redirecting you to the application..."),s.a.createElement(Ie,null))};function or(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var lr=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateForm=function(t,a){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?or(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):or(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state.form_data);n[t]=a,e.setState({form_data:n})},e.submitForm=function(t){t.preventDefault(),e.setState({validate:!0}),setTimeout((function(){0===document.querySelectorAll(".text__input__error").length&&e.signup(),e.setState({validate:!1})}),50)},e.signup=Object(q.a)(J.a.mark((function t(){var a,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.form_data,"users/create",e.setState({loading:!0}),t.next=5,jt("users/create",a);case 5:(n=t.sent).ok&&(e.props.updateUserReducer("user",n.result),bt(Et,n.result.token),e.setState({signup_success:!0}),setTimeout((function(){e.props.history.push($)}),3e3)),!n.ok&&n.result&&e.props.updateGlobalReducer("error",n.result),e.setState({loading:!1});case 9:case"end":return t.stop()}}),t)}))),e.state={form_data:{}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.form_data,n=t.validate,r=t.error_popup,o=t.loading,l=t.signup_success;return s.a.createElement("div",{className:"login flex__center"},s.a.createElement(sr,{active:l}),s.a.createElement("form",{style:{filter:l?"blur(2px)":""},onSubmit:function(t){return e.submitForm(t)},className:"login__form signup__form flex__column"},s.a.createElement("h2",null,"Signup"),r?s.a.createElement("p",null,r):"",s.a.createElement("section",{className:"login__form__inputs"},rr.map((function(t,r){return s.a.createElement(Ye,{key:r,handleUpdate:e.updateForm,input:t,validate:n,value:a[t.property_name]})}))),s.a.createElement(Zn,{text:"Submit",active:o})))}}]),t}(r.Component);var ir=Object(Z.f)(Object(i.c)((function(e){return{user:e.user}}),n)(lr)),cr=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleNoAccessRoutes=function(t){-1===t.indexOf("login")&&-1===t.indexOf("signup")&&e.props.history.push(se)},e.handleUserRouting=function(t,a){if(!a.split("/")[1])return t.is_manager?e.props.history.push($):e.props.history.push(le.replace(":id",t._id))},e.close=function(){e.props.updateGlobalReducer("error",!1),e.props.updateGlobalReducer("success",!1)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt(Et);case 2:if(t=e.sent,a=window.location.pathname,!t){e.next=11;break}return e.next=7,Xn();case 7:(n=e.sent)&&(this.props.updateUserReducer("user",n),this.handleUserRouting(n,a)),e.next=12;break;case 11:this.handleNoAccessRoutes(a);case 12:this.setState({page_loaded:!0});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.global,t=e.error,a=e.success,n=this.props.user.user;return this.state.page_loaded?s.a.createElement("div",null,s.a.createElement(Kn,{active:!0,msg:a,close:this.close}),s.a.createElement(Qn,{active:!0,error:t,close:this.close}),s.a.createElement(Z.c,null,n&&n._id?s.a.createElement(Z.a,{path:"/dashboard",render:function(){return s.a.createElement(Jn,null)}}):null,s.a.createElement(Z.a,{path:se,render:function(){return s.a.createElement(nr,null)}}),s.a.createElement(Z.a,{path:"/signup",render:function(){return s.a.createElement(ir,null)}}),n&&n._id?s.a.createElement(Z.a,{path:"/employee-dashboard",render:function(){return s.a.createElement(Bn,null)}}):null,s.a.createElement(Z.a,{path:"*",exact:!0,component:Fn}))):""}}]),t}(r.Component);var ur,mr=Object(Z.f)(Object(i.c)((function(e){return{router:e.router,user:e.user,global:e.global}}),n)(cr)),pr=_()(),dr=Object(c.e)((ur=pr,Object(c.c)({router:Object(m.b)(ur),employees:v,navbar:S,assignments:w,user:C,global:V})),{},Object(c.d)(Object(c.a)(Object(u.a)(pr),p.a)));l.a.render(s.a.createElement(i.a,{store:dr},s.a.createElement(m.a,{history:pr},s.a.createElement(mr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[359,1,2]]]);
//# sourceMappingURL=main.12596859.chunk.js.map