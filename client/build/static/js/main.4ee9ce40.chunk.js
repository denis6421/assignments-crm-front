(this["webpackJsonpsass-test"]=this["webpackJsonpsass-test"]||[]).push([[0],{335:function(e,t,a){e.exports=a.p+"static/media/israel.36a29225.svg"},336:function(e,t,a){e.exports=a.p+"static/media/usa.a035edad.svg"},357:function(e,t,a){e.exports=a(730)},368:function(e,t,a){},451:function(e,t){},453:function(e,t){},486:function(e,t){},487:function(e,t){},730:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setDataToEmployeesReducer",(function(){return ie})),a.d(n,"removeEmployee",(function(){return ce})),a.d(n,"AddAndUpdateEmployee",(function(){return ue})),a.d(n,"updateNavbarReducer",(function(){return pe})),a.d(n,"setDataToAssignmentsReducer",(function(){return me})),a.d(n,"addAssignment",(function(){return de})),a.d(n,"removeAssignment",(function(){return _e})),a.d(n,"updateAssignment",(function(){return fe})),a.d(n,"updateUserReducer",(function(){return Ee})),a.d(n,"updateGlobalReducer",(function(){return ge})),a.d(n,"setSystemLanguage",(function(){return he}));var r=a(0),s=a.n(r),o=a(24),l=a.n(o),i=a(14),c=a(66),u=a(308),p=a(136),m=a(310);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(338),_=a.n(d),f=a(6);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={employees_list:[],employee_assignments:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set data to employees reducer":var a=t.payload,n=a.name,r=a.value;return g({},e,Object(f.a)({},n,r));default:return e}};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={selected_employee:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update navbar reducer":var a=t.payload,n=a.name,r=a.value;return y({},e,Object(f.a)({},n,r));default:return e}};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N={assignments_list:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sety data to assignments reducer":var a=t.payload,n=a.name,r=a.value;return x({},e,Object(f.a)({},n,r));default:return e}};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T,C={user:"",permissions:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update user reducer":var a=t.payload,n=a.name,r=a.value;return A({},e,Object(f.a)({},n,r));default:return e}},D=a(183),I=a.n(D),R=a(184),M=a.n(R),L=a(182),G=a.n(L),F={english:(T={settings:{direction:"ltr"},LANGUAGE_LOADING:"Language is loading...",pending:"Pending",in_progress:"In progress",done:"Done",LAST_UPDATED:"Last updated",CREATE_ASSIGNMENTS:"Create assignments",EDIT_ASSIGNMENTS:"Edit assignments",DELETE_ASSIGNMENTS:"Delete assignments",EDIT_PROFILE:"Edit profile",EMPLOYEE_PERMISSIONS:"Employee Permissions",PROFILE:"Profile",PERMISSIONS:"Permissions",SYSTEM:"System",NO_ASSIGNMENTS:"No assignments",ASSIGNMENT_CREATE_SUCCESS:"Assignment created",LOGOUT:"Logout",LANGUAGE_SELECT:"System language",NO_TEMPLATES:"No templates",SETTINGS:"Settings",EMPLOYEES:"Employees",CREATE_EMPLOYEE_BTN:"CREATE EMPLOYEE",EDIT_EMPLOYEE:"Edit Employee",CREATE_EMPLOYEE:"Create Employee",EMPLOYEES_TITLES:["Name","Pending","In progress","Done"],NAME:"Name"},Object(f.a)(T,"pending","Pending"),Object(f.a)(T,"in_progress","In progress"),Object(f.a)(T,"done","Done"),Object(f.a)(T,"NEW_EMPLOYEE","Create Employee"),Object(f.a)(T,"EMAIL","Email"),Object(f.a)(T,"PHONE","Phone"),Object(f.a)(T,"POSITION","Position"),Object(f.a)(T,"PASSWORD","Password"),Object(f.a)(T,"COPY","Copy"),Object(f.a)(T,"COPIED","Copied"),Object(f.a)(T,"GENERATE","Generate"),Object(f.a)(T,"GENERATED","Generated"),Object(f.a)(T,"SAVE","Save"),Object(f.a)(T,"CANCEL","Cancel"),Object(f.a)(T,"YES","Yes"),Object(f.a)(T,"NO","No"),Object(f.a)(T,"RESET","Reset"),Object(f.a)(T,"INVALID_PHONE","Invalid Phone"),Object(f.a)(T,"INVALID_EMAIL","Invalid Email"),Object(f.a)(T,"REQUIRED_FIELD","Required Field"),Object(f.a)(T,"EMPLOYEE_PAGE","Employee Page"),Object(f.a)(T,"EDIT","Edit"),Object(f.a)(T,"CREATE","Create"),Object(f.a)(T,"DELETE","Delete"),Object(f.a)(T,"REMOVE_TEXT","Are you sure, you want to remove:"),Object(f.a)(T,"REMOVE_ASSIGNMENT_QUESTION","Delete the assignment"),Object(f.a)(T,"NO_EMPLOYEES","No Employees"),Object(f.a)(T,"ASSIGNMENTS","Assignments"),Object(f.a)(T,"ASSIGNMENT","Assignment"),Object(f.a)(T,"ADD_FILE","Add file"),Object(f.a)(T,"SELECT_DATE","Select Date"),Object(f.a)(T,"EMPLOYEE_INFO","Employee info"),Object(f.a)(T,"STATUS","Status"),Object(f.a)(T,"TITLE","Title"),Object(f.a)(T,"TEXT","Text"),Object(f.a)(T,"DEADLINE","Deadline"),Object(f.a)(T,"ACTIVE","Active"),Object(f.a)(T,"INACTIVE","Inactive"),Object(f.a)(T,"TEMPLATES","Templates"),Object(f.a)(T,"NEW_ASSIGNMENT","Create Assignment"),Object(f.a)(T,"EMPLOYEE_ASSIGNMENTS_TITLES",["Title","Deadline","Actions"]),Object(f.a)(T,"VIEW","View"),Object(f.a)(T,"MARK_AS_PENDING","Mark as pending"),Object(f.a)(T,"MARK_AS_DONE","Mark as done"),Object(f.a)(T,"MARK_AS_PROGRESS","Mark as in progress"),Object(f.a)(T,"REMOVE","Remove"),Object(f.a)(T,"CONTENT","Content"),Object(f.a)(T,"FILES","Files"),Object(f.a)(T,"COMMENTS","Comments"),Object(f.a)(T,"COMMENT","Comment"),Object(f.a)(T,"CLOSE","Close"),Object(f.a)(T,"ASSIGNMENT_STATUS_ARR",[{text:"Pending",value:"pending",img:s.a.createElement(G.a,null)},{text:"In progress",value:"in_progress",img:s.a.createElement(I.a,null)},{text:"Done",value:"done",img:s.a.createElement(M.a,null)}]),T),hebrew:{settings:{direction:"rtl"},LANGUAGE_LOADING:"\u05d4\u05e9\u05e4\u05d4 \u05e0\u05d8\u05e2\u05e0\u05ea...",pending:"\u05de\u05de\u05ea\u05d9\u05df",in_progress:"\u05d1\u05ea\u05d4\u05dc\u05d9\u05da",done:"\u05d1\u05d5\u05e6\u05e2",LAST_UPDATED:"\u05e2\u05d5\u05d3\u05db\u05df \u05dc\u05d0\u05d7\u05e8\u05d5\u05e0\u05d4",CREATE_ASSIGNMENTS:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",EDIT_ASSIGNMENTS:"\u05e2\u05e8\u05d9\u05db\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",DELETE_ASSIGNMENTS:"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",EDIT_PROFILE:"\u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc",EMPLOYEE_PERMISSIONS:"\u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05e2\u05d5\u05d1\u05d3",PROFILE:"\u05de\u05e9\u05ea\u05de\u05e9",PERMISSIONS:"\u05d4\u05e8\u05e9\u05d0\u05d5\u05ea",SYSTEM:"\u05de\u05e2\u05e8\u05db\u05ea",NO_ASSIGNMENTS:"\u05d0\u05d9\u05df \u05de\u05e9\u05d9\u05de\u05d5\u05ea",CLOSE:"\u05e1\u05d2\u05d5\u05e8",ASSIGNMENT_CREATE_SUCCESS:"\u05ea\u05d1\u05e0\u05d9\u05ea \u05e0\u05d5\u05e6\u05e8\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",LOGOUT:"\u05d4\u05ea\u05e0\u05ea\u05e7",LANGUAGE_SELECT:"\u05e9\u05e4\u05ea \u05de\u05e2\u05e8\u05db\u05ea",NO_TEMPLATES:"\u05d0\u05d9\u05df \u05ea\u05d1\u05e0\u05d9\u05d5\u05ea",SETTINGS:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",EMPLOYEES:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",CREATE_EMPLOYEE_BTN:"\u05e6\u05d5\u05e8 \u05e2\u05d1\u05d3",EDIT_EMPLOYEE:"\u05e2\u05e8\u05d5\u05da \u05e2\u05d5\u05d1\u05d3",CREATE_EMPLOYEE:"\u05e6\u05d5\u05e8 \u05e2\u05d5\u05d1\u05d3",EMPLOYEES_TITLES:["\u05e9\u05dd","\u05de\u05de\u05ea\u05d9\u05df","\u05d1\u05ea\u05d4\u05dc\u05d9\u05da","\u05d1\u05d5\u05e6\u05e2"],NAME:"\u05e9\u05dd",NEW_EMPLOYEE:"\u05e6\u05d5\u05e8 \u05e2\u05d5\u05d1\u05d3",EMAIL:"\u05de\u05d9\u05d9\u05dc",PHONE:"\u05d8\u05dc\u05e4\u05d5\u05df",POSITION:"\u05e2\u05de\u05d3\u05d4",PASSWORD:"\u05e1\u05d9\u05e1\u05de\u05d0",COPY:"\u05d4\u05e2\u05ea\u05e7",COPIED:"\u05d1\u05d5\u05e6\u05e2",GENERATE:"\u05e6\u05d5\u05e8",GENERATED:"\u05d1\u05d5\u05e6\u05e2",SAVE:"\u05e9\u05de\u05d5\u05e8",CANCEL:"\u05d1\u05d8\u05dc",YES:"\u05db\u05df",NO:"\u05dc\u05d0",RESET:"\u05d0\u05e4\u05e1",INVALID_PHONE:"\u05d8\u05dc\u05e4\u05d5\u05df \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df",INVALID_EMAIL:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05e9\u05d2\u05d5\u05d9",REQUIRED_FIELD:"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4",EMPLOYEE_PAGE:"\u05e2\u05de\u05d5\u05d3 \u05e2\u05d5\u05d1\u05d3",EDIT:"\u05e2\u05e8\u05d5\u05da",CREATE:"\u05e6\u05d5\u05e8",DELETE:"\u05de\u05d7\u05e7",REMOVE_TEXT:"\u05d4\u05d0\u05dd \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea",REMOVE_ASSIGNMENT_QUESTION:"\u05d4\u05d0\u05dd \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea",NO_EMPLOYEES:"\u05d0\u05d9\u05df \u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",ASSIGNMENTS:"\u05de\u05e9\u05d9\u05de\u05d5\u05ea",ASSIGNMENT:"\u05de\u05e9\u05d9\u05de\u05d4",ADD_FILE:"\u05d4\u05d5\u05e1\u05e3 \u05e7\u05d5\u05d1\u05e5",SELECT_DATE:"\u05d1\u05d7\u05e8 \u05ea\u05d0\u05e8\u05d9\u05da",EMPLOYEE_INFO:"\u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05e2\u05d5\u05d1\u05d3",STATUS:"\u05e1\u05d8\u05d8\u05d5\u05e1",TITLE:"\u05db\u05d5\u05ea\u05e8\u05ea",TEXT:"\u05d8\u05e7\u05e1\u05d8",DEADLINE:"\u05de\u05d5\u05e2\u05d3 \u05d0\u05d7\u05e8\u05d5\u05df",ACTIVE:"\u05e4\u05e2\u05d9\u05dc",INACTIVE:"\u05d0\u05d9\u05e0\u05d5 \u05e4\u05e2\u05d9\u05dc",TEMPLATES:"\u05ea\u05d1\u05e0\u05d9\u05d5\u05ea",NEW_ASSIGNMENT:"\u05e6\u05d5\u05e8 \u05de\u05e9\u05d9\u05de\u05d4",EMPLOYEE_ASSIGNMENTS_TITLES:["\u05db\u05d5\u05ea\u05e8\u05ea","\u05d9\u05e2\u05d3 \u05d0\u05d7\u05e8\u05d5\u05df","\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"],VIEW:"\u05e6\u05e4\u05d4 \u05d1\u05de\u05e9\u05d9\u05de\u05d4",MARK_AS_PENDING:"\u05e1\u05de\u05df \u05db\u05de\u05de\u05ea\u05d9\u05df",MARK_AS_DONE:"\u05e1\u05de\u05df \u05db\u05d1\u05d5\u05e6\u05e2",MARK_AS_PROGRESS:"\u05e1\u05de\u05df \u05db\u05de\u05ea\u05d1\u05e6\u05e2",REMOVE:"\u05de\u05d7\u05e7",CONTENT:"\u05ea\u05d5\u05db\u05df",FILES:"\u05e7\u05d1\u05e6\u05d9\u05dd",COMMENTS:"\u05d4\u05e2\u05e8\u05d5\u05ea",COMMENT:"\u05d4\u05e2\u05e8\u05d4",ASSIGNMENT_STATUS_ARR:[{text:"\u05de\u05de\u05ea\u05d9\u05df",value:"pending",img:s.a.createElement(G.a,null)},{text:"\u05d1\u05ea\u05d4\u05dc\u05d9\u05da",value:"in_progress",img:s.a.createElement(I.a,null)},{text:"\u05d1\u05d5\u05e6\u05e2",value:"done",img:s.a.createElement(M.a,null)}]}};function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H={error:!1,success:!1,system_text:F.english},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update global reducer":var a=t.payload,n=a.name,r=a.value;return Y({},e,Object(f.a)({},n,r));default:return e}},W=(a(368),a(3)),J=a.n(W),q=a(7),B=a(9),Q=a(10),K=a(12),X=a(11),z=a(13),Z=a(18),$="/dashboard/employees",ee="/dashboard/employees/:id",te="/dashboard/employees/:id/assignment/:assignment_id",ae="/dashboard/settings",ne="/login",re="/employee-dashboard/:id/assignments/:assignment_id",se="/employee-dashboard/:id/assignments",oe=a(30),le=a(31),ie=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"set data to employees reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ce=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=(r=JSON.parse(JSON.stringify(t))).filter((function(t){return t._id!==e._id})),"employees_list",n({type:"set data to employees reducer",payload:{name:"employees_list",value:r}});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ue=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r,s;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=JSON.parse(JSON.stringify(t)),(s=r.findIndex((function(t){return t._id===e._id})))>=0?r.splice(s,1,e):r=[e].concat(Object(le.a)(r)),"employees_list",n({type:"set data to employees reducer",payload:{name:"employees_list",value:r}});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},pe=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"update navbar reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},me=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"sety data to assignments reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},de=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=JSON.parse(JSON.stringify(t)),r=[e].concat(Object(le.a)(r)),"assignments_list",n({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},_e=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=(r=JSON.parse(JSON.stringify(t))).filter((function(t){return t._id!==e._id})),"assignments_list",n({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},fe=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){var r,s;return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=t?JSON.parse(JSON.stringify(t)):[],s=r.findIndex((function(t){return t._id===e._id})),console.log(s),s>=0&&r.splice(s,1,e),"assignments_list",n({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ee=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"update user reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ge=function(e,t){return function(){var a=Object(q.a)(J.a.mark((function a(n){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"update global reducer",payload:{name:e,value:t}});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},he=function(e){return function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=document.querySelector("body"),"rtl"===(r=F[e]?F[e]:F.english).settings.direction?n.classList.add("rtl__body"):n.classList.remove("rtl__body"),"system_text",a({type:"update global reducer",payload:{name:"system_text",value:r}}),a({type:"update global reducer",payload:{name:"language",value:e}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=a(312),be=a.n(ve),ye=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).setWrapperRef=function(t){e.wrapperRef=t},e.handleClickOutside=function(t){e.wrapperRef&&!e.wrapperRef.contains(t.target)&&e.setState({active:!1})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props,a=t.options,n=t.width,r=this.props.global.system_text,o=this.state.active;return s.a.createElement("div",{style:{zIndex:o?"99":""},ref:this.setWrapperRef,className:"actions"},s.a.createElement("section",{style:{background:o?"rgba(0, 145, 255, 0.2)":""},onClick:function(){return e.setState({active:!0})},className:"actions__toggle flex__center"},s.a.createElement(be.a,null)),s.a.createElement("ul",{style:{opacity:o?1:0,pointerEvents:o?"all":"none",width:n||" "},className:"actions__list"},a&&a.length>0?a.filter((function(e){return!e.disabled})).map((function(t,a){return s.a.createElement("li",{key:a,onClick:function(){t.function(t.param1,t.param2,t.param3),e.setState({active:!1})},className:"actions__list__element flex__start"},r[t.text])})):""))}}]),t}(r.Component);var Oe=Object(i.c)((function(e){return{global:e.global}}),n)(ye),Se=a(52),je=a.n(Se),xe=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).onLoad=function(){e.setState({image_loaded:!0})},e.goToEmployeePage=function(){var t=e.props.employee;e.props.history.push(ee.replace(":id",t._id))},e.edit=function(){var t=e.props.employee;e.props.toggleHandleEmployee(!0,t)},e.remove=function(){var t=e.props.employee;e.props.handleRemove(t)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.employee,n=t.list_view,r=t.system_text,o=a.avatar,l=a.name,i=a.assignments_count,c=this.state.image_loaded,u=[{text:"EMPLOYEE_PAGE",function:this.goToEmployeePage},{text:"EDIT",function:this.edit},{text:"DELETE",function:this.remove}];return s.a.createElement("li",{className:"row"===n?"employees__list__employee flex__start":"employees__list__employee flex__column"},s.a.createElement("div",{onClick:function(){return e.goToEmployeePage()},className:"employees__list__employee__name flex__start"},s.a.createElement("figure",{style:{border:o?"1px solid rgba(1, 58, 102, 0.3)":""},className:"employees__list__employee__avatar flex__center"},o?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{style:{opacity:c?1:0},src:o,alt:"",onLoad:function(){return e.onLoad()}}),c?"":s.a.createElement("aside",{className:"avatar__loader"})):s.a.createElement(je.a,null)),s.a.createElement("h3",null,l||"-")),s.a.createElement("div",{className:"employees__list__employee__stats flex__start"},s.a.createElement("h3",null,i?i.pending:0),s.a.createElement("h3",null,i?i.in_progress:0),s.a.createElement("h3",null,i?i.done:0)),s.a.createElement("div",{style:{display:"none"},id:"employee__mobile__stats",className:"employees__list__employee__stats flex__start"},s.a.createElement("span",null,s.a.createElement("h5",null,r.pending),s.a.createElement("h3",null,i?i.pending:0)),s.a.createElement("span",null,s.a.createElement("h5",null,r.in_progress),s.a.createElement("h3",null,i?i.in_progress:0)),s.a.createElement("span",null,s.a.createElement("h5",null,r.done),s.a.createElement("h3",null,i?i.done:0))),s.a.createElement(Oe,{options:u}))}}]),t}(r.Component),Ne=Object(Z.f)(xe),we=a(138),ke=a(90),Ae=a.n(ke),Te=a(314),Ce=a.n(Te),Pe=function(e){var t=e.active;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:"none"},id:"loader",class:"lds-ellipsis"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))};Ae.a.initApp("0C7F99A6-3715-126A-FF3C-3387261D5C00","957C469D-E5DE-4C1D-8A8B-A3BE62BF1CD2");var De=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFileSelect=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.property_name,r=a[0],e.setState({loading:!0,image_loaded:!1}),t.prev=3,t.next=6,Ae.a.Files.upload(r,"/myFiles",!0).then((function(t){var a=t.fileURL;e.props.update(n,a),e.setState({loading:!1})}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),t.next=12,e.props.updateGlobalReducer("error","Failed to change profile image");case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.onLoad=function(){e.setState({image_loaded:!0})},e.state={is_drag:!1},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,a=this.state,n=a.image_loaded,r=a.loading;return s.a.createElement("div",{className:"uploader"},s.a.createElement(we.a,{style:{width:"100%",height:"100%"},onDrop:function(t){return e.handleFileSelect(t)}}),t?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{className:"uploader__img",onLoad:function(){return e.onLoad()},style:{opacity:!r&&n?1:0,transition:"0.3s all"},src:t,alt:""}),r||!n?s.a.createElement(Pe,{active:!0}):""):s.a.createElement(Ce.a,null))}}]),t}(r.Component);var Ie=Object(i.c)((function(e){return{global:e.global}}),n)(De),Re=a(187),Me=a.n(Re),Le=function(e,t){switch(e){case"email":return!Me.a.isEmail(t);case"phone":return!Me.a.isMobilePhone(String(t))}},Ge=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleChnage=function(t){var a=e.props.input,n=a.property_name;if("phone"===a.type){var r=t.replace(/[^0-9.]/g,"");e.props.handleUpdate(n,r)}else e.props.handleUpdate(n,t)},e.handleBlur=function(){var t,a,n=e.props,r=n.value,s=n.input,o=s.type,l=s.required;e.setState({active:r}),r?t=Le(o,r):l&&(a=!0),e.setState({validation_error:t,error:a})},e.handleFocus=function(){e.setState({active:!0,validation_error:!1,error:!1})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.validate,n=t.input,r=t.value,s=n.type,o=n.required;e.validate!==a&&o&&this.handleBlur(s,r)}},{key:"render",value:function(){var e=this,t=this.props,a=t.input,n=t.value,r=a.empty_text,o=a.validation_text,l=a.label,i=a.type,c=this.state,u=c.active,p=c.error,m=c.validation_error,d=this.props.global.system_text;return s.a.createElement("div",{className:u||n?"text__input text__input--active":"text__input"},s.a.createElement("input",{type:"password"===i?"password":"text",onChange:function(t){return e.handleChnage(t.target.value)},onBlur:function(t){return e.handleBlur()},onFocus:function(t){return e.handleFocus()},placeholder:d[l],value:n,autocomplete:"new-email"}),p?s.a.createElement("p",{className:"text__input__error"},d[r]):m?s.a.createElement("p",{className:"text__input__error"},d[o]):null)}}]),t}(r.Component);var Fe=Object(i.c)((function(e){return{global:e.global}}),n)(Ge),Ue=[{label:"NAME",property_name:"name",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PHONE",property_name:"phone",type:"phone",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_PHONE",required:!1},{label:"POSITION",property_name:"position",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!1},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:""}],Ye=a(315),He=a.n(Ye),Ve=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.active_text,r=t.inactive_text,o=t.property_name;return s.a.createElement("div",{className:"switch__component flex__start"},s.a.createElement("figure",null,s.a.createElement(He.a,{onColor:"#86d3ff",onHandleColor:"#2693e6",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,onChange:function(){return e.props.updateEmployee(o,!a)},checked:a})),n&&r?s.a.createElement("h4",null,a?n:r):"")}}]),t}(r.Component),We=a(316),Je=a(317),qe=a.n(Je),Be=a(319),Qe=a.n(Be),Ke=a(320),Xe=a.n(Ke),ze=function(e){var t=e.svg,a=e.tooltip,n=e.handleClick,r=e.value;return s.a.createElement("div",{onClick:function(){return n?n(r):""},className:"btn__with__tooltip"},s.a.createElement("button",{type:"button"},t),s.a.createElement("figure",null,a))},Ze=a(188),$e=a.n(Ze),et=a(321),tt=a.n(et),at=a(318),nt=a.n(at),rt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).generatePassword=function(){var t=qe.a.generate({length:10,uppercase:!1});e.setState({generated:!0,error:!1}),setTimeout((function(){e.setState({generated:!1})}),3e3),e.handleChange(t)},e.handleChange=function(t){var a=e.props.input.property_name;e.props.updateParentState("pw_changed",!0),e.props.handleUpdate(a,t)},e.handleBlur=function(){var t=e.props.value;e.setState({active:t}),e.setState({error:!t})},e.handleFocus=function(){e.setState({active:!0,validation_error:!1,error:!1})},e.handleCopy=function(){e.setState({copied:!0}),setTimeout((function(){e.setState({copied:!1})}),2e3)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.props.is_edit&&this.setState({active:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.validate,n=t.input,r=t.value,s=t.is_edit,o=n.type;e.validate===a||s||this.handleBlur(o,r)}},{key:"render",value:function(){var e=this,t=this.props,a=t.input,n=t.value,r=t.is_edit,o=a.empty_text,l=a.label,i=this.state,c=i.active,u=i.error,p=i.generated,m=i.copied,d=i.show_password,_=this.props.global.system_text;return s.a.createElement("div",{className:c||n?"password text__input--active flex__start":"password flex__start"},s.a.createElement("section",{className:"password__input"},s.a.createElement("input",{placeholder:_[l],onChange:function(t){return e.handleChange(t.target.value)},type:d?"text":"password",value:n||(!n&&r?"********":""),autocomplete:"new-password",onBlur:function(t){return e.handleBlur()},onFocus:function(t){return e.handleFocus()}}),s.a.createElement("button",{type:"button",className:"flex__center",onClick:function(){return e.setState({show_password:!d})}},d?s.a.createElement(nt.a,null):s.a.createElement(Qe.a,null))),s.a.createElement("section",{className:"password__actions flex__between"},s.a.createElement(We.CopyToClipboard,{text:n,onCopy:function(){return e.handleCopy()}},s.a.createElement("aside",{style:{opacity:n?1:.7,pointerEvents:n?"all":"none"}},s.a.createElement(ze,{svg:m?s.a.createElement($e.a,null):s.a.createElement(Xe.a,null),tooltip:_.COPY}))),s.a.createElement(ze,{svg:p?s.a.createElement($e.a,null):s.a.createElement(tt.a,null),handleClick:this.generatePassword,value:!0,tooltip:_.GENERATE})),u?s.a.createElement("p",{className:"text__input__error"},_[o]):"")}}]),t}(r.Component);var st=Object(i.c)((function(e){return{global:e.global}}),n)(rt),ot=a(84),lt=a.n(ot),it=function(e){var t=e.loading,a=e.close_text,n=e.close,r=e.submit,o=e.submit_text,l=e.button_type;return s.a.createElement("div",{className:"submit__buttons__box flex__start"},t?s.a.createElement("button",{type:"button",style:{background:"transparent",border:"none",position:"relative"}},s.a.createElement(Pe,{active:!0})):s.a.createElement("button",{className:"flex__center",style:{color:"white",background:"#0091ff"},onClick:function(){return r?r():""},type:l?"button":"submit"},o),s.a.createElement("button",{className:"flex__center",style:{color:"#0091ff",background:"rgba(0, 145, 255, 0.1)"},type:"button",onClick:function(){return n()}},a))},ct=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateProfile=function(t,a){var n=e.state.profile,r=JSON.parse(JSON.stringify(n));r[t]=a,e.setState({profile:r})},e.close=function(){e.setState({profile:{},loaded:!1}),setTimeout((function(){e.props.toggleHandleProfile()}),400)},e.submitForm=function(t){var a=e.state,n=a.profile,r=a.pw_changed;t.preventDefault(),e.setState({validate:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({validate:!1}),0!==document.querySelectorAll(".text__input__error").length){t.next=7;break}return e.setState({loading:!0}),t.next=6,e.props.save(n,r);case 6:e.close();case 7:case"end":return t.stop()}}),t)}))),60)},e.updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.state={profile:{active:!0}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.profile_to_edit;setTimeout((function(){e.setState({loaded:!0})}),30),t&&this.setState({profile:t,is_edit:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loaded,n=t.profile,r=t.validate,o=t.is_edit,l=t.loading,i=this.props,c=i.edit_text,u=i.create_text,p=i.status_disabled,m=this.props.global.system_text;return s.a.createElement("div",{id:a?"employees__handle--active":"",className:"employees__handle"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)},className:"employees__handle__form flex__column"},s.a.createElement("button",{style:{opacity:a?1:0},type:"button",onClick:function(){return e.close()},className:"employees__handle__form__close"},s.a.createElement(lt.a,null)),s.a.createElement("header",{className:"flex__between"},s.a.createElement("h2",{className:"section__h2"},o?c:u)),s.a.createElement("span",{style:{alignItems:"flex-start"},className:"flex__between"},s.a.createElement(Ie,{property_name:"avatar",update:this.updateProfile,value:n.avatar}),p?"":s.a.createElement(Ve,{property_name:"active",value:n.active,updateEmployee:this.updateProfile})),s.a.createElement("div",{className:"employees__handle__form__info"},Ue.map((function(t){switch(t.type){case"password":return s.a.createElement(st,{handleUpdate:e.updateProfile,input:t,validate:r,system_text:m,value:n[t.property_name],is_edit:o,updateParentState:e.updateState});default:return s.a.createElement(Fe,{handleUpdate:e.updateProfile,input:t,system_text:m,validate:r,value:n[t.property_name]})}}))),s.a.createElement(it,{close:this.close,submit_text:m.SAVE,close_text:m.CANCEL,loading:l})))}}]),t}(r.Component);var ut=Object(i.c)((function(e){return{employees:e.employees,user:e.user,global:e.global}}),n)(ct),pt=function(e){var t=e.text,a=e.name,n=e.active,r=e.submit_text,o=e.close_text,l=e.loading;return s.a.createElement("div",{style:{opacity:n?1:0,pointerEvents:n?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("h3",null,a),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},l?s.a.createElement(Pe,{active:!0}):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.submit()}},r),s.a.createElement("button",{onClick:function(){return e.close()},style:{color:"#0091ff",background:"rgba(0, 145, 255, 0.1)"}},o)))))},mt=a(139),dt=a.n(mt),_t="https://assignments-server.herokuapp.com/api",ft="auth_token",Et=a(140),gt=a.n(Et),ht=function(e,t,a){return gt.a.set(e,t,{expires:a})},vt=function(e){return gt.a.get(e)},bt=function(e){return gt.a.remove(e)},yt=function(e){return new Promise((function(t){var a={"x-auth-token":vt(ft)};dt.a.get("".concat(_t,"/").concat(e),{headers:a}).then((function(e){var a=e.data,n=a.ok,r=a.result;t({ok:n,result:r})})).catch((function(e){t({ok:!1})}))}))},Ot=function(e,t){return new Promise((function(a){var n={"x-auth-token":vt(ft)};dt.a.post("".concat(_t,"/").concat(e),t,{headers:n}).then((function(e){var t=e.data,n=t.ok,r=t.result;a({ok:n,result:r})})).catch((function(e){a({ok:!1})}))}))},St=function(e){return e.arr.map((function(e){return s.a.createElement("div",{className:"loader__element employee__loader"},s.a.createElement("figure",null))}))},jt=a(322),xt=a.n(jt),Nt=a(323),wt=a.n(Nt),kt=function(e){var t=e.text,a=e.create_text,n=e.create;return s.a.createElement("div",{className:"no__data flex__column"},s.a.createElement(xt.a,{className:"no__data__main__svg"}),s.a.createElement("h3",null,t),a?s.a.createElement("button",{className:"add__btn flex__center",onClick:function(){return n()}},s.a.createElement(wt.a,null),a):"")},At=a(324),Tt=a.n(At),Ct=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.toggleHandleEmployee=function(t,a){e.setState({handle_employee:t,employee:a})},e.handleRemove=function(t){e.setState({employee_to_remove:t})},e.remove=Object(q.a)(J.a.mark((function t(){var a,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.employee_to_remove,r=a.employees_list,e.setState({remove_loading:!0}),"employee/delete",t.next=5,Ot("employee/delete",{id:n._id});case 5:t.sent.ok&&(e.props.removeEmployee(n,r),e.setState({employees_list:r.filter((function(e){return e._id!==n._id}))}),e.close()),setTimeout((function(){e.setState({remove_loading:!1})}),400);case 8:case"end":return t.stop()}}),t)}))),e.close=function(){e.setState({employee_to_remove:""})},e.handleView=function(t){e.setState({list_view:t})},e.saveEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a,n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,e.resetEmployeePassword(a);case 3:a._id?e.updateEmployee(a):e.createEmployee(a);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.createEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"employee/create",t.next=3,Ot("employee/create",a);case 3:(n=t.sent).ok?(e.props.updateGlobalReducer("success","Employee created successfully"),r=JSON.parse(JSON.stringify(e.state.employees_list)),e.setState({employees_list:[n.result].concat(Object(le.a)(r))})):e.props.updateGlobalReducer("error",n.result?n.result:"Failed to create employee");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"employee/update",t.next=3,Ot("employee/update",a);case 3:(n=t.sent).ok?(e.props.updateGlobalReducer("success","Employee updated successfully"),r=JSON.parse(JSON.stringify(e.state.employees_list)),(s=r.findIndex((function(e){return e._id==a._id})))>=0&&(r.splice(s,1,n.result),e.setState({employees_list:r}))):e.props.updateGlobalReducer("error","Failed to update employee");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resetEmployeePassword=function(){var e=Object(q.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/password-reset",a={_id:t._id,password:t.password},e.next=4,Ot("employee/password-reset",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.state={list_view:"row"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/all",setTimeout((function(){a.setState({page_loaded:!0})}),20),e.next=4,yt("employee/all");case 4:(t=e.sent).ok&&this.setState({loaded:!0,employees_list:t.result});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.employees_list,n=t.employee,r=t.handle_employee,o=t.employee_to_remove,l=t.list_view,i=t.loaded,c=t.page_loaded,u=t.remove_loading,p=this.props.global.system_text;return s.a.createElement("div",{style:{opacity:c?1:0},className:"employees page__flex"},s.a.createElement(pt,{text:p.REMOVE_TEXT,name:"".concat(o?o.name:"","?"),active:o,submit:this.remove,close:this.close,submit_text:p.YES,close_text:p.NO,loading:u}),r?s.a.createElement(ut,{toggleHandleProfile:this.toggleHandleEmployee,profile_to_edit:n,save:this.saveEmployee,resetPassword:this.resetEmployeePassword,edit_text:p.EDIT_EMPLOYEE,create_text:p.CREATE_EMPLOYEE}):"",s.a.createElement("div",{className:"sticky__top"},s.a.createElement("header",{className:"flex__start"},s.a.createElement(ze,{svg:s.a.createElement(Tt.a,null),handleClick:this.toggleHandleEmployee,value:!0,tooltip:p.CREATE})),s.a.createElement("section",{className:"titles__section flex__start"},p.EMPLOYEES_TITLES.map((function(e,t){return s.a.createElement("h3",{key:t},e)})))),i&&a&&a.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("ul",{className:"employees__list flex__start"},a.map((function(t){return s.a.createElement(Ne,{list_view:l,toggleHandleEmployee:e.toggleHandleEmployee,employee:t,key:t._id,system_text:p,handleRemove:e.handleRemove})})))):i?s.a.createElement(kt,{text:p.NO_EMPLOYEES}):s.a.createElement(St,{arr:Object(le.a)(Array(5).keys())}))}}]),t}(r.Component);var Pt=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,user:e.user,global:e.global}}),n)(Ct)),Dt=function(e){var t=e.text,a=e.style,n=e.arrow_class;return s.a.createElement("div",{style:a,className:"smal__popup flex__center"},t,s.a.createElement("aside",{className:n}))},It=a(326),Rt=a.n(It),Mt=a(325),Lt=a.n(Mt),Gt=function(e,t){return e.indexOf(t)>-1},Ft=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).logout=function(){bt(ft),e.props.history.push(ne),window.location.reload()},e.onLoad=function(){e.setState({img_loaded:!0})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({mobile_menu:!1});var t=e.location.pathname;this.setState({url:t})}},{key:"componentDidMount",value:function(){var e=window.location.pathname;this.setState({url:e,page_loaded:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.url,n=t.page_loaded,r=t.img_loaded,o=t.mobile_menu,l=this.props.user.user,i=this.props.navigations,c=this.props.global.system_text,u={left:"110%",top:"50%",transform:"translate(0, -50%)"};return n?s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{style:{display:"none"},onClick:function(){return e.setState({mobile_menu:!o})},className:"mobile__hamburger"},s.a.createElement(Lt.a,null)),s.a.createElement("figure",{className:"employee__img navbar__user__avatar"},l&&l.avatar?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:l.avatar,style:{opacity:r?1:0,transition:"0.2s all"},onLoad:function(){return e.onLoad()},alt:""}),r?"":s.a.createElement("aside",{className:"avatar__loader"})):s.a.createElement(je.a,null)),s.a.createElement("section",{id:o?"navbar__list--active":"",className:"navbar__list flex__column"},s.a.createElement("aside",{className:"navbar__list__mobile__placeholder",style:{display:"none"},onClick:function(){return e.setState({mobile_menu:!1})}}),i&&i.length>0?i.map((function(e,t){return s.a.createElement(oe.b,{id:Gt(a,e.value)?"navbar__list__link--active":"",className:"navbar__list__link flex__center",key:t,to:e.param?e.url.replace(e.param,l._id):e.url},e.img,s.a.createElement(Dt,{arrow_class:"arrow-left",style:u,text:c[e.text]}))})):""),s.a.createElement("button",{style:{background:"transparent",border:"0px"},className:"navbar__list__link navbar__logout__link",onClick:function(){return e.logout()}},s.a.createElement(Dt,{arrow_class:"arrow-left",style:u,text:c.LOGOUT}),s.a.createElement(Rt.a,null))):""}}]),t}(r.Component);var Ut=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,user:e.user,global:e.global}}),n)(Ft)),Yt=a(327),Ht=a.n(Yt),Vt=function(e){function t(){var e,a;Object(B.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(K.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).showProfile=function(){a.props.changeSection(!0)},a}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.employee,n=t.system_text;return s.a.createElement("div",{className:"employee__page__menu flex__start"},s.a.createElement("div",{className:"page__flex flex__start"},s.a.createElement(oe.b,{to:$,className:"flex__start employee__page__menu__back"},s.a.createElement(Ht.a,null),s.a.createElement("h4",null,n.EMPLOYEES)),s.a.createElement("figure",{onClick:function(){return e.showProfile()},className:"flex__center"},a.avatar?s.a.createElement("img",{src:a.avatar}):s.a.createElement(je.a,null)),s.a.createElement("h3",{className:"employee__page__menu__name"},a.name)))}}]),t}(r.Component),Wt=a(41),Jt=a.n(Wt),qt=function(e,t,a){var n=!1;return!!e.is_manager||(t&&t.length>0&&(n=t.includes(a)),n)};a(254);function Bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Qt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeStatus=function(t){var a=e.props.m;console.log(a);var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bt(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);n.status=t,e.setState({hide:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.createAndUpdateAssignment(n);case 2:e.setState({hide:!1});case 3:case"end":return t.stop()}}),t)}))),500)},e.goToAssignment=function(t){console.log(t);var a=e.props.user.user;a.is_manager?e.props.history.push(te.replace(":id",t.employee_id).replace(":assignment_id",t._id)):e.props.history.push(re.replace(":id",a._id).replace(":assignment_id",t._id))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this.props.m;console.log(e);var t=this.props.user,a=t.permissions,n=t.user,r=this.state.hide,o=this.props.global.language,l=[{text:"VIEW",function:this.goToAssignment,param1:e},{text:"MARK_AS_PENDING",function:this.changeStatus,param1:"pending"},{text:"MARK_AS_DONE",function:this.changeStatus,param1:"done"},{text:"MARK_AS_PROGRESS",function:this.changeStatus,param1:"in_progress"},{text:"REMOVE",function:this.props.handleDelete,param1:e,disabled:!qt(n,a,"EM003")}];return l=l.filter((function(t){if(t.param1!==e.status)return t})),s.a.createElement("li",{id:r?"employee__page__assignment__hidden":"",className:"employee__page__assignment flex__start"},s.a.createElement("div",null,s.a.createElement("h4",{style:{display:"none"}},"Title"),s.a.createElement("h3",null,e.title)),s.a.createElement("div",null,s.a.createElement("h4",{style:{display:"none"}},"Deadline"),s.a.createElement("h3",null,e.deadline?Jt()(e.deadline).locale(o.substring(0,2)).format("ddd, LL"):"-")),s.a.createElement(Oe,{width:"150px",options:l}))}}]),t}(r.Component);var Kt=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Qt)),Xt=function(e){return e.arr.map((function(e){return s.a.createElement("div",{className:"loader__element assignment__loader"},s.a.createElement("figure",null))}))},zt=function(e,t){var a=[];return e&&e.length>0&&(a=e.filter((function(e){return e.status===t}))),a.length>0&&a},Zt=a(134),$t=a.n(Zt),ea=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFilter=function(t){e.setState({status:t})},e.toggleAssignmentsList=function(t){e.setState({show_assignments:t})},e.updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.openCreateAssignment=function(){e.props.handleAssignment(!0,!0)},e.state={status:"pending"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({page_loaded:!0})}),20)}},{key:"componentWillUnmount",value:function(){this.toggleAssignmentsList(!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.employee,n=t.assignments_loaded,r=this.props.user,o=r.user,l=r.permissions,i=this.state,c=i.status,u=i.page_loaded,p=this.props.global.system_text;return s.a.createElement("div",{style:{opacity:u?1:0},className:"employee__page__assignments"},s.a.createElement("div",{className:"sticky__top"},s.a.createElement("header",{className:"employee__page__assignments__header flex__start"},qt(o,l,"EM001")?s.a.createElement(ze,{svg:s.a.createElement($t.a,null),handleClick:function(){return e.props.handleAssignment(!0)},tooltip:p.CREATE}):""),s.a.createElement("ul",{className:"flex__start",id:"employee__page__assignments__actions"},p.ASSIGNMENT_STATUS_ARR.map((function(t,n){return s.a.createElement("li",{key:n,className:"flex__center",id:c===t.value?"employee__page__assignments__actions--active":"",onClick:function(){return e.handleFilter(t.value)}},t.img,s.a.createElement("h3",null," ",t.text),s.a.createElement("h5",null,"(",function(e,t){if(e&&e.length>0){var a=0;return e.forEach((function(e){e.status===t&&a++})),a}return 0}(a.assignments,t.value),")"))}))),zt(a.assignments,c)?s.a.createElement("section",{id:"employee__assignments__titles",className:"flex__start"},p.EMPLOYEE_ASSIGNMENTS_TITLES.map((function(e,t){return s.a.createElement("h3",{key:t},e)}))):null),s.a.createElement("ul",{className:"flex__start",id:"employee__assignments"},n?n&&!zt(a.assignments,c)?s.a.createElement(kt,{create:this.openCreateAssignment,text:p.NO_ASSIGNMENTS}):zt(a.assignments,c).map((function(t){var a;return s.a.createElement(Kt,(a={key:t._id,m:t,createAndUpdateAssignment:e.props.createAndUpdateAssignment,handleAssignment:e.props.handleAssignment,handleDelete:e.props.handleDelete},Object(f.a)(a,"key",t._id),Object(f.a)(a,"handleAssignmentComments",e.props.handleAssignmentComments),a))})):s.a.createElement(Xt,{arr:Object(le.a)(Array(3).keys())})))}}]),t}(r.Component);var ta=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,assignments:e.assignments,user:e.user,global:e.global}}),n)(ea)),aa=a(62),na=a(33),ra=a(328),sa=a.n(ra),oa=a(65),la=a.n(oa),ia=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeStatus=function(t){var a=e.props.assignment,n=JSON.parse(JSON.stringify(a));n.status=t,e.props.createAndUpdateAssignment(n)},e.backToList=function(){var t=e.props.user.user,a=e.state.employee_id;t.is_manager?e.props.history.push(ee.replace(":id",a)):e.props.history.push(se.replace(":id",a))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n,r,s=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.assignment_id,a=this.props.match.params.id,setTimeout((function(){s.setState({page_loaded:!0})}),20),n="employee_assignment/get-by-id?_id=".concat(t),e.next=6,yt(n);case 6:(r=e.sent).ok&&(this.props.updateAssignmentInAssignmentPage(r.result),this.setState({employee_id:a}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.global,a=t.system_text,n=t.language,r=this.props.assignment,o=this.props.user,l=o.permissions,i=o.user,c=this.state.page_loaded,u=[{text:"EDIT",function:this.props.handleAssignment,param1:!0,param2:!1,param3:r,disabled:!qt(i,l,"EM002")},{text:"COMMENTS",function:this.props.handleAssignmentComments,param1:r},{text:"MARK_AS_PENDING",function:this.changeStatus,param1:"pending"},{text:"MARK_AS_DONE",function:this.changeStatus,param1:"done"},{text:"MARK_AS_PROGRESS",function:this.changeStatus,param1:"in_progress"},{text:"REMOVE",function:this.props.handleDelete,param1:r,disabled:!qt(i,l,"EM003")}];return s.a.createElement("div",{style:{opacity:c?1:0},className:"employee__assignment__page"},s.a.createElement("header",{className:"sticky__top flex__start"},s.a.createElement("aside",{onClick:function(){return e.backToList()},className:"flex__start"},s.a.createElement(la.a,null),s.a.createElement("h5",null,a.ASSIGNMENTS)),s.a.createElement(Oe,{width:"150px",options:u})),r?s.a.createElement("section",{className:"employee__assignment__page__content"},s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("aside",{className:"flex__start"},s.a.createElement("p",null,a.STATUS,":"),s.a.createElement("h5",null,a[r.status])),s.a.createElement("h3",null,a.TITLE),s.a.createElement("h4",{style:{fontFamily:"medium-font",fontSize:"20px"}},r.title)),s.a.createElement("aside",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,a.CONTENT),r.text?s.a.createElement(aa.Editor,{toolbarHidden:!0,editorState:na.EditorState.createWithContent(Object(na.convertFromRaw)(JSON.parse(r.text))),readOnly:!0}):""),r&&r.files.length>0?s.a.createElement("div",{className:"employee__assignment__page__content__section employee__assignment__page__content__files"},s.a.createElement("h3",null,a.FILES),s.a.createElement("ul",null,r.files.map((function(e){return s.a.createElement("li",{className:"flex__start"},s.a.createElement("a",{className:"flex__start",href:e.url,target:"_blank"},s.a.createElement(sa.a,null),s.a.createElement("h5",null,e.name)))})))):"",r.deadline?s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,a.DEADLINE),s.a.createElement("span",{className:"flex__start"},s.a.createElement("h4",null,Jt()(r.deadline).locale(n.substring(0,2)).format("dddd, LL")))):null,r.comments?s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,a.COMMENTS),s.a.createElement(aa.Editor,{toolbarHidden:!0,editorState:na.EditorState.createWithContent(Object(na.convertFromRaw)(JSON.parse(r.comments))),readOnly:!0})):" ",s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,a.LAST_UPDATED),s.a.createElement("h4",null,Jt()(r.updated_at).format("DD/MM/YY HH:mm")))):s.a.createElement(Xt,{arr:Object(le.a)(Array(3).keys())}))}}]),t}(r.Component);var ca=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(ia)),ua=[{label:"TITLE",property_name:"title",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"TEXT",property_name:"text",type:"draft",empty_text:"Required field",validation_text:""}],pa=(a(292),function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).createContent=function(t){var a="";if(t){var n=Object(na.convertFromRaw)(JSON.parse(t));a=na.EditorState.createWithContent(n)}e.setState({comments:a})},e.onEditorStateChange=function(t){e.setState({comments:t}),window.clearTimeout(e.state.timeout);var a=setTimeout((function(){e.save(t)}),200);e.setState({timeout:a})},e.saveContent=function(e){return JSON.stringify(Object(na.convertToRaw)(e.getCurrentContent()))},e.save=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.property_name,t.next=3,e.saveContent(a);case 3:r=t.sent,e.props.handleUpdate(n,r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.value;this.setState({loaded:!0}),this.createContent(e)}},{key:"componentWillReceiveProps",value:function(e){e.updated!==this.props.updated&&this.createContent(e.value)}},{key:"render",value:function(){var e=this.state.comments,t=this.props,a=t.label,n=t.system_text;return s.a.createElement("div",{className:"draft__content"},s.a.createElement(aa.Editor,{editorState:e,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,placeholder:n[a]}))}}]),t}(r.Component)),ma=a(329),da=a.n(ma);Ae.a.initApp("0C7F99A6-3715-126A-FF3C-3387261D5C00","957C469D-E5DE-4C1D-8A8B-A3BE62BF1CD2");var _a=function(e,t){return e.filter((function(e){return e.name===t.name}))[0]},fa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFileSelect=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s,o,l,i,c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.property_name,e.setState({loading:!0}),r=!0,s=!1,o=void 0,t.prev=5,l=J.a.mark((function t(){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.value,t.prev=1,t.next=4,Ae.a.Files.upload(a,"/myFiles",!0).then((function(t){var r=t.fileURL,s={name:a.name,url:r},o=e.props.files?e.props.files:[];_a(o,s)||(o=[].concat(Object(le.a)(o),[s]),e.props.update(n,o))}));case 4:e.setState({loading:!1}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})),i=a[Symbol.iterator]();case 8:if(r=(c=i.next()).done){t.next=13;break}return t.delegateYield(l(),"t0",10);case 10:r=!0,t.next=8;break;case 13:t.next=19;break;case 15:t.prev=15,t.t1=t.catch(5),s=!0,o=t.t1;case 19:t.prev=19,t.prev=20,r||null==i.return||i.return();case 22:if(t.prev=22,!s){t.next=25;break}throw o;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}}),t,null,[[5,15,19,27],[20,,22,26]])})));return function(e){return t.apply(this,arguments)}}(),e.removeFile=function(t){var a=e.props,n=a.files,r=a.property_name,s=n.filter((function(e){return e.name!==t.name}));e.props.update(r,s)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.files,a=this.state.loading,n=this.props.global.system_text;return s.a.createElement("div",{className:"files__upload"},a?s.a.createElement("div",{className:"dropzone dropzone__loader"},s.a.createElement(Pe,{active:!0})):s.a.createElement(we.a,{className:"dropzone flex__start",style:{width:"100%",height:"100%"},onDrop:function(t){return e.handleFileSelect(t)}},s.a.createElement(da.a,null),s.a.createElement("h5",null,n.ADD_FILE)),s.a.createElement("ul",{className:"files__upload__list flex__start"},t&&t.length>0?t.map((function(t){return s.a.createElement("li",{className:"flex__start"},s.a.createElement("a",{href:t.url,target:"_blank"},s.a.createElement("h4",null,t.name)),s.a.createElement("button",{type:"button",onClick:function(){return e.removeFile(t)}},s.a.createElement(lt.a,null)))})):""))}}]),t}(r.Component);var Ea=Object(i.c)((function(e){return{global:e.global}}),n)(fa),ga=a(85),ha=a.n(ga),va=a(330),ba=a.n(va),ya=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).close=function(){e.setState({page_loaded:!1}),setTimeout((function(){e.props.closePopup()}),300)},e.handleSelect=function(t){e.props.setAssignment(t),e.close()},e.setWrapperRef=function(t){e.wrapperRef=t},e.handleClickOutside=function(t){e.wrapperRef&&!e.wrapperRef.contains(t.target)&&e.close()},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({page_loaded:!0})}),20),document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props,a=t.assignments_list,n=t.system_text,r=this.state.page_loaded;return s.a.createElement("div",{style:{opacity:r?1:0},className:"employee__page__assignments__suggestions"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("div",{ref:this.setWrapperRef,className:"employee__page__assignments__suggestions__content"},s.a.createElement("button",{type:"button",className:"employee__page__assignments__suggestions__close",onClick:function(){return e.close()}},s.a.createElement(ha.a,null)),s.a.createElement("h3",null,n.TEMPLATES),s.a.createElement("ul",null,a&&a.length>0?a.map((function(t){return s.a.createElement("li",{onClick:function(){return e.handleSelect(t)},className:"flex__start",key:t._id},s.a.createElement(ba.a,null),t.title)})):s.a.createElement(kt,{text:n.NO_TEMPLATES}))))}}]),t}(r.Component),Oa=a(35),Sa=a(762),ja=a(192),xa=a(339),Na=a(88),wa=a(189),ka=a.n(wa),Aa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleDateChange=function(t){var a=e.props.property_name;e.props.sendDate(a,Jt()(t))},e.state={date:Jt()().toDate()},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.title,n=this.props.global,r=n.language,o=n.system_text,l={en:Na.a,he:xa.a};return s.a.createElement("div",{className:"material__datepicker"},s.a.createElement("div",{className:"material__datepicker__desktop"},s.a.createElement(Oa.a,{utils:ja.a,locale:l[r.substring(0,2)]},s.a.createElement("div",null,s.a.createElement("h3",null,a),s.a.createElement(Sa.a,{format:"dd/MM/yyyy",autoOk:!0,disableToolbar:!0,variant:"inline",value:t||Jt()(),onChange:this.handleDateChange,minDate:Jt()()}),s.a.createElement(ka.a,null)))),s.a.createElement("div",{className:"material__datepicker__mobile"},s.a.createElement(Oa.a,{utils:ja.a,locale:l[r.substring(0,2)]},s.a.createElement("div",null,s.a.createElement("h3",null,a),s.a.createElement(Sa.a,{format:"dd/MM/yyyy",autoOk:!0,value:t||Jt()(),onChange:this.handleDateChange,animateYearScrolling:!0,okLabel:o.SAVE,cancelLabel:o.CANCEL,minDate:Jt()()}),s.a.createElement(ka.a,null)))))}}]),t}(r.Component);var Ta=Object(i.c)((function(e){return{global:e.global}}),n)(Aa),Ca=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateStateAssignment=function(t,a){var n=e.state.assignment,r=JSON.parse(JSON.stringify(n));r[t]=a,e.setState({assignment:r})},e.submitForm=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.is_edit,s=n.assignment,a.preventDefault(),e.setState({validate:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({validate:!1}),0!==document.querySelectorAll(".text__input__error").length){t.next=13;break}if(e.setState({loading:!0}),!r){t.next=10;break}return t.next=7,e.props.edit(s);case 7:e.close(),t.next=13;break;case 10:return t.next=12,e.props.create(s);case 12:e.close();case 13:case"end":return t.stop()}}),t)}))),50);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.toggleHandleAssignment()}),400)},e.setAssignment=function(t){e.setState({assignment_updated:!0,assignment:{title:t.title,text:t.text,files:t.files}}),setTimeout((function(){e.setState({assignment_updated:!1})}),50)},e.scrolltop=function(){e.componentRef.current.scrollTop=0},e.state={assignment:{}},e.componentRef=s.a.createRef(),e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.assignment_to_edit,n=t.new_assignment;this.setState({is_edit:a,assignment:a||{}}),n&&this.setState({assignment:n}),setTimeout((function(){e.setState({loaded:!0})}),20)}},{key:"render",value:function(){var e=this,t=this.state,a=t.loaded,n=t.is_edit,r=t.validate,o=t.assignment,l=t.show_options,i=t.assignment_updated,c=t.loading,u=this.props,p=u.from_employee_page,m=u.assignments_list,d=this.props.global.system_text;return s.a.createElement("div",{id:a?"assignments__handle--active":"",className:"assignments__handle"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{ref:this.componentRef,onSubmit:function(t){return e.submitForm(t)},className:"assignments__handle__form"},p&&l?s.a.createElement(ya,{closePopup:function(){return e.setState({show_options:!1})},assignments_list:m,setAssignment:this.setAssignment,system_text:d}):"",s.a.createElement("button",{style:{opacity:a?1:0},type:"button",onClick:function(){return e.close()},className:"assignments__handle__form__close flex__center"},s.a.createElement(lt.a,null)),s.a.createElement("h2",{className:"section__h2"},n?d.EDIT:d.CREATE),p&&!n?s.a.createElement("button",{type:"button",onClick:function(){return e.setState({show_options:!0})},className:"save__btn suggestions__btn"},d.TEMPLATES):"",p?s.a.createElement(Ta,{sendDate:this.updateStateAssignment,property_name:"deadline",date:o?o.deadline:"",title:d.DEADLINE,empty_error:"Required field",validate:r}):"",o&&a&&ua.map((function(t){switch(t.type){case"draft":return s.a.createElement(pa,{handleUpdate:e.updateStateAssignment,input:t,validate:r,property_name:t.property_name,value:o?o.text:"",label:t.label,system_text:d,updated:i});default:return s.a.createElement(Fe,{handleUpdate:e.updateStateAssignment,input:t,validate:r,property_name:t.property_name,value:o?o[t.property_name]:"",system_text:d})}})),p?s.a.createElement("div",{className:"assignments__handle__employee__page"},n?s.a.createElement("section",{id:"assignments__handle__employee__status"},s.a.createElement("h3",null,d.STATUS),s.a.createElement("aside",null,d.ASSIGNMENT_STATUS_ARR.map((function(t){return s.a.createElement("button",{type:"button",className:o.status===t.value?"save__btn":"cancel__btn",onClick:function(){return e.updateStateAssignment("status",t.value)}},t.text)})))):""):"",s.a.createElement(Ea,{update:this.updateStateAssignment,property_name:"files",files:o?o.files:[]}),s.a.createElement(it,{close:this.close,submit_text:d.SAVE,close_text:d.CANCEL,loading:c})))}}]),t}(r.Component);var Pa=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),n)(Ca);function Da(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ia(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Da(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Da(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ra=function(e){return JSON.stringify(Object(na.convertToRaw)(e.getCurrentContent()))},Ma=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).onEditorStateChange=function(t){e.setState({comments:t})},e.close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.updateParentState("assignment_comments")}),300)},e.save=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.assignment,r=Ia({},n),e.setState({loading:!0}),t.next=5,Ra(a);case 5:return s=t.sent,r.comments=s,t.next=9,e.props.updateAssignment(r);case 9:e.close();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.assignment;setTimeout((function(){e.setState({loaded:!0})}),20),this.setState({loaded:!0});var a="";if(t.comments){var n=Object(na.convertFromRaw)(JSON.parse(t.comments));a=na.EditorState.createWithContent(n)}this.setState({comments:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.comments,n=t.loaded,r=t.loading,o=this.props,l=o.assignment,i=o.system_text;return s.a.createElement("div",{id:n?"employee__assignment__comments--active":"",className:"employee__assignment__comments"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{className:"flex__column"},s.a.createElement("button",{type:"button",onClick:function(){return e.close()},className:"employee__assignment__comments__close"},s.a.createElement(ha.a,null)),s.a.createElement("header",null,s.a.createElement("h2",null,i.ASSIGNMENT),s.a.createElement("h3",null,"".concat(l.title))),s.a.createElement("div",{className:"employee__assignment__comments__editor"},s.a.createElement(aa.Editor,{editorState:a,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,placeholder:i.COMMENT})),s.a.createElement(it,{submit:function(){return a?e.save(a):""},loading:r,close_text:i.CANCEL,close:this.close,submit_text:i.SAVE,button_type:!0})))}}]),t}(r.Component);function La(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ga(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?La(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getAssignments=Object(q.a)(J.a.mark((function t(){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"assignment",t.next=3,yt("assignment");case 3:(a=t.sent).ok&&e.setState({assignments_list:a.result,assignments_loaded:!0});case 5:case"end":return t.stop()}}),t)}))),e.handleAssignment=function(t,a,n){e.setState({handle_assignment:t,new_assignment:a,assignment_to_edit:n})},e.createAndUpdateAssignment=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.employee,"employee_assignment",a.employee_id=n._id,a.status=a.status?a.status:"pending",console.log(a),t.next=7,Ot("employee_assignment",a);case 7:(r=t.sent).ok&&(s=n.assignments.findIndex((function(e){return e._id==a._id})),o=JSON.parse(JSON.stringify(n)),s>=0?(o.assignments.splice(s,1,r.result),e.props.updateGlobalReducer("success","Assignment updated")):(o.assignments.unshift(r.result),e.props.updateGlobalReducer("success","Assignment created")),e.props.updateParentState("employee",o),window.location.pathname.indexOf("assignment")>-1&&e.updateAssignmentInAssignmentPage(r.result));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(t){console.log(t),e.setState({assignment_to_remove:t})},e.handleAssignmentComments=function(t){e.setState({assignment_comments:t})},e.remove=Object(q.a)(J.a.mark((function t(){var a,n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.assignment_to_remove,n=e.props.employee,a.employee_id=n._id,"employee_assignment/delete",t.next=6,Ot("employee_assignment/delete",a);case 6:t.sent.ok&&(r=Ga({},n),(s=r.assignments.findIndex((function(e){return e._id==a._id})))>=0&&(r.assignments.splice(s,1),e.props.updateEmployee(r),e.close()),0===window.location.pathname.indexOf("assignment")&&e.props.history.push(ee.replace(":id",n._id)));case 8:case"end":return t.stop()}}),t)}))),e.close=function(){e.handleDelete()},e.updateAssignmentInAssignmentPage=function(t){e.setState({page_assignment:t})},e.updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getAssignments();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.assignments_list,n=t.assignments_loaded,r=t.assignment_comments,o=t.handle_assignment,l=t.new_assignment,i=t.assignment_to_edit,c=t.assignment_to_remove,u=t.page_assignment,p=this.props.global.system_text,m=this.props,d=m.active_section,_=m.employee,f=m.hide_page,E=this.props.user.user;return s.a.createElement("div",{style:{opacity:f?0:1,transition:"0.2s all"}},s.a.createElement(pt,{text:p.REMOVE_ASSIGNMENT_QUESTION,name:"".concat(c?c.title:"","?"),active:c,submit:this.remove,close:this.close,submit_text:p.YES,close_text:p.NO}),r?s.a.createElement(Ma,{updateAssignment:this.createAndUpdateAssignment,assignment:r,updateParentState:this.updateState,system_text:p}):"",o?s.a.createElement(Pa,{new_assignment:l,edit:this.createAndUpdateAssignment,create:this.createAndUpdateAssignment,assignment_to_edit:i,toggleHandleAssignment:this.handleAssignment,from_employee_page:!0,handleDelete:this.handleDelete,assignments_list:a}):null,s.a.createElement(Z.c,null,s.a.createElement(Z.a,{exact:!0,path:E.is_manager?ee:se,render:function(){return s.a.createElement(ta,{handleAssignmentComments:e.handleAssignmentComments,handleAssignment:e.handleAssignment,updateEmployee:e.updateEmployee,employee:_||{},assignments_loaded:n,createAndUpdateAssignment:e.createAndUpdateAssignment,handleDelete:e.handleDelete})}}),s.a.createElement(Z.a,{exact:!0,path:E.is_manager?te:re,render:function(){return s.a.createElement(ca,{employee:_,active_section:d,handleAssignment:e.handleAssignment,handleDelete:e.handleDelete,assignment:u,updateAssignmentInAssignmentPage:e.updateAssignmentInAssignmentPage,createAndUpdateAssignment:e.createAndUpdateAssignment,handleAssignmentComments:e.handleAssignmentComments})}})))}}]),t}(r.Component);var Ua=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,assignments:e.assignments,user:e.user,global:e.global}}),n)(Fa)),Ya=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.changeSection(!1)}),100)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),20)}},{key:"render",value:function(){var e=this,t=this.props,a=t.employee,n=t.hide_status,r=t.show_close_btn,o=this.state.loaded,l=this.props.global.system_text,i=a.name,c=a.phone,u=a.position,p=a.email,m=a.active,d=a.avatar;return s.a.createElement("div",{style:{opacity:o?1:0},className:"employee__page__personal page__flex"},r?s.a.createElement("button",{className:"employee__page__personal__close",onClick:function(){return e.close()}},s.a.createElement(ha.a,null)):"",s.a.createElement("section",{className:"flex__start"},s.a.createElement("figure",{className:"employee__img flex__center"},d?s.a.createElement("img",{src:d,alt:""}):s.a.createElement(je.a,null)),s.a.createElement("button",{className:"employee__page__edit save__btn",onClick:function(){return e.props.toggleHandleEmployee(!0)}},l.EDIT)),s.a.createElement("ul",{className:"employee__page__personal__details flex__start"},s.a.createElement("li",null,s.a.createElement("h5",null,l.NAME),s.a.createElement("h3",null,i||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.EMAIL),s.a.createElement("h3",null,p||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.PHONE),s.a.createElement("h3",null,c||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.POSITION),s.a.createElement("h3",null,u||"-")),n?"":s.a.createElement("li",null,s.a.createElement("h5",null,l.STATUS),s.a.createElement("h3",null,m?l.ACTIVE:l.INACTIVE))))}}]),t}(r.Component);var Ha=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),n)(Ya),Va=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeSection=function(t){e.setState({profile:t})},e.getEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="employee/get-by-id?id=".concat(a),t.next=3,yt(n);case 3:(r=t.sent).ok&&setTimeout((function(){e.setState({employee:r.result})}),100);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateEmployee=function(){var t=Object(q.a)(J.a.mark((function t(a,n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n&&e.resetEmployeePassword(a),"employee/update",t.next=4,Ot("employee/update",a);case 4:(r=t.sent).ok&&e.setState({employee:r.result});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.updateState=function(t,a){e.setState(Object(f.a)({},t,a))},e.toggleHandleEmployee=function(t){e.setState({handle_employee:t})},e.resetEmployeePassword=function(){var e=Object(q.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/password-reset",a={_id:t._id,password:t.password},e.next=4,Ot("employee/password-reset",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.state={active_section:"assignments",assignments:[]},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,setTimeout((function(){a.setState({page_loaded:!0})}),20),e.next=4,this.getEmployee(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.employee,a=e.active_section,n=e.page_loaded,r=e.handle_employee,o=e.profile,l=this.props.user.user,i=this.props.global.system_text;return n?s.a.createElement("div",{className:"employee__page",id:l.is_manager?"":"employee__page--employee"},r?s.a.createElement(ut,{toggleHandleProfile:this.toggleHandleEmployee,profile_to_edit:t,returnEmployee:this.updateEmployee,save:this.updateEmployee,resetPassword:this.resetEmployeePassword,edit_text:i.EDIT_EMPLOYEE}):"",l.is_manager?s.a.createElement(Vt,{system_text:i,changeSection:this.changeSection,active_section:a,active:!0,employee:t||{},user:l}):"",s.a.createElement("div",{className:"page__flex"},s.a.createElement(Ua,{hide_page:o,employee:t,updateEmployee:this.updateEmployee,updateParentState:this.updateState}),o?s.a.createElement(Ha,{show_close_btn:!0,toggleHandleEmployee:this.toggleHandleEmployee,employee:t||{},save:this.updateEmployee,changeSection:this.changeSection}):"")):""}}]),t}(r.Component);var Wa=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,assignments:e.assignments,user:e.user,global:e.global}}),n)(Va)),Ja=function(e){var t=e.m,a=e.system_text,n=[{text:"EDIT",function:e.toggleHandleAssignment,param1:!0,param2:t},{text:"REMOVE",function:e.handleRemove,param1:t}];return s.a.createElement("li",{className:"assignments__list__assignment"},s.a.createElement(Oe,{width:"120px",options:n}),s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,a.TITLE),s.a.createElement("h4",null,t.title)),s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,a.CONTENT),s.a.createElement(aa.Editor,{toolbarHidden:!0,editorState:na.EditorState.createWithContent(Object(na.convertFromRaw)(JSON.parse(t.text))),readOnly:!0})),t.files&&t.files.length>0?s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,a.FILES),s.a.createElement("ul",null,t.files.map((function(e){return s.a.createElement("div",{className:"system__file",key:e._id},s.a.createElement("a",{href:e.url,target:"_blank"},s.a.createElement("p",null,e.name)))})))):"")},qa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).toggleHandleAssignment=function(t,a){e.setState({handle_assignment:t,assignment_to_edit:a})},e.handleRemove=function(t){e.setState({assignment_to_remove:t})},e.close=function(){e.setState({assignment_to_remove:"",handle_assignment:""})},e.remove=Object(q.a)(J.a.mark((function t(){var a,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.assignment_to_remove,n=e.props.assignments.assignments_list,e.setState({remove_loading:!0}),"assignment/delete",t.next=6,Ot("assignment/delete",{id:a._id});case 6:t.sent.ok&&(e.props.removeAssignment(a,n),e.close()),setTimeout((function(){e.setState({remove_loading:!1})}),400);case 9:case"end":return t.stop()}}),t)}))),e.create=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.global.system_text,r=e.props.assignments.assignments_list,"assignment",e.setState({loading:!0}),t.next=6,Ot("assignment",a);case 6:(s=t.sent).ok&&e.props.addAssignment(s.result,r),e.props.updateGlobalReducer("success",n.ASSIGNMENT_CREATE_SUCCESS),e.setState({loading:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.edit=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.assignments.assignments_list,"assignment",e.setState({loading:!0}),t.next=5,Ot("assignment",a);case 5:(r=t.sent).ok&&e.props.updateAssignment(r.result,n),e.setState({loading:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"assignment",e.next=3,yt("assignment");case 3:(t=e.sent).ok&&(this.props.setDataToAssignmentsReducer("assignments_list",t.result),this.setState({assignments_loaded:!0}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.assignments.assignments_list,a=this.state,n=a.handle_assignment,r=a.assignment_to_edit,o=a.assignment_to_remove,l=a.loading,i=a.assignments_loaded,c=a.remove_loading,u=this.props.global.system_text;return s.a.createElement("div",{className:"assignments page__flex"},s.a.createElement(pt,{text:u.REMOVE_TEXT,name:"".concat(o?o.title:"","?"),active:o,submit:this.remove,close:this.close,submit_text:u.YES,close_text:u.NO,loading:c}),n?s.a.createElement(Pa,{loading:l,edit:this.edit,create:this.create,assignment_to_edit:r,toggleHandleAssignment:this.toggleHandleAssignment}):" ",s.a.createElement("div",{className:"sticky__top"},s.a.createElement(ze,{svg:s.a.createElement($t.a,null),handleClick:function(){return e.toggleHandleAssignment(!0)},tooltip:u.CREATE})),s.a.createElement("ul",{className:"assignments__list flex__start"},i&&t&&t.length>0?t.map((function(t){return s.a.createElement(Ja,{m:t,system_text:u,handleRemove:e.handleRemove,toggleHandleAssignment:e.toggleHandleAssignment,key:t._id})})):i?s.a.createElement(kt,{text:u.NO_TEMPLATES}):s.a.createElement(Xt,{arr:Object(le.a)(Array(3).keys())})))}}]),t}(r.Component);var Ba=Object(Z.f)(Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),n)(qa)),Qa=a(86),Ka=(r.Component,function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getGraphData=Object(q.a)(J.a.mark((function t(){var a,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"overview/assignments",t.next=3,yt("overview/assignments");case 3:(a=t.sent).ok&&(n=a.result,r={labels:["Pending","In progress","Done"],datasets:[{data:[n.pending,n.in_progress,n.done],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},e.setState({graph_data:r}));case 5:case"end":return t.stop()}}),t)}))),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.getGraphData()}},{key:"render",value:function(){var e=this.state.graph_data;return s.a.createElement("div",{className:"overview__section"},e?s.a.createElement(Qa.a,{data:e}):"")}}]),t}(r.Component)),Xa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getData=Object(q.a)(J.a.mark((function t(){var a,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.type,"employee/all",t.next=4,yt("employee/all");case 4:(n=t.sent).ok&&(r=n.result,e.setState({employees:r}),e.generateData(r,a));case 6:case"end":return t.stop()}}),t)}))),e.generateData=function(t,a){var n={labels:t.map((function(e){return e.name})),datasets:[{label:"",backgroundColor:"rgba(0, 145, 255, 0.5)",borderColor:"rgba(255,99,132,0)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:t.map((function(e){return e.assignments_count[a]}))}]};e.setState({graph_data:n})},e.state={type:"pending"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=(e.type,e.graph_data);return s.a.createElement("div",{className:"overview__section"},s.a.createElement(Qa.b,{options:{legend:{display:!1},scales:{xAxes:[{ticks:{beginAtZero:!1},gridLines:{offsetGridLines:!1}}],yAxes:[{stacked:!0,gridLines:{}}]}},data:t}))}}]),t}(r.Component),za=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"overview flex__start"},s.a.createElement("div",{className:"page__flex flex__column"},s.a.createElement(Ka,null),s.a.createElement(Xa,null)))}}]),t}(r.Component),Za=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){this.props.global.system_text;var e=this.props.settings_routes;this.props.user.user;return s.a.createElement("div",{className:"settings page__flex"},s.a.createElement(Z.c,null,e.map((function(e,t){return s.a.createElement(Z.a,{key:t,exact:!0,path:e.route,render:function(){return e.component}})}))))}}]),t}(r.Component);var $a=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Za)),en=a(332),tn=a.n(en),an=a(190),nn=a.n(an),rn=a(191),sn=a.n(rn),on=[{url:$,text:"EMPLOYEES",value:"employees",img:s.a.createElement(tn.a,null)},{url:"/dashboard/assignments",text:"TEMPLATES",value:"assignments",img:s.a.createElement(nn.a,null)},{url:ae,text:"SETTINGS",value:"settings",img:s.a.createElement(sn.a,null),last:!0}],ln=[{url:se,text:"ASSIGNMENTS",value:"assignments",img:s.a.createElement(nn.a,null),param:":id"},{url:"/employee-dashboard/settings",text:"SETTINGS",value:"settings",img:s.a.createElement(sn.a,null),last:!0}],cn=a(333),un=a.n(cn),pn=a(334),mn=a.n(pn),dn=[{name:"PROFILE",url:"/employee-dashboard/settings/profile",img:s.a.createElement(je.a,null)}],_n=[{name:"PROFILE",url:"/dashboard/settings/profile",img:s.a.createElement(je.a,null)},{name:"PERMISSIONS",url:"/dashboard/settings/permissions",img:s.a.createElement(un.a,null)},{name:"SYSTEM",url:"/dashboard/settings/system",img:s.a.createElement(mn.a,null)}],fn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).goToPage=function(t){e.props.history.push(t)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user.user;console.log(e);var t="";t=e.is_manager?_n:dn,this.setState({categories:t})}},{key:"render",value:function(){var e=this,t=this.props.global.system_text,a=this.state.categories;return s.a.createElement("div",{className:"settings__select"},s.a.createElement("header",{className:"sticky__top"},s.a.createElement("h2",{className:"section__h2"},t.SETTINGS)),s.a.createElement("ul",{className:"settings__select__list flex__start"},a&&a.length>0?a.map((function(a){return s.a.createElement("li",{className:"settings__select__list__element flex__column",onClick:function(){return e.goToPage(a.url)}},a.img,s.a.createElement("h4",null,t[a.name]))})):""))}}]),t}(r.Component);var En=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(fn)),gn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getProfile=Object(q.a)(J.a.mark((function t(){var a,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.user.user,n="",n=a.is_manager?"users/get-profile":"employee/get-profile",t.next=5,yt(n);case 5:(r=t.sent).ok&&e.setState({profile:r.result});case 7:case"end":return t.stop()}}),t)}))),e.saveProfile=function(){var t=Object(q.a)(J.a.mark((function t(a,n){var r,s,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.user.user,s="",s=r.is_manager?"users/update":"employee/update",t.next=5,Ot(s,a);case 5:(o=t.sent).ok&&(e.props.updateUserReducer("user",o.result),e.setState({profile:a})),n&&e.resetProfilePassword(a);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.resetProfilePassword=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user.user,r="",s={password:a.password},n.is_manager?r="users/reset-password":(s._id=a._id,r="employee/reset-password"),t.next=6,Ot(r,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleHandleProfile=function(t){e.setState({edit_profile:t})},e.state={edit_profile:!1},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getProfile();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.profile,a=e.edit_profile,n=this.props.user.user,r=this.props.global.system_text;return t?s.a.createElement("div",{className:"settings__profile"},s.a.createElement("header",{className:"sticky__top"},s.a.createElement(oe.b,{className:"back__button flex__start",to:n.is_manager?ae:"/employee-dashboard/settings"},s.a.createElement(la.a,null),r.SETTINGS)),s.a.createElement(Ha,{employee:t,toggleHandleEmployee:this.toggleHandleProfile,hide_status:!0}),a?s.a.createElement(ut,{profile_to_edit:t,save:this.saveProfile,resetPassword:this.resetProfilePassword,toggleHandleProfile:this.toggleHandleProfile,edit_text:"Edit profile",status_disabled:!0}):null):null}}]),t}(r.Component);var hn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(gn)),vn=[{text:"CREATE_ASSIGNMENTS",code:"EM001"},{text:"EDIT_ASSIGNMENTS",code:"EM002"},{text:"DELETE_ASSIGNMENTS",code:"EM003"},{text:"EDIT_PROFILE",code:"EM004"}],bn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).update=function(){var t=Object(q.a)(J.a.mark((function t(a){var n,r,s,o,l,i;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user,r=n.permissions,s=n.user,o=Object(le.a)(r),l=(l=Object(le.a)(r)).includes(a)?l.filter((function(e){return e!==a})):[].concat(Object(le.a)(l),[a]),i={user:s._id,permissions:l},"account-settings/update",e.props.updateUserReducer("permissions",l),t.next=9,Ot("account-settings/update",i);case 9:t.sent.ok||e.props.updateUserReducer("permissions",o);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={user_permissions:[]},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user,a=t.permissions,n=t.user,r=this.props.global.system_text;return s.a.createElement("div",{className:"settings__permissions"},s.a.createElement("header",{className:"sticky__top"},s.a.createElement(oe.b,{className:"back__button flex__start",to:n.is_manager?ae:"/employee-dashboard/settings"},s.a.createElement(la.a,null),r.SETTINGS)),s.a.createElement("h2",null,r.EMPLOYEE_PERMISSIONS),s.a.createElement("ul",{className:"settings__permissions__list"},vn.map((function(t,n){return s.a.createElement("li",null,s.a.createElement(Ve,{key:n,active_text:r[t.text],inactive_text:r[t.text],updateEmployee:e.update,value:a.includes(t.code),property_name:t.code}))}))))}}]),t}(r.Component);var yn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(bn)),On=function(e){function t(e){var a;return Object(B.a)(this,t),(a=Object(K.a)(this,Object(X.a)(t).call(this,e))).setWrapperRef=function(e){a.wrapperRef=e},a.handleClickOutside=function(e){a.wrapperRef&&!a.wrapperRef.contains(e.target)&&a.setState({active:!1})},a.select=function(e){var t=a.props,n=t.property_name;t.with_property?a.props.handleSelect(n,e):a.props.handleSelect(e),a.setState({active:!1})},a.state={},a}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.state.active,a=this.props,n=a.options,r=a.value;return s.a.createElement("div",{id:t?"selectbox--active":"",ref:this.setWrapperRef,className:"selectbox"},s.a.createElement("header",{className:"flex__start",onClick:function(){return e.setState({active:!t})}},r?s.a.createElement(s.a.Fragment,null,r.img?s.a.createElement("img",{src:r.img}):"",r.name):""),s.a.createElement("ul",{className:"selectbox__list"},n&&n.length>0?n.map((function(t,a){return s.a.createElement("li",{className:"flex__start",onClick:function(){return e.select(t)},key:a},t.img?s.a.createElement("img",{src:t.img}):"",t.name)})):""))}}]),t}(r.Component),Sn=a(335),jn=a.n(Sn),xn=a(336),Nn=a.n(xn),wn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),20),setTimeout((function(){e.setState({loaded:!1})}),3e3),setTimeout((function(){e.props.close()}),3300)}},{key:"render",value:function(){var e=this.props.text,t=this.state.loaded;return s.a.createElement("div",{style:{opacity:t?1:0},className:"settings__system__loading"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("section",{className:"settings__system__loading__content flex__column"},s.a.createElement("h3",null,e),s.a.createElement(Pe,{active:!0})))}}]),t}(r.Component),kn=[{name:"English",value:"english",img:Nn.a},{name:"Hebrew",value:"hebrew",img:jn.a}],An=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeLanguage=function(){var t=Object(q.a)(J.a.mark((function t(a){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.user.user,"account-settings/update",e.setState({loading:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={user:n._id,language:a.value},t.prev=1,t.next=4,Ot("account-settings/update",r).then((function(t){e.props.setSystemLanguage(t.result.language);var a=kn.filter((function(e){return e.value===t.result.language}))[0];e.setState({selected:a})}));case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,null,[[1,6]])}))),500);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.global.language,t=kn.filter((function(t){return t.value===e}))[0];console.log(t,e),this.setState({selected:t})}},{key:"render",value:function(){var e=this,t=this.props.global.system_text,a=this.state,n=a.selected,r=a.loading,o=this.props.user.user;return s.a.createElement("div",{className:"settings__system"},s.a.createElement("header",{className:"sticky__top"},s.a.createElement(oe.b,{className:"back__button flex__start",to:o.is_manager?ae:"/employee-dashboard/settings"},s.a.createElement(la.a,null),t.SETTINGS)),r?s.a.createElement(wn,{text:t.LANGUAGE_LOADING,close:function(){return e.setState({loading:!1})}}):"",s.a.createElement("section",{className:"settings__system__section"},s.a.createElement("h2",null,t.LANGUAGE_SELECT),s.a.createElement(On,{value:n,options:kn,handleSelect:this.changeLanguage})))}}]),t}(r.Component);var Tn=Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(An),Cn=[{component:s.a.createElement(En,null),route:ae},{component:s.a.createElement(hn,null),route:"/dashboard/settings/profile"},{component:s.a.createElement(yn,null),route:"/dashboard/settings/permissions"},{component:s.a.createElement(Tn,null),route:"/dashboard/settings/system"}],Pn=[{component:s.a.createElement(En,null),route:"/employee-dashboard/settings"},{component:s.a.createElement(hn,null),route:"/employee-dashboard/settings/profile"}],Dn=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){return console.log("invalid"),s.a.createElement("div",null)}}]),t}(r.Component),In=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user.user,console.log(t),a="account-settings?id=".concat(t._id),e.next=5,yt(a);case 5:(n=e.sent).ok&&(this.props.updateUserReducer("permissions",n.result.permissions),this.props.updateUserReducer("system_logo",n.result.avatar),this.props.setSystemLanguage(n.result.language));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user,t=e.user,a=e.system_logo,n=this.props.global.language;return t&&t.is_manager&&n?s.a.createElement("div",{className:"dashboard"},a?s.a.createElement("div",{className:"dashboard__logo page__flex"},s.a.createElement("img",{src:a})):"",s.a.createElement(oe.a,null,s.a.createElement(Ut,{navigations:on}),s.a.createElement(Z.c,null,s.a.createElement(Z.a,{exact:!0,path:$,render:function(){return s.a.createElement(Pt,null)}}),s.a.createElement(Z.a,{exact:!0,path:"/dashboard/overview",render:function(){return s.a.createElement(za,null)}}),s.a.createElement(Z.a,{path:ee,render:function(){return s.a.createElement(Wa,null)}}),s.a.createElement(Z.a,{path:te,render:function(){return s.a.createElement(ca,null)}}),s.a.createElement(Z.a,{exact:!0,path:"/dashboard/assignments",render:function(){return s.a.createElement(Ba,null)}}),s.a.createElement(Z.a,{path:ae,render:function(){return s.a.createElement($a,{settings_routes:Cn})}}),s.a.createElement(Z.a,{path:"*",exact:!0,component:Dn})))):""}}]),t}(r.Component);var Rn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(In)),Mn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user.user,a="account-settings?id=".concat(t.user),e.next=4,yt(a);case 4:(n=e.sent).ok&&(this.props.updateUserReducer("permissions",n.result.permissions),this.props.updateUserReducer("system_logo",n.result.avatar),this.props.setSystemLanguage(n.result.language),r=ln,qt(t,n.result.permissions,"EM004")||(r=r.filter((function(e){return"settings"!==e.value}))),this.setState({navigations:r})),this.setState({page_loaded:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user.user,t=this.props.global.language,a=this.state,n=a.navigations,r=a.page_loaded;return e&&n&&r&&t?s.a.createElement("div",{className:"dashboard"},s.a.createElement(oe.a,null,s.a.createElement(Ut,{navigations:n}),s.a.createElement(Z.c,null,s.a.createElement(Z.a,{path:se,render:function(){return s.a.createElement(Wa,null)}}),s.a.createElement(Z.a,{path:"/employee-dashboard/settings",render:function(){return s.a.createElement($a,{settings_routes:Pn})}})))):""}}]),t}(r.Component);var Ln=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),n)(Mn)),Gn=function(e){var t=e.error;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:t?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.close()}},"Close"))))};var Fn=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),n)((function(e){var t=e.msg,a=e.global.system_text;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:t?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.close()}},a.CLOSE))))})),Un=function(){var e=Object(q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/login-by-jwt",e.next=3,yt("auth/login-by-jwt");case 3:if(!(t=e.sent).ok){e.next=8;break}return e.abrupt("return",t.result);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yn=[{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0}],Hn=function(e){var t=e.text,a=e.active;return s.a.createElement("div",{className:"submit__btn"},a?s.a.createElement(Pe,{active:!0}):s.a.createElement("button",null,t))},Vn=a(337),Wn=a.n(Vn);function Jn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var qn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateForm=function(t,a){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jn(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state.form_data);n[t]=a,e.setState({form_data:n})},e.submitForm=function(t){t.preventDefault(),e.setState({validate:!0}),setTimeout((function(){0===document.querySelectorAll(".text__input__error").length&&e.signin(),e.setState({validate:!1})}),50)},e.signin=Object(q.a)(J.a.mark((function t(){var a,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.form_data,e.setState({loading:!0}),"auth/login",t.next=5,Ot("auth/login",a);case 5:if(!(n=t.sent).ok){t.next=18;break}if(e.props.updateUserReducer("user",n.result),ht(ft,n.result.token),!n.result.is_manager){t.next=11;break}return t.abrupt("return",e.props.history.push($));case 11:if(n.result.active){t.next=17;break}return bt(ft),e.setState({loading:!1}),t.abrupt("return",e.props.updateGlobalReducer("error","Employee is inactive"));case 17:return t.abrupt("return",e.props.history.push(se.replace(":id",n.result._id)));case 18:!n.ok&&n.result&&e.props.updateGlobalReducer("error",n.result),e.setState({loading:!1});case 20:case"end":return t.stop()}}),t)}))),e.state={form_data:{}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.form_data,n=t.validate,r=t.loading;return s.a.createElement("div",{className:"login flex__center"},s.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)},className:"login__form signin__form flex__column"},s.a.createElement(Wn.a,{style:{fontSize:"70px",marginLeft:"auto",marginRight:"auto",marginBottom:"20px",color:"rgba(0, 145, 255, 1)"}}),s.a.createElement("section",{className:"login__form__inputs"},Yn.map((function(t,r){return s.a.createElement(Fe,{key:r,handleUpdate:e.updateForm,input:t,validate:n,value:a[t.property_name]})}))),s.a.createElement(Hn,{text:"Submit",active:r})))}}]),t}(r.Component);var Bn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user}}),n)(qn)),Qn=[{label:"NAME",property_name:"name",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0}],Kn=function(e){var t=e.active;return s.a.createElement("div",{id:t?"login__signup__success--active":"",className:"login__signup__success flex__column"},s.a.createElement("h2",null,"Congratulation!"),s.a.createElement("h3",null,"Your account has been created successfully"),s.a.createElement("p",null,"Redirecting you to the application..."),s.a.createElement(Pe,null))};function Xn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var zn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateForm=function(t,a){var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xn(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.state.form_data);n[t]=a,e.setState({form_data:n})},e.submitForm=function(t){t.preventDefault(),e.setState({validate:!0}),setTimeout((function(){0===document.querySelectorAll(".text__input__error").length&&e.signup(),e.setState({validate:!1})}),50)},e.signup=Object(q.a)(J.a.mark((function t(){var a,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.form_data,"users/create",e.setState({loading:!0}),t.next=5,Ot("users/create",a);case 5:(n=t.sent).ok&&(e.props.updateUserReducer("user",n.result),ht(ft,n.result.token),e.setState({signup_success:!0}),setTimeout((function(){e.props.history.push($)}),3e3)),!n.ok&&n.result&&e.props.updateGlobalReducer("error",n.result),e.setState({loading:!1});case 9:case"end":return t.stop()}}),t)}))),e.state={form_data:{}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.form_data,n=t.validate,r=t.error_popup,o=t.loading,l=t.signup_success;return s.a.createElement("div",{className:"login flex__center"},s.a.createElement(Kn,{active:l}),s.a.createElement("form",{style:{filter:l?"blur(2px)":""},onSubmit:function(t){return e.submitForm(t)},className:"login__form signup__form flex__column"},s.a.createElement("h2",null,"Signup"),r?s.a.createElement("p",null,r):"",s.a.createElement("section",{className:"login__form__inputs"},Qn.map((function(t,r){return s.a.createElement(Fe,{key:r,handleUpdate:e.updateForm,input:t,validate:n,value:a[t.property_name]})}))),s.a.createElement(Hn,{text:"Submit",active:o})))}}]),t}(r.Component);var Zn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user}}),n)(zn)),$n=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleNoAccessRoutes=function(t){-1===t.indexOf("signin")&&-1===t.indexOf("signup")&&e.props.history.push(ne)},e.handleUserRouting=function(t,a){if(!a.split("/")[1])return t.is_manager?e.props.history.push($):e.props.history.push(se.replace(":id",t._id))},e.close=function(){e.props.updateGlobalReducer("error",!1),e.props.updateGlobalReducer("success",!1)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt(ft);case 2:if(t=e.sent,a=window.location.pathname,!t){e.next=11;break}return e.next=7,Un();case 7:(n=e.sent)&&(this.props.updateUserReducer("user",n),this.handleUserRouting(n,a)),e.next=12;break;case 11:this.handleNoAccessRoutes(a);case 12:this.setState({page_loaded:!0});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.global,t=e.error,a=e.success,n=this.props.user.user;return this.state.page_loaded?s.a.createElement("div",null,s.a.createElement(Fn,{active:!0,msg:a,close:this.close}),s.a.createElement(Gn,{active:!0,error:t,close:this.close}),s.a.createElement(Z.c,null,n&&n._id?s.a.createElement(Z.a,{path:"/dashboard",render:function(){return s.a.createElement(Rn,null)}}):null,s.a.createElement(Z.a,{path:ne,render:function(){return s.a.createElement(Bn,null)}}),s.a.createElement(Z.a,{path:"/signup",render:function(){return s.a.createElement(Zn,null)}}),n&&n._id?s.a.createElement(Z.a,{path:"/employee-dashboard",render:function(){return s.a.createElement(Ln,null)}}):null,s.a.createElement(Z.a,{path:"*",exact:!0,component:Dn}))):""}}]),t}(r.Component);var er,tr=Object(Z.f)(Object(i.c)((function(e){return{router:e.router,user:e.user,global:e.global}}),n)($n)),ar=_()(),nr=Object(c.e)((er=ar,Object(c.c)({router:Object(p.b)(er),employees:v,navbar:S,assignments:w,user:P,global:V})),{},Object(c.d)(Object(c.a)(Object(u.a)(ar),m.a)));l.a.render(s.a.createElement(i.a,{store:nr},s.a.createElement(p.a,{history:ar},s.a.createElement(tr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[357,1,2]]]);
//# sourceMappingURL=main.4ee9ce40.chunk.js.map