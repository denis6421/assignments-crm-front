(this["webpackJsonpsass-test"]=this["webpackJsonpsass-test"]||[]).push([[0],{340:function(e,t,n){e.exports=n.p+"static/media/israel.36a29225.svg"},341:function(e,t,n){e.exports=n.p+"static/media/usa.a035edad.svg"},345:function(e,t,n){e.exports=n(772)},355:function(e,t,n){},438:function(e,t){},440:function(e,t){},473:function(e,t){},474:function(e,t){},772:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setDataToEmployeesReducer",(function(){return ce})),n.d(a,"removeEmployee",(function(){return ue})),n.d(a,"AddAndUpdateEmployee",(function(){return pe})),n.d(a,"updateNavbarReducer",(function(){return me})),n.d(a,"setDataToAssignmentsReducer",(function(){return de})),n.d(a,"addAssignment",(function(){return _e})),n.d(a,"removeAssignment",(function(){return fe})),n.d(a,"updateAssignment",(function(){return Ee})),n.d(a,"updateUserReducer",(function(){return ge})),n.d(a,"updateGlobalReducer",(function(){return he})),n.d(a,"setSystemLanguage",(function(){return ve}));var r=n(0),s=n.n(r),o=n(75),l=n.n(o),i=n(15),c=n(65),u=n(312),p=n(134),m=n(314);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=n(342),_=n.n(d),f=n(4);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={employees_list:[],employee_assignments:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set data to employees reducer":var n=t.payload,a=n.name,r=n.value;return g({},e,Object(f.a)({},a,r));default:return e}};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={selected_employee:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update navbar reducer":var n=t.payload,a=n.name,r=n.value;return y({},e,Object(f.a)({},a,r));default:return e}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={assignments_list:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sety data to assignments reducer":var n=t.payload,a=n.name,r=n.value;return x({},e,Object(f.a)({},a,r));default:return e}};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T,C={user:"",permissions:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update user reducer":var n=t.payload,a=n.name,r=n.value;return k({},e,Object(f.a)({},a,r));default:return e}},D=n(190),I=n.n(D),R=n(191),L=n.n(R),M=n(189),F=n.n(M),G={english:(T={settings:{direction:"ltr"},LANGUAGE_LOADING:"Language is loading...",pending:"Pending",in_progress:"In progress",done:"Done",LAST_UPDATED:"Last updated",CREATE_ASSIGNMENTS:"Create assignments",EDIT_ASSIGNMENTS:"Edit assignments",DELETE_ASSIGNMENTS:"Delete assignments",EDIT_PROFILE:"Edit profile",EMPLOYEE_PERMISSIONS:"Employee Permissions",PROFILE:"Profile",PERMISSIONS:"Permissions",SYSTEM:"System",NO_ASSIGNMENTS:"No assignments",ASSIGNMENT_CREATE_SUCCESS:"Assignment created",LOGOUT:"Logout",LANGUAGE_SELECT:"System language",NO_TEMPLATES:"No templates",SETTINGS:"Settings",EMPLOYEES:"Employees",CREATE_EMPLOYEE_BTN:"CREATE EMPLOYEE",EDIT_EMPLOYEE:"Edit Employee",CREATE_EMPLOYEE:"Create Employee",EMPLOYEES_TITLES:["Name","Pending","In progress","Done"],NAME:"Name"},Object(f.a)(T,"pending","Pending"),Object(f.a)(T,"in_progress","In progress"),Object(f.a)(T,"done","Done"),Object(f.a)(T,"NEW_EMPLOYEE","Create Employee"),Object(f.a)(T,"EMAIL","Email"),Object(f.a)(T,"PHONE","Phone"),Object(f.a)(T,"POSITION","Position"),Object(f.a)(T,"PASSWORD","Password"),Object(f.a)(T,"COPY","Copy"),Object(f.a)(T,"COPIED","Copied"),Object(f.a)(T,"GENERATE","Generate"),Object(f.a)(T,"GENERATED","Generated"),Object(f.a)(T,"SAVE","Save"),Object(f.a)(T,"CANCEL","Cancel"),Object(f.a)(T,"YES","Yes"),Object(f.a)(T,"NO","No"),Object(f.a)(T,"RESET","Reset"),Object(f.a)(T,"INVALID_PHONE","Invalid Phone"),Object(f.a)(T,"INVALID_EMAIL","Invalid Email"),Object(f.a)(T,"REQUIRED_FIELD","Required Field"),Object(f.a)(T,"EMPLOYEE_PAGE","Employee Page"),Object(f.a)(T,"EDIT","Edit"),Object(f.a)(T,"CREATE","Create"),Object(f.a)(T,"DELETE","Delete"),Object(f.a)(T,"REMOVE_TEXT","Are you sure, you want to remove:"),Object(f.a)(T,"NO_EMPLOYEES","No Employees"),Object(f.a)(T,"ASSIGNMENTS","Assignments"),Object(f.a)(T,"ASSIGNMENT","Assignment"),Object(f.a)(T,"ADD_FILE","Add file"),Object(f.a)(T,"SELECT_DATE","Select Date"),Object(f.a)(T,"EMPLOYEE_INFO","Employee info"),Object(f.a)(T,"STATUS","Status"),Object(f.a)(T,"TITLE","Title"),Object(f.a)(T,"TEXT","Text"),Object(f.a)(T,"DEADLINE","Deadline"),Object(f.a)(T,"ACTIVE","Active"),Object(f.a)(T,"INACTIVE","Inactive"),Object(f.a)(T,"TEMPLATES","Templates"),Object(f.a)(T,"NEW_ASSIGNMENT","Create Assignment"),Object(f.a)(T,"EMPLOYEE_ASSIGNMENTS_TITLES",["Title","Deadline","Actions"]),Object(f.a)(T,"VIEW","View"),Object(f.a)(T,"MARK_AS_PENDING","Mark as pending"),Object(f.a)(T,"MARK_AS_DONE","Mark as done"),Object(f.a)(T,"MARK_AS_PROGRESS","Mark as in progress"),Object(f.a)(T,"REMOVE","Remove"),Object(f.a)(T,"CONTENT","Content"),Object(f.a)(T,"FILES","Files"),Object(f.a)(T,"COMMENTS","Comments"),Object(f.a)(T,"COMMENT","Comment"),Object(f.a)(T,"CLOSE","Close"),Object(f.a)(T,"ASSIGNMENT_STATUS_ARR",[{text:"Pending",value:"pending",img:s.a.createElement(F.a,null)},{text:"In progress",value:"in_progress",img:s.a.createElement(I.a,null)},{text:"Done",value:"done",img:s.a.createElement(L.a,null)}]),T),hebrew:{settings:{direction:"rtl"},LANGUAGE_LOADING:"\u05d4\u05e9\u05e4\u05d4 \u05e0\u05d8\u05e2\u05e0\u05ea...",pending:"\u05de\u05de\u05ea\u05d9\u05df",in_progress:"\u05d1\u05ea\u05d4\u05dc\u05d9\u05da",done:"\u05d1\u05d5\u05e6\u05e2",LAST_UPDATED:"\u05e2\u05d5\u05d3\u05db\u05df \u05dc\u05d0\u05d7\u05e8\u05d5\u05e0\u05d4",CREATE_ASSIGNMENTS:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",EDIT_ASSIGNMENTS:"\u05e2\u05e8\u05d9\u05db\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",DELETE_ASSIGNMENTS:"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e9\u05d9\u05de\u05d5\u05ea",EDIT_PROFILE:"\u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc",EMPLOYEE_PERMISSIONS:"\u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05e2\u05d5\u05d1\u05d3",PROFILE:"\u05de\u05e9\u05ea\u05de\u05e9",PERMISSIONS:"\u05d4\u05e8\u05e9\u05d0\u05d5\u05ea",SYSTEM:"\u05de\u05e2\u05e8\u05db\u05ea",NO_ASSIGNMENTS:"\u05d0\u05d9\u05df \u05de\u05e9\u05d9\u05de\u05d5\u05ea",CLOSE:"\u05e1\u05d2\u05d5\u05e8",ASSIGNMENT_CREATE_SUCCESS:"\u05ea\u05d1\u05e0\u05d9\u05ea \u05e0\u05d5\u05e6\u05e8\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",LOGOUT:"\u05d4\u05ea\u05e0\u05ea\u05e7",LANGUAGE_SELECT:"\u05e9\u05e4\u05ea \u05de\u05e2\u05e8\u05db\u05ea",NO_TEMPLATES:"\u05d0\u05d9\u05df \u05ea\u05d1\u05e0\u05d9\u05d5\u05ea",SETTINGS:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",EMPLOYEES:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",CREATE_EMPLOYEE_BTN:"\u05e6\u05d5\u05e8 \u05e2\u05d1\u05d3",EDIT_EMPLOYEE:"\u05e2\u05e8\u05d5\u05da \u05e2\u05d5\u05d1\u05d3",CREATE_EMPLOYEE:"\u05e6\u05d5\u05e8 \u05e2\u05d5\u05d1\u05d3",EMPLOYEES_TITLES:["\u05e9\u05dd","\u05de\u05de\u05ea\u05d9\u05df","\u05d1\u05ea\u05d4\u05dc\u05d9\u05da","\u05d1\u05d5\u05e6\u05e2"],NAME:"\u05e9\u05dd",NEW_EMPLOYEE:"\u05e6\u05d5\u05e8 \u05e2\u05d5\u05d1\u05d3",EMAIL:"\u05de\u05d9\u05d9\u05dc",PHONE:"\u05d8\u05dc\u05e4\u05d5\u05df",POSITION:"\u05e2\u05de\u05d3\u05d4",PASSWORD:"\u05e1\u05d9\u05e1\u05de\u05d0",COPY:"\u05d4\u05e2\u05ea\u05e7",COPIED:"\u05d1\u05d5\u05e6\u05e2",GENERATE:"\u05e6\u05d5\u05e8",GENERATED:"\u05d1\u05d5\u05e6\u05e2",SAVE:"\u05e9\u05de\u05d5\u05e8",CANCEL:"\u05d1\u05d8\u05dc",YES:"\u05db\u05df",NO:"\u05dc\u05d0",RESET:"\u05d0\u05e4\u05e1",INVALID_PHONE:"\u05d8\u05dc\u05e4\u05d5\u05df \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df",INVALID_EMAIL:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05e9\u05d2\u05d5\u05d9",REQUIRED_FIELD:"\u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4",EMPLOYEE_PAGE:"\u05e2\u05de\u05d5\u05d3 \u05e2\u05d5\u05d1\u05d3",EDIT:"\u05e2\u05e8\u05d5\u05da",CREATE:"\u05e6\u05d5\u05e8",DELETE:"\u05de\u05d7\u05e7",REMOVE_TEXT:"\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7:",NO_EMPLOYEES:"\u05d0\u05d9\u05df \u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",ASSIGNMENTS:"\u05de\u05e9\u05d9\u05de\u05d5\u05ea",ASSIGNMENT:"\u05de\u05e9\u05d9\u05de\u05d4",ADD_FILE:"\u05d4\u05d5\u05e1\u05e3 \u05e7\u05d5\u05d1\u05e5",SELECT_DATE:"\u05d1\u05d7\u05e8 \u05ea\u05d0\u05e8\u05d9\u05da",EMPLOYEE_INFO:"\u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05e2\u05d5\u05d1\u05d3",STATUS:"\u05e1\u05d8\u05d8\u05d5\u05e1",TITLE:"\u05db\u05d5\u05ea\u05e8\u05ea",TEXT:"\u05d8\u05e7\u05e1\u05d8",DEADLINE:"\u05de\u05d5\u05e2\u05d3 \u05d0\u05d7\u05e8\u05d5\u05df",ACTIVE:"\u05e4\u05e2\u05d9\u05dc",INACTIVE:"\u05d0\u05d9\u05e0\u05d5 \u05e4\u05e2\u05d9\u05dc",TEMPLATES:"\u05ea\u05d1\u05e0\u05d9\u05d5\u05ea",NEW_ASSIGNMENT:"\u05e6\u05d5\u05e8 \u05de\u05e9\u05d9\u05de\u05d4",EMPLOYEE_ASSIGNMENTS_TITLES:["\u05db\u05d5\u05ea\u05e8\u05ea","\u05d9\u05e2\u05d3 \u05d0\u05d7\u05e8\u05d5\u05df","\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"],VIEW:"\u05e6\u05e4\u05d4 \u05d1\u05de\u05e9\u05d9\u05de\u05d4",MARK_AS_PENDING:"\u05e1\u05de\u05df \u05db\u05de\u05de\u05ea\u05d9\u05df",MARK_AS_DONE:"\u05e1\u05de\u05df \u05db\u05d1\u05d5\u05e6\u05e2",MARK_AS_PROGRESS:"\u05e1\u05de\u05df \u05db\u05de\u05ea\u05d1\u05e6\u05e2",REMOVE:"\u05de\u05d7\u05e7",CONTENT:"\u05ea\u05d5\u05db\u05df",FILES:"\u05e7\u05d1\u05e6\u05d9\u05dd",COMMENTS:"\u05d4\u05e2\u05e8\u05d5\u05ea",COMMENT:"\u05d4\u05e2\u05e8\u05d4",ASSIGNMENT_STATUS_ARR:[{text:"\u05de\u05de\u05ea\u05d9\u05df",value:"pending",img:s.a.createElement(F.a,null)},{text:"\u05d1\u05ea\u05d4\u05dc\u05d9\u05da",value:"in_progress",img:s.a.createElement(I.a,null)},{text:"\u05d1\u05d5\u05e6\u05e2",value:"done",img:s.a.createElement(L.a,null)}]}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={error:!1,success:!1,system_text:G.english},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"update global reducer":var n=t.payload,a=n.name,r=n.value;return Y({},e,Object(f.a)({},a,r));default:return e}},V=(n(355),n(2)),J=n.n(V),q=n(6),B=n(10),Q=n(11),K=n(13),X=n(12),z=n(14),Z=n(18),$="/dashboard/employees",ee="/dashboard/employees/:id",te="/dashboard/employees/:id/assignment/:assignment_id",ne="/dashboard/settings",ae="/login",re="/employee-dashboard",se="/employee-dashboard/:id/assignments/:assignment_id",oe="/employee-dashboard/:id/assignments",le=n(27),ie=n(28),ce=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"set data to employees reducer",payload:{name:e,value:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ue=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){var r;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(r=JSON.parse(JSON.stringify(t))).filter((function(t){return t._id!==e._id})),"employees_list",a({type:"set data to employees reducer",payload:{name:"employees_list",value:r}});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},pe=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){var r,s;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=JSON.parse(JSON.stringify(t)),(s=r.findIndex((function(t){return t._id===e._id})))>=0?r.splice(s,1,e):r=[e].concat(Object(ie.a)(r)),"employees_list",a({type:"set data to employees reducer",payload:{name:"employees_list",value:r}});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},me=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"update navbar reducer",payload:{name:e,value:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},de=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"sety data to assignments reducer",payload:{name:e,value:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_e=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){var r;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=JSON.parse(JSON.stringify(t)),r=[e].concat(Object(ie.a)(r)),"assignments_list",a({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},fe=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){var r;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(r=JSON.parse(JSON.stringify(t))).filter((function(t){return t._id!==e._id})),"assignments_list",a({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ee=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){var r,s;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t?JSON.parse(JSON.stringify(t)):[],s=r.findIndex((function(t){return t._id===e._id})),console.log(s),s>=0&&r.splice(s,1,e),"assignments_list",a({type:"sety data to assignments reducer",payload:{name:"assignments_list",value:r}});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ge=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"update user reducer",payload:{name:e,value:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},he=function(e,t){return function(){var n=Object(q.a)(J.a.mark((function n(a){return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"update global reducer",payload:{name:e,value:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=document.querySelector("body"),"rtl"===(r=G[e]?G[e]:G.english).settings.direction?a.classList.add("rtl__body"):a.classList.remove("rtl__body"),"system_text",n({type:"update global reducer",payload:{name:"system_text",value:r}}),n({type:"update global reducer",payload:{name:"language",value:e}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},be=n(315),ye=n.n(be),Oe=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).setWrapperRef=function(t){e.wrapperRef=t},e.handleClickOutside=function(t){e.wrapperRef&&!e.wrapperRef.contains(t.target)&&e.setState({active:!1})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props,n=t.options,a=t.width,r=this.props.global.system_text,o=this.state.active;return s.a.createElement("div",{style:{zIndex:o?"99":""},ref:this.setWrapperRef,className:"actions"},s.a.createElement("section",{style:{background:o?"rgba(0, 145, 255, 0.2)":""},onClick:function(){return e.setState({active:!0})},className:"actions__toggle flex__center"},s.a.createElement(ye.a,null)),s.a.createElement("ul",{style:{opacity:o?1:0,pointerEvents:o?"all":"none",width:a||" "},className:"actions__list"},n&&n.length>0?n.filter((function(e){return!e.disabled})).map((function(t,n){return s.a.createElement("li",{key:n,onClick:function(){t.function(t.param1,t.param2,t.param3),e.setState({active:!1})},className:"actions__list__element flex__start"},r[t.text])})):""))}}]),t}(r.Component);var Se=Object(i.c)((function(e){return{global:e.global}}),a)(Oe),je=n(45),xe=n.n(je),Ne=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).onLoad=function(){e.setState({image_loaded:!0})},e.goToEmployeePage=function(){var t=e.props.employee;e.props.history.push(ee.replace(":id",t._id))},e.edit=function(){var t=e.props.employee;e.props.toggleHandleEmployee(!0,t)},e.remove=function(){var t=e.props.employee;e.props.handleRemove(t)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.employee,a=t.list_view,r=t.system_text,o=n.avatar,l=n.name,i=n.assignments_count,c=this.state.image_loaded,u=[{text:"EMPLOYEE_PAGE",function:this.goToEmployeePage},{text:"EDIT",function:this.edit},{text:"DELETE",function:this.remove}];return s.a.createElement("li",{className:"row"===a?"employees__list__employee flex__start":"employees__list__employee flex__column"},s.a.createElement("div",{className:"employees__list__employee__name flex__start"},s.a.createElement("figure",{style:{border:o?"1px solid rgba(1, 58, 102, 0.3)":""},className:"employees__list__employee__avatar flex__center"},o?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{style:{opacity:c?1:0},src:o,alt:"",onLoad:function(){return e.onLoad()}}),c?"":s.a.createElement("aside",{className:"avatar__loader"})):s.a.createElement(xe.a,null)),s.a.createElement("h3",null,l||"-")),s.a.createElement("div",{className:"employees__list__employee__stats flex__start"},s.a.createElement("h3",null,i?i.pending:0),s.a.createElement("h3",null,i?i.in_progress:0),s.a.createElement("h3",null,i?i.done:0)),s.a.createElement("div",{style:{display:"none"},id:"employee__mobile__stats",className:"employees__list__employee__stats flex__start"},s.a.createElement("span",null,s.a.createElement("h5",null,r.pending),s.a.createElement("h3",null,i?i.pending:0)),s.a.createElement("span",null,s.a.createElement("h5",null,r.in_progress),s.a.createElement("h3",null,i?i.in_progress:0)),s.a.createElement("span",null,s.a.createElement("h5",null,r.done),s.a.createElement("h3",null,i?i.done:0))),s.a.createElement(Se,{options:u}))}}]),t}(r.Component),we=Object(Z.f)(Ne),Ae=n(135),ke=n(85),Te=n.n(ke),Ce=n(317),Pe=n.n(Ce),De=function(e){var t=e.active;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:"none"},id:"loader",class:"lds-ellipsis"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))};Te.a.initApp("0C7F99A6-3715-126A-FF3C-3387261D5C00","957C469D-E5DE-4C1D-8A8B-A3BE62BF1CD2");var Ie=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFileSelect=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.property_name,r=n[0],e.setState({loading:!0,image_loaded:!1}),t.prev=3,t.next=6,Te.a.Files.upload(r,"/myFiles",!0).then((function(t){var n=t.fileURL;e.props.update(a,n),e.setState({loading:!1})}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),t.next=12,e.props.updateGlobalReducer("error","Failed to change profile image");case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.onLoad=function(){e.setState({image_loaded:!0})},e.state={is_drag:!1},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.value,n=this.state,a=n.image_loaded,r=n.loading;return s.a.createElement("div",{className:"uploader"},s.a.createElement(Ae.a,{style:{width:"100%",height:"100%"},onDrop:function(t){return e.handleFileSelect(t)}}),t?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{className:"uploader__img",onLoad:function(){return e.onLoad()},style:{opacity:!r&&a?1:0,transition:"0.3s all"},src:t,alt:""}),r||!a?s.a.createElement(De,{active:!0}):""):s.a.createElement(Pe.a,null))}}]),t}(r.Component);var Re=Object(i.c)((function(e){return{global:e.global}}),a)(Ie),Le=n(193),Me=n.n(Le),Fe=function(e,t){switch(e){case"email":return!Me.a.isEmail(t);case"phone":return!Me.a.isMobilePhone(String(t))}},Ge=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleChnage=function(t){var n=e.props.input,a=n.property_name;if("phone"===n.type){var r=t.replace(/[^0-9.]/g,"");e.props.handleUpdate(a,r)}else e.props.handleUpdate(a,t)},e.handleBlur=function(){var t,n,a=e.props,r=a.value,s=a.input,o=s.type,l=s.required;e.setState({active:r}),r?t=Fe(o,r):l&&(n=!0),e.setState({validation_error:t,error:n})},e.handleFocus=function(){e.setState({active:!0,validation_error:!1,error:!1})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.validate,a=t.input,r=t.value,s=a.type,o=a.required;e.validate!==n&&o&&this.handleBlur(s,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.input,a=t.value,r=n.empty_text,o=n.validation_text,l=n.label,i=n.type,c=this.state,u=c.active,p=c.error,m=c.validation_error,d=this.props.global.system_text;return s.a.createElement("div",{className:u||a?"text__input text__input--active":"text__input"},s.a.createElement("input",{type:"password"===i?"password":"text",onChange:function(t){return e.handleChnage(t.target.value)},onBlur:function(t){return e.handleBlur()},onFocus:function(t){return e.handleFocus()},placeholder:d[l],value:a}),p?s.a.createElement("p",{className:"text__input__error"},d[r]):m?s.a.createElement("p",{className:"text__input__error"},d[o]):null)}}]),t}(r.Component);var Ue=Object(i.c)((function(e){return{global:e.global}}),a)(Ge),Ye=[{label:"NAME",property_name:"name",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PHONE",property_name:"phone",type:"phone",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_PHONE",required:!1},{label:"POSITION",property_name:"position",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!1},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:""}],He=n(318),We=n.n(He),Ve=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.active_text,r=t.inactive_text,o=t.property_name;return s.a.createElement("div",{className:"switch__component flex__start"},s.a.createElement("figure",null,s.a.createElement(We.a,{onColor:"#86d3ff",onHandleColor:"#2693e6",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,onChange:function(){return e.props.updateEmployee(o,!n)},checked:n})),a&&r?s.a.createElement("h4",null,n?a:r):"")}}]),t}(r.Component),Je=n(319),qe=n(320),Be=n.n(qe),Qe=n(321),Ke=n.n(Qe),Xe=n(322),ze=n.n(Xe),Ze=function(e){var t=e.svg,n=e.tooltip,a=e.handleClick,r=e.value;return s.a.createElement("div",{onClick:function(){return a?a(r):""},className:"btn__with__tooltip"},s.a.createElement("button",{type:"button"},t),s.a.createElement("figure",null,n))},$e=n(194),et=n.n($e),tt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).generatePassword=function(){var t=Be.a.generate({length:10,uppercase:!1});e.setState({generated:!0,error:!1}),setTimeout((function(){e.setState({generated:!1})}),3e3),e.handleChange(t)},e.handleChange=function(t){var n=e.props.input.property_name;e.props.updateParentState("pw_changed",!0),e.props.handleUpdate(n,t)},e.handleBlur=function(){var t=e.props.value;e.setState({active:t}),e.setState({error:!t})},e.handleFocus=function(){e.setState({active:!0,validation_error:!1,error:!1})},e.handleCopy=function(){e.setState({copied:!0}),setTimeout((function(){e.setState({copied:!1})}),2e3)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.props.is_edit&&this.setState({active:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.validate,a=t.input,r=t.value,s=t.is_edit,o=a.type;e.validate===n||s||this.handleBlur(o,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.input,a=t.value,r=t.is_edit;console.log(a);var o=n.empty_text,l=n.label,i=this.state,c=i.active,u=i.error,p=i.generated,m=i.copied,d=this.props.global.system_text;return s.a.createElement("div",{id:"password__input",className:c||a?"text__input text__input--active flex__start":"text__input flex__start"},s.a.createElement("input",{placeholder:d[l],onChange:function(t){return e.handleChange(t.target.value)},type:"password",value:a||(!a&&r?"********":"")}),s.a.createElement(Je.CopyToClipboard,{text:a,onCopy:function(){return e.handleCopy()}},s.a.createElement("aside",{style:{opacity:a?1:.7,pointerEvents:a?"all":"none"}},s.a.createElement(Ze,{svg:m?s.a.createElement(et.a,null):s.a.createElement(Ke.a,null),tooltip:d.COPY}))),s.a.createElement(Ze,{svg:p?s.a.createElement(et.a,null):s.a.createElement(ze.a,null),handleClick:this.generatePassword,value:!0,tooltip:d.GENERATE}),u?s.a.createElement("p",{className:"text__input__error"},d[o]):"")}}]),t}(r.Component);var nt=Object(i.c)((function(e){return{global:e.global}}),a)(tt),at=n(80),rt=n.n(at),st=function(e){var t=e.loading,n=e.close_text,a=e.close,r=e.submit,o=e.submit_text,l=e.button_type;return s.a.createElement("div",{className:"submit__buttons__box flex__start"},t?s.a.createElement("button",{type:"button",style:{background:"transparent",border:"none",position:"relative"}},s.a.createElement(De,{active:!0})):s.a.createElement("button",{className:"flex__center",style:{color:"white",background:"#0091ff"},onClick:function(){return r?r():""},type:l?"button":"submit"},o),s.a.createElement("button",{className:"flex__center",style:{color:"#0091ff",background:"rgba(0, 145, 255, 0.1)"},type:"button",onClick:function(){return a()}},n))},ot=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateProfile=function(t,n){var a=e.state.profile,r=JSON.parse(JSON.stringify(a));r[t]=n,e.setState({profile:r})},e.close=function(){e.setState({profile:{},loaded:!1}),setTimeout((function(){e.props.toggleHandleProfile()}),400)},e.submitForm=function(t){var n=e.state,a=n.profile,r=n.pw_changed;t.preventDefault(),e.setState({validate:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({validate:!1}),0!==document.querySelectorAll(".text__input__error").length){t.next=7;break}return e.setState({loading:!0}),t.next=6,e.props.save(a,r);case 6:e.close();case 7:case"end":return t.stop()}}),t)}))),60)},e.updateState=function(t,n){e.setState(Object(f.a)({},t,n))},e.state={profile:{active:!0}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.profile_to_edit;setTimeout((function(){e.setState({loaded:!0})}),30),t&&this.setState({profile:t,is_edit:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loaded,a=t.profile,r=t.validate,o=t.is_edit,l=t.loading,i=this.props,c=i.edit_text,u=i.create_text,p=i.status_disabled,m=this.props.global.system_text;return s.a.createElement("div",{id:n?"employees__handle--active":"",className:"employees__handle"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)},className:"employees__handle__form flex__column"},s.a.createElement("button",{style:{opacity:n?1:0},type:"button",onClick:function(){return e.close()},className:"employees__handle__form__close"},s.a.createElement(rt.a,null)),s.a.createElement("header",{className:"flex__between"},s.a.createElement("h2",null,o?c:u)),s.a.createElement("span",{style:{alignItems:"flex-start"},className:"flex__between"},s.a.createElement(Re,{property_name:"avatar",update:this.updateProfile,value:a.avatar}),p?"":s.a.createElement(Ve,{property_name:"active",value:a.active,updateEmployee:this.updateProfile})),s.a.createElement("div",{className:"employees__handle__form__info"},Ye.map((function(t){switch(t.type){case"password":return s.a.createElement(nt,{handleUpdate:e.updateProfile,input:t,validate:r,system_text:m,value:a[t.property_name],is_edit:o,updateParentState:e.updateState});default:return s.a.createElement(Ue,{handleUpdate:e.updateProfile,input:t,system_text:m,validate:r,value:a[t.property_name]})}}))),s.a.createElement(st,{close:this.close,submit_text:m.SAVE,close_text:m.CANCEL,loading:l})))}}]),t}(r.Component);var lt=Object(i.c)((function(e){return{employees:e.employees,user:e.user,global:e.global}}),a)(ot),it=function(e){var t=e.text,n=e.name,a=e.active,r=e.submit_text,o=e.close_text,l=e.loading;return s.a.createElement("div",{style:{opacity:a?1:0,pointerEvents:a?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("h3",null,n),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},l?s.a.createElement(De,{active:!0}):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.submit()}},r),s.a.createElement("button",{onClick:function(){return e.close()},style:{color:"#0091ff",background:"rgba(0, 145, 255, 0.1)"}},o)))))},ct=n(138),ut=n.n(ct),pt="https://assignments-server.herokuapp.com/api",mt="auth_token",dt=n(139),_t=n.n(dt),ft=function(e,t,n){return _t.a.set(e,t,{expires:n})},Et=function(e){return _t.a.get(e)},gt=function(e){return _t.a.remove(e)},ht=function(e){return new Promise((function(t){var n={"x-auth-token":Et(mt)};ut.a.get("".concat(pt,"/").concat(e),{headers:n}).then((function(e){var n=e.data,a=n.ok,r=n.result;t({ok:a,result:r})})).catch((function(e){t({ok:!1})}))}))},vt=function(e,t){return new Promise((function(n){var a={"x-auth-token":Et(mt)};ut.a.post("".concat(pt,"/").concat(e),t,{headers:a}).then((function(e){var t=e.data,a=t.ok,r=t.result;n({ok:a,result:r})})).catch((function(e){n({ok:!1})}))}))},bt=function(e){return e.arr.map((function(e){return s.a.createElement("div",{className:"loader__element employee__loader"},s.a.createElement("figure",null))}))},yt=n(323),Ot=n.n(yt),St=n(324),jt=n.n(St),xt=function(e){var t=e.text,n=e.create_text,a=e.create;return s.a.createElement("div",{className:"no__data flex__column"},s.a.createElement(Ot.a,{className:"no__data__main__svg"}),s.a.createElement("h3",null,t),n?s.a.createElement("button",{className:"add__btn flex__center",onClick:function(){return a()}},s.a.createElement(jt.a,null),n):"")},Nt=n(325),wt=n.n(Nt),At=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateState=function(t,n){e.setState(Object(f.a)({},t,n))},e.toggleHandleEmployee=function(t,n){e.setState({handle_employee:t,employee:n})},e.handleRemove=function(t){e.setState({employee_to_remove:t})},e.remove=Object(q.a)(J.a.mark((function t(){var n,a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.employee_to_remove,r=n.employees_list,e.setState({remove_loading:!0}),"employee/delete",t.next=5,vt("employee/delete",{id:a._id});case 5:t.sent.ok&&(e.props.removeEmployee(a,r),e.setState({employees_list:r.filter((function(e){return e._id!==a._id}))}),e.close()),setTimeout((function(){e.setState({remove_loading:!1})}),400);case 8:case"end":return t.stop()}}),t)}))),e.close=function(){e.setState({employee_to_remove:""})},e.handleView=function(t){e.setState({list_view:t})},e.saveEmployee=function(){var t=Object(q.a)(J.a.mark((function t(n,a){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=3;break}return t.next=3,e.resetEmployeePassword(n);case 3:n._id?e.updateEmployee(n):e.createEmployee(n);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createEmployee=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"employee/create",t.next=3,vt("employee/create",n);case 3:(a=t.sent).ok?(e.props.updateGlobalReducer("success","Employee created successfully"),r=JSON.parse(JSON.stringify(e.state.employees_list)),e.setState({employees_list:[a.result].concat(Object(ie.a)(r))})):e.props.updateGlobalReducer("error",a.result?a.result:"Failed to create employee");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateEmployee=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"employee/update",t.next=3,vt("employee/update",n);case 3:(a=t.sent).ok?(e.props.updateGlobalReducer("success","Employee updated successfully"),r=JSON.parse(JSON.stringify(e.state.employees_list)),(s=r.findIndex((function(e){return e._id==n._id})))>=0&&(r.splice(s,1,a.result),e.setState({employees_list:r}))):e.props.updateGlobalReducer("error","Failed to update employee");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resetEmployeePassword=function(){var e=Object(q.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/password-reset",n={_id:t._id,password:t.password},e.next=4,vt("employee/password-reset",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.state={list_view:"row"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,n=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/all",setTimeout((function(){n.setState({page_loaded:!0})}),20),e.next=4,ht("employee/all");case 4:(t=e.sent).ok&&this.setState({loaded:!0,employees_list:t.result});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.employees_list,a=t.employee,r=t.handle_employee,o=t.employee_to_remove,l=t.list_view,i=t.loaded,c=t.page_loaded,u=t.remove_loading,p=this.props.global.system_text;return s.a.createElement("div",{style:{opacity:c?1:0},className:"employees"},s.a.createElement(it,{text:p.REMOVE_TEXT,name:"".concat(o?o.name:"","?"),active:o,submit:this.remove,close:this.close,submit_text:p.YES,close_text:p.NO,loading:u}),r?s.a.createElement(lt,{toggleHandleProfile:this.toggleHandleEmployee,profile_to_edit:a,save:this.saveEmployee,resetPassword:this.resetEmployeePassword,edit_text:p.EDIT_EMPLOYEE,create_text:p.CREATE_EMPLOYEE}):"",s.a.createElement("div",{className:"page__flex"},s.a.createElement("header",{className:"flex__start employees__header"},s.a.createElement(Ze,{svg:s.a.createElement(wt.a,null),handleClick:this.toggleHandleEmployee,value:!0,tooltip:p.CREATE})),i&&n&&n.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"titles__section flex__start"},p.EMPLOYEES_TITLES.map((function(e,t){return s.a.createElement("h3",{key:t},e)}))),s.a.createElement("ul",{className:"employees__list flex__start"},n.map((function(t){return s.a.createElement(we,{list_view:l,toggleHandleEmployee:e.toggleHandleEmployee,employee:t,key:t._id,system_text:p,handleRemove:e.handleRemove})})))):i?s.a.createElement(xt,{text:p.NO_EMPLOYEES}):s.a.createElement(bt,{arr:Object(ie.a)(Array(5).keys())})))}}]),t}(r.Component);var kt=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,user:e.user,global:e.global}}),a)(At)),Tt=function(e){var t=e.text,n=e.style,a=e.arrow_class;return s.a.createElement("div",{style:n,className:"smal__popup flex__center"},t,s.a.createElement("aside",{className:a}))},Ct=n(327),Pt=n.n(Ct),Dt=n(326),It=n.n(Dt),Rt=function(e,t){return e.indexOf(t)>-1},Lt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).logout=function(){gt(mt),e.props.history.push(ae),window.location.reload()},e.onLoad=function(){e.setState({img_loaded:!0})},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({mobile_menu:!1});var t=e.location.pathname;this.setState({url:t})}},{key:"componentDidMount",value:function(){var e=window.location.pathname;this.setState({url:e,page_loaded:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.url,a=t.page_loaded,r=t.img_loaded,o=t.mobile_menu,l=this.props.user.user,i=this.props.navigations,c=this.props.global.system_text,u={left:"110%",top:"50%",transform:"translate(0, -50%)"};return a?s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{style:{display:"none"},onClick:function(){return e.setState({mobile_menu:!o})},className:"mobile__hamburger"},s.a.createElement(It.a,null)),s.a.createElement("figure",{className:"employee__img navbar__user__avatar"},l&&l.avatar?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:l.avatar,style:{opacity:r?1:0,transition:"0.2s all"},onLoad:function(){return e.onLoad()},alt:""}),r?"":s.a.createElement("aside",{className:"avatar__loader"})):s.a.createElement(xe.a,null)),s.a.createElement("section",{id:o?"navbar__list--active":"",className:"navbar__list flex__column"},s.a.createElement("aside",{className:"navbar__list__mobile__placeholder",style:{display:"none"},onClick:function(){return e.setState({mobile_menu:!1})}}),i&&i.length>0?i.map((function(e,t){return s.a.createElement(le.b,{id:Rt(n,e.value)?"navbar__list__link--active":"",className:"navbar__list__link flex__center",key:t,to:e.param?e.url.replace(e.param,l._id):e.url},e.img,s.a.createElement(Tt,{arrow_class:"arrow-left",style:u,text:c[e.text]}))})):""),s.a.createElement("button",{style:{background:"transparent",border:"0px"},className:"navbar__list__link navbar__logout__link",onClick:function(){return e.logout()}},s.a.createElement(Tt,{arrow_class:"arrow-left",style:u,text:c.LOGOUT}),s.a.createElement(Pt.a,null))):""}}]),t}(r.Component);var Mt=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,user:e.user,global:e.global}}),a)(Lt)),Ft=n(328),Gt=n.n(Ft),Ut=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(K.a)(this,(e=Object(X.a)(t)).call.apply(e,[this].concat(r)))).showProfile=function(){n.props.changeSection(!0)},n}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.employee,r=t.system_text;return s.a.createElement("div",{id:n?"employee__page__menu--active":"",className:"employee__page__menu flex__start"},s.a.createElement(le.b,{to:$,className:"flex__start employee__page__menu__back"},s.a.createElement(Gt.a,null),s.a.createElement("h4",null,r.EMPLOYEES)),s.a.createElement("figure",{onClick:function(){return e.showProfile()},className:"flex__center"},a.avatar?s.a.createElement("img",{src:a.avatar}):s.a.createElement(xe.a,null)),s.a.createElement("h3",{className:"employee__page__menu__name"},a.name))}}]),t}(r.Component),Yt=n(52),Ht=n.n(Yt),Wt=function(e,t,n){var a=!1;return!!e.is_manager||(t&&t.length>0&&(a=t.includes(n)),a)};n(254);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Jt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeStatus=function(t){var n=e.props.m;console.log(n);var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);a.status=t,e.setState({hide:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.createAndUpdateAssignment(a);case 2:e.setState({hide:!1});case 3:case"end":return t.stop()}}),t)}))),500)},e.goToAssignment=function(t){console.log(t);var n=e.props.user.user;n.is_manager?e.props.history.push(te.replace(":id",t.employee_id).replace(":assignment_id",t._id)):e.props.history.push(se.replace(":id",n._id).replace(":assignment_id",t._id))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this.props.m;console.log(e);var t=this.props.user,n=t.permissions,a=t.user,r=this.state.hide,o=this.props.global.language,l=[{text:"VIEW",function:this.goToAssignment,param1:e},{text:"MARK_AS_PENDING",function:this.changeStatus,param1:"pending"},{text:"MARK_AS_DONE",function:this.changeStatus,param1:"done"},{text:"MARK_AS_PROGRESS",function:this.changeStatus,param1:"in_progress"},{text:"REMOVE",function:this.props.handleDelete,param1:e,disabled:!Wt(a,n,"EM003")}];return l=l.filter((function(t){if(t.param1!==e.status)return t})),s.a.createElement("li",{id:r?"employee__page__assignment__hidden":"",className:"employee__page__assignment flex__start"},s.a.createElement("div",null,s.a.createElement("h4",{style:{display:"none"}},"Title"),s.a.createElement("h3",null,e.title)),s.a.createElement("div",null,s.a.createElement("h4",{style:{display:"none"}},"Deadline"),s.a.createElement("h3",null,e.deadline?Ht()(e.deadline).locale(o.substring(0,2)).format("ddd, LL"):"-")),s.a.createElement(Se,{width:"150px",options:l}))}}]),t}(r.Component);var qt=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),a)(Jt)),Bt=function(e){return e.arr.map((function(e){return s.a.createElement("div",{className:"loader__element assignment__loader"},s.a.createElement("figure",null))}))},Qt=function(e,t){var n=[];return e&&e.length>0&&(n=e.filter((function(e){return e.status===t}))),n.length>0&&n},Kt=n(127),Xt=n.n(Kt),zt=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFilter=function(t){e.setState({status:t})},e.toggleAssignmentsList=function(t){e.setState({show_assignments:t})},e.updateState=function(t,n){e.setState(Object(f.a)({},t,n))},e.openCreateAssignment=function(){e.props.handleAssignment(!0,!0)},e.state={status:"pending"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({page_loaded:!0})}),20)}},{key:"componentWillUnmount",value:function(){this.toggleAssignmentsList(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.employee,a=t.assignments_loaded,r=this.props.user,o=r.user,l=r.permissions,i=this.state,c=i.status,u=i.page_loaded,p=this.props.global.system_text;return s.a.createElement("div",{style:{opacity:u?1:0},className:"employee__page__assignments"},s.a.createElement("div",{className:"page__flex"},s.a.createElement("header",{className:"employee__page__assignments__header flex__start"},Wt(o,l,"EM001")?s.a.createElement(Ze,{svg:s.a.createElement(Xt.a,null),handleClick:function(){return e.props.handleAssignment(!0)},tooltip:p.CREATE}):""),s.a.createElement("div",{className:"employee__page__assignments__flex "},s.a.createElement("ul",{className:"flex__start",id:"employee__page__assignments__actions"},p.ASSIGNMENT_STATUS_ARR.map((function(t,a){return s.a.createElement("li",{key:a,className:"flex__center",id:c===t.value?"employee__page__assignments__actions--active":"",onClick:function(){return e.handleFilter(t.value)}},t.img,s.a.createElement("h3",null," ",t.text),s.a.createElement("h5",null,"(",function(e,t){if(e&&e.length>0){var n=0;return e.forEach((function(e){e.status===t&&n++})),n}return 0}(n.assignments,t.value),")"))}))),Qt(n.assignments,c)?s.a.createElement("section",{id:"employee__assignments__titles",className:"flex__start"},p.EMPLOYEE_ASSIGNMENTS_TITLES.map((function(e,t){return s.a.createElement("h3",{key:t},e)}))):null,s.a.createElement("ul",{className:"flex__start",id:"employee__assignments"},a?a&&!Qt(n.assignments,c)?s.a.createElement(xt,{create:this.openCreateAssignment,text:p.NO_ASSIGNMENTS}):Qt(n.assignments,c).map((function(t){var n;return s.a.createElement(qt,(n={key:t._id,m:t,createAndUpdateAssignment:e.props.createAndUpdateAssignment,handleAssignment:e.props.handleAssignment,handleDelete:e.props.handleDelete},Object(f.a)(n,"key",t._id),Object(f.a)(n,"handleAssignmentComments",e.props.handleAssignmentComments),n))})):s.a.createElement(Bt,{arr:Object(ie.a)(Array(3).keys())})))))}}]),t}(r.Component);var Zt=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,assignments:e.assignments,user:e.user,global:e.global}}),a)(zt)),$t=n(61),en=n(32),tn=n(329),nn=n.n(tn),an=n(64),rn=n.n(an),sn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeStatus=function(t){var n=e.props.assignment,a=JSON.parse(JSON.stringify(n));a.status=t,e.props.createAndUpdateAssignment(a)},e.backToList=function(){var t=e.props.user.user,n=e.state.employee_id;t.is_manager?e.props.history.push(ee.replace(":id",n)):e.props.history.push(oe.replace(":id",n))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,n,a,r,s=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.assignment_id,n=this.props.match.params.id,setTimeout((function(){s.setState({page_loaded:!0})}),20),a="employee_assignment/get-by-id?_id=".concat(t),e.next=6,ht(a);case 6:(r=e.sent).ok&&(this.props.updateAssignmentInAssignmentPage(r.result),this.setState({employee_id:n}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.global,n=t.system_text,a=t.language,r=this.props.assignment,o=this.props.user,l=o.permissions,i=o.user,c=this.state.page_loaded,u=[{text:"EDIT",function:this.props.handleAssignment,param1:!0,param2:!1,param3:r,disabled:!Wt(i,l,"EM002")},{text:"COMMENTS",function:this.props.handleAssignmentComments,param1:r},{text:"MARK_AS_PENDING",function:this.changeStatus,param1:"pending"},{text:"MARK_AS_DONE",function:this.changeStatus,param1:"done"},{text:"MARK_AS_PROGRESS",function:this.changeStatus,param1:"in_progress"},{text:"REMOVE",function:this.props.handleDelete,param1:r,disabled:!Wt(i,l,"EM003")}];return s.a.createElement("div",{style:{opacity:c?1:0},className:"employee__assignment__page page__flex"},s.a.createElement(Se,{width:"150px",options:u}),s.a.createElement("header",null,s.a.createElement("aside",{onClick:function(){return e.backToList()},className:"flex__start"},s.a.createElement(rn.a,null),s.a.createElement("h5",null,n.ASSIGNMENTS))),r?s.a.createElement("section",{className:"employee__assignment__page__content"},s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("aside",{className:"flex__start"},s.a.createElement("p",null,n.STATUS,":"),s.a.createElement("h5",null,n[r.status])),s.a.createElement("h3",null,n.TITLE),s.a.createElement("h4",null,r.title)),s.a.createElement("aside",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,n.CONTENT),r.text?s.a.createElement($t.Editor,{toolbarHidden:!0,editorState:en.EditorState.createWithContent(Object(en.convertFromRaw)(JSON.parse(r.text))),readOnly:!0}):""),r&&r.files.length>0?s.a.createElement("div",{className:"employee__assignment__page__content__section employee__assignment__page__content__files"},s.a.createElement("h3",null,n.FILES),s.a.createElement("ul",null,r.files.map((function(e){return s.a.createElement("li",{className:"flex__start"},s.a.createElement("a",{className:"flex__start",href:e.url,target:"_blank"},s.a.createElement(nn.a,null),s.a.createElement("h5",null,e.name)))})))):"",r.deadline?s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,n.DEADLINE),s.a.createElement("span",{className:"flex__start"},s.a.createElement("h4",null,Ht()(r.deadline).locale(a.substring(0,2)).format("dddd, LL")))):null,r.comments?s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,n.COMMENTS),s.a.createElement($t.Editor,{toolbarHidden:!0,editorState:en.EditorState.createWithContent(Object(en.convertFromRaw)(JSON.parse(r.comments))),readOnly:!0})):" ",s.a.createElement("div",{className:"employee__assignment__page__content__section"},s.a.createElement("h3",null,n.LAST_UPDATED),s.a.createElement("h4",null,Ht()(r.updated_at).format("DD/MM/YY HH:mm")))):s.a.createElement(Bt,{arr:Object(ie.a)(Array(3).keys())}))}}]),t}(r.Component);var on=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),a)(sn)),ln=[{label:"TITLE",property_name:"title",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"TEXT",property_name:"text",type:"draft",empty_text:"Required field",validation_text:""}],cn=n(331),un=n.n(cn),pn=(n(624),n(330)),mn=n.n(pn),dn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateDimensions=function(){window.innerWidth<600?e.setState({portal:!0}):e.setState({portal:!1})},e.handleChange=function(t){var n=e.props.property_name;e.props.sendDate(n,t),e.setState({error:!1})},e.handleDateChangeRaw=function(e){e.preventDefault()},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.validate,a=t.date;e.validate===n||a||this.setState({error:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this,t=this.props,n=t.date,a=t.title,r=t.empty_error,o=this.state,l=o.error,i=o.portal,c=this.props.global.system_text;return s.a.createElement("div",{onClick:function(){return e.props.scrolltop()},className:"datepicker__wrapper"},s.a.createElement("h3",null,a),s.a.createElement("div",{className:"datepicker__flex"},n?"":s.a.createElement("aside",{className:"datepicker__flex__placeholder flex__start"},s.a.createElement(mn.a,null)," ",s.a.createElement("h4",null,c.SELECT_DATE)," "),s.a.createElement(un.a,{selected:n?Ht()(n).toDate():"",onChange:function(t){return e.handleChange(t)},timeFormat:"HH:mm",minDate:Ht()().toDate(),dateFormat:"MMMM d, yyyy",onChangeRaw:this.handleDateChangeRaw,withPortal:i})),l?s.a.createElement("p",{className:"text__input__error"},r):"")}}]),t}(r.Component);var _n=Object(i.c)((function(e){return{global:e.global}}),a)(dn),fn=(n(296),function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).createContent=function(t){var n="";if(t){var a=Object(en.convertFromRaw)(JSON.parse(t));n=en.EditorState.createWithContent(a)}e.setState({comments:n})},e.onEditorStateChange=function(t){e.setState({comments:t}),window.clearTimeout(e.state.timeout);var n=setTimeout((function(){e.save(t)}),200);e.setState({timeout:n})},e.saveContent=function(e){return JSON.stringify(Object(en.convertToRaw)(e.getCurrentContent()))},e.save=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.property_name,t.next=3,e.saveContent(n);case 3:r=t.sent,e.props.handleUpdate(a,r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.value;this.setState({loaded:!0}),this.createContent(e)}},{key:"componentWillReceiveProps",value:function(e){e.updated!==this.props.updated&&this.createContent(e.value)}},{key:"render",value:function(){var e=this.state.comments,t=this.props,n=t.label,a=t.system_text;return s.a.createElement("div",{className:"draft__content"},s.a.createElement($t.Editor,{editorState:e,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,placeholder:a[n]}))}}]),t}(r.Component)),En=n(334),gn=n.n(En);Te.a.initApp("0C7F99A6-3715-126A-FF3C-3387261D5C00","957C469D-E5DE-4C1D-8A8B-A3BE62BF1CD2");var hn=function(e,t){return e.filter((function(e){return e.name===t.name}))[0]},vn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleFileSelect=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r,s,o,l,i,c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.property_name,e.setState({loading:!0}),r=!0,s=!1,o=void 0,t.prev=5,l=J.a.mark((function t(){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.value,t.prev=1,t.next=4,Te.a.Files.upload(n,"/myFiles",!0).then((function(t){var r=t.fileURL,s={name:n.name,url:r},o=e.props.files?e.props.files:[];hn(o,s)||(o=[].concat(Object(ie.a)(o),[s]),e.props.update(a,o))}));case 4:e.setState({loading:!1}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})),i=n[Symbol.iterator]();case 8:if(r=(c=i.next()).done){t.next=13;break}return t.delegateYield(l(),"t0",10);case 10:r=!0,t.next=8;break;case 13:t.next=19;break;case 15:t.prev=15,t.t1=t.catch(5),s=!0,o=t.t1;case 19:t.prev=19,t.prev=20,r||null==i.return||i.return();case 22:if(t.prev=22,!s){t.next=25;break}throw o;case 25:return t.finish(22);case 26:return t.finish(19);case 27:case"end":return t.stop()}}),t,null,[[5,15,19,27],[20,,22,26]])})));return function(e){return t.apply(this,arguments)}}(),e.removeFile=function(t){var n=e.props,a=n.files,r=n.property_name,s=a.filter((function(e){return e.name!==t.name}));e.props.update(r,s)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.files,n=this.state.loading,a=this.props.global.system_text;return s.a.createElement("div",{className:"files__upload"},n?s.a.createElement("div",{className:"dropzone dropzone__loader"},s.a.createElement(De,{active:!0})):s.a.createElement(Ae.a,{className:"dropzone flex__start",style:{width:"100%",height:"100%"},onDrop:function(t){return e.handleFileSelect(t)}},s.a.createElement(gn.a,null),s.a.createElement("h5",null,a.ADD_FILE)),s.a.createElement("ul",{className:"files__upload__list flex__start"},t&&t.length>0?t.map((function(t){return s.a.createElement("li",{className:"flex__start"},s.a.createElement("a",{href:t.url,target:"_blank"},s.a.createElement("h4",null,t.name)),s.a.createElement("button",{type:"button",onClick:function(){return e.removeFile(t)}},s.a.createElement(rt.a,null)))})):""))}}]),t}(r.Component);var bn=Object(i.c)((function(e){return{global:e.global}}),a)(vn),yn=n(83),On=n.n(yn),Sn=n(335),jn=n.n(Sn),xn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).close=function(){e.setState({page_loaded:!1}),setTimeout((function(){e.props.closePopup()}),300)},e.handleSelect=function(t){e.props.setAssignment(t),e.close()},e.setWrapperRef=function(t){e.wrapperRef=t},e.handleClickOutside=function(t){e.wrapperRef&&!e.wrapperRef.contains(t.target)&&e.close()},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({page_loaded:!0})}),20),document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props,n=t.assignments_list,a=t.system_text,r=this.state.page_loaded;return s.a.createElement("div",{style:{opacity:r?1:0},className:"employee__page__assignments__suggestions"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("div",{ref:this.setWrapperRef,className:"employee__page__assignments__suggestions__content"},s.a.createElement("button",{type:"button",className:"employee__page__assignments__suggestions__close",onClick:function(){return e.close()}},s.a.createElement(On.a,null)),s.a.createElement("h3",null,a.TEMPLATES),s.a.createElement("ul",null,n&&n.length>0?n.map((function(t){return s.a.createElement("li",{onClick:function(){return e.handleSelect(t)},className:"flex__start",key:t._id},s.a.createElement(jn.a,null),t.title)})):s.a.createElement(xt,{text:a.NO_TEMPLATES}))))}}]),t}(r.Component),Nn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateStateAssignment=function(t,n){var a=e.state.assignment,r=JSON.parse(JSON.stringify(a));r[t]=n,e.setState({assignment:r})},e.submitForm=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,r=a.is_edit,s=a.assignment,n.preventDefault(),e.setState({validate:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({validate:!1}),0!==document.querySelectorAll(".text__input__error").length){t.next=13;break}if(e.setState({loading:!0}),!r){t.next=10;break}return t.next=7,e.props.edit(s);case 7:e.close(),t.next=13;break;case 10:return t.next=12,e.props.create(s);case 12:e.close();case 13:case"end":return t.stop()}}),t)}))),50);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.toggleHandleAssignment()}),400)},e.setAssignment=function(t){e.setState({assignment_updated:!0,assignment:t}),setTimeout((function(){e.setState({assignment_updated:!1})}),50)},e.scrolltop=function(){console.log("laaaaaaaa"),e.componentRef.current.scrollTop=0},e.state={assignment:{}},e.componentRef=s.a.createRef(),e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.assignment_to_edit,a=t.new_assignment;this.setState({is_edit:n,assignment:n||{}}),a&&this.setState({assignment:a}),setTimeout((function(){e.setState({loaded:!0})}),20)}},{key:"render",value:function(){var e=this,t=this.state,n=t.loaded,a=t.is_edit,r=t.validate,o=t.assignment,l=t.show_options,i=t.assignment_updated,c=t.loading,u=this.props,p=u.from_employee_page,m=u.assignments_list,d=this.props.global.system_text;return s.a.createElement("div",{id:n?"assignments__handle--active":"",className:"assignments__handle"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{ref:this.componentRef,onSubmit:function(t){return e.submitForm(t)},className:"assignments__handle__form"},p&&l?s.a.createElement(xn,{closePopup:function(){return e.setState({show_options:!1})},assignments_list:m,setAssignment:this.setAssignment,system_text:d}):"",s.a.createElement("button",{style:{opacity:n?1:0},type:"button",onClick:function(){return e.close()},className:"assignments__handle__form__close flex__center"},s.a.createElement(rt.a,null)),s.a.createElement("h2",null,a?d.EDIT:d.CREATE),p&&!a?s.a.createElement("button",{type:"button",onClick:function(){return e.setState({show_options:!0})},className:"save__btn suggestions__btn"},d.TEMPLATES):"",o&&n&&ln.map((function(t){switch(t.type){case"draft":return s.a.createElement(fn,{handleUpdate:e.updateStateAssignment,input:t,validate:r,property_name:t.property_name,value:o?o.text:"",label:t.label,system_text:d,updated:i});default:return s.a.createElement(Ue,{handleUpdate:e.updateStateAssignment,input:t,validate:r,property_name:t.property_name,value:o?o[t.property_name]:"",system_text:d})}})),p?s.a.createElement("div",{className:"assignments__handle__employee__page"},a?s.a.createElement("section",{id:"assignments__handle__employee__status"},s.a.createElement("h3",null,d.STATUS),s.a.createElement("aside",null,d.ASSIGNMENT_STATUS_ARR.map((function(t){return s.a.createElement("button",{type:"button",className:o.status===t.value?"save__btn":"cancel__btn",onClick:function(){return e.updateStateAssignment("status",t.value)}},t.text)})))):"",s.a.createElement(_n,{scrolltop:this.scrolltop,sendDate:this.updateStateAssignment,property_name:"deadline",date:o?o.deadline:"",title:d.DEADLINE,empty_error:"Required field",validate:r})):"",s.a.createElement(bn,{update:this.updateStateAssignment,property_name:"files",files:o?o.files:[]}),s.a.createElement(st,{close:this.close,submit_text:d.SAVE,close_text:d.CANCEL,loading:c})))}}]),t}(r.Component);var wn=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),a)(Nn);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tn=function(e){return JSON.stringify(Object(en.convertToRaw)(e.getCurrentContent()))},Cn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).onEditorStateChange=function(t){e.setState({comments:t})},e.close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.updateParentState("assignment_comments")}),300)},e.save=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.assignment,r=kn({},a),e.setState({loading:!0}),t.next=5,Tn(n);case 5:return s=t.sent,r.comments=s,t.next=9,e.props.updateAssignment(r);case 9:e.close();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.assignment;setTimeout((function(){e.setState({loaded:!0})}),20),this.setState({loaded:!0});var n="";if(t.comments){var a=Object(en.convertFromRaw)(JSON.parse(t.comments));n=en.EditorState.createWithContent(a)}this.setState({comments:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.comments,a=t.loaded,r=t.loading,o=this.props,l=o.assignment,i=o.system_text;return s.a.createElement("div",{id:a?"employee__assignment__comments--active":"",className:"employee__assignment__comments"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("form",{className:"flex__column"},s.a.createElement("button",{type:"button",onClick:function(){return e.close()},className:"employee__assignment__comments__close"},s.a.createElement(On.a,null)),s.a.createElement("header",null,s.a.createElement("h2",null,i.ASSIGNMENT),s.a.createElement("h3",null,"".concat(l.title))),s.a.createElement("div",{className:"employee__assignment__comments__editor"},s.a.createElement($t.Editor,{editorState:n,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:this.onEditorStateChange,placeholder:i.COMMENT})),s.a.createElement(st,{submit:function(){return n?e.save(n):""},loading:r,close_text:i.CANCEL,close:this.close,submit_text:i.SAVE,button_type:!0})))}}]),t}(r.Component);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var In=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getAssignments=Object(q.a)(J.a.mark((function t(){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"assignment",t.next=3,ht("assignment");case 3:(n=t.sent).ok&&e.setState({assignments_list:n.result,assignments_loaded:!0});case 5:case"end":return t.stop()}}),t)}))),e.handleAssignment=function(t,n,a){e.setState({handle_assignment:t,new_assignment:n,assignment_to_edit:a})},e.createAndUpdateAssignment=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r,s,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.employee,"employee_assignment",n.employee_id=a._id,n.status=n.status?n.status:"pending",console.log(n),t.next=7,vt("employee_assignment",n);case 7:(r=t.sent).ok&&(s=a.assignments.findIndex((function(e){return e._id==n._id})),o=JSON.parse(JSON.stringify(a)),s>=0?(o.assignments.splice(s,1,r.result),e.props.updateGlobalReducer("success","Assignment updated")):(o.assignments.unshift(r.result),e.props.updateGlobalReducer("success","Assignment created")),e.props.updateParentState("employee",o),window.location.pathname.indexOf("assignment")>-1&&e.updateAssignmentInAssignmentPage(r.result));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(t){console.log(t),e.setState({assignment_to_remove:t})},e.handleAssignmentComments=function(t){e.setState({assignment_comments:t})},e.remove=Object(q.a)(J.a.mark((function t(){var n,a,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.assignment_to_remove,a=e.props.employee,n.employee_id=a._id,"employee_assignment/delete",t.next=6,vt("employee_assignment/delete",n);case 6:t.sent.ok&&(r=Dn({},a),(s=r.assignments.findIndex((function(e){return e._id==n._id})))>=0&&(r.assignments.splice(s,1),e.props.updateEmployee(r),e.close()),0===window.location.pathname.indexOf("assignment")&&e.props.history.push(ee.replace(":id",a._id)));case 8:case"end":return t.stop()}}),t)}))),e.close=function(){e.handleDelete()},e.updateAssignmentInAssignmentPage=function(t){e.setState({page_assignment:t})},e.updateState=function(t,n){e.setState(Object(f.a)({},t,n))},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getAssignments();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.assignments_list,a=t.assignments_loaded,r=t.assignment_comments,o=t.handle_assignment,l=t.new_assignment,i=t.assignment_to_edit,c=t.assignment_to_remove,u=t.page_assignment,p=this.props.global.system_text,m=this.props,d=m.active_section,_=m.employee,f=m.hide_page,E=this.props.user.user;return s.a.createElement("div",{style:{opacity:f?0:1,transition:"0.2s all"}},s.a.createElement(it,{text:"Are you sure, you want to remove assignment:",name:"".concat(c?c.title:"","?"),active:c,submit:this.remove,close:this.close,submit_text:"YES",close_text:"NO"}),r?s.a.createElement(Cn,{updateAssignment:this.createAndUpdateAssignment,assignment:r,updateParentState:this.updateState,system_text:p}):"",o?s.a.createElement(wn,{new_assignment:l,edit:this.createAndUpdateAssignment,create:this.createAndUpdateAssignment,assignment_to_edit:i,toggleHandleAssignment:this.handleAssignment,from_employee_page:!0,handleDelete:this.handleDelete,assignments_list:n}):null,s.a.createElement(Z.c,null,s.a.createElement(Z.a,{exact:!0,path:E.is_manager?ee:oe,render:function(){return s.a.createElement(Zt,{handleAssignmentComments:e.handleAssignmentComments,handleAssignment:e.handleAssignment,updateEmployee:e.updateEmployee,employee:_||{},assignments_loaded:a,createAndUpdateAssignment:e.createAndUpdateAssignment,handleDelete:e.handleDelete})}}),s.a.createElement(Z.a,{exact:!0,path:E.is_manager?te:se,render:function(){return s.a.createElement(on,{employee:_,active_section:d,handleAssignment:e.handleAssignment,handleDelete:e.handleDelete,assignment:u,updateAssignmentInAssignmentPage:e.updateAssignmentInAssignmentPage,createAndUpdateAssignment:e.createAndUpdateAssignment,handleAssignmentComments:e.handleAssignmentComments})}})))}}]),t}(r.Component);var Rn=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,assignments:e.assignments,user:e.user,global:e.global}}),a)(In)),Ln=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).close=function(){e.setState({loaded:!1}),setTimeout((function(){e.props.changeSection(!1)}),100)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),20)}},{key:"render",value:function(){var e=this,t=this.props,n=t.employee,a=t.hide_status,r=t.show_close_btn,o=this.state.loaded,l=this.props.global.system_text,i=n.name,c=n.phone,u=n.position,p=n.email,m=n.active,d=n.avatar;return s.a.createElement("div",{style:{opacity:o?1:0},className:"employee__page__personal page__flex"},r?s.a.createElement("button",{className:"employee__page__personal__close",onClick:function(){return e.close()}},s.a.createElement(On.a,null)):"",s.a.createElement("section",{className:"flex__start"},s.a.createElement("figure",{className:"employee__img flex__center"},d?s.a.createElement("img",{src:d,alt:""}):s.a.createElement(xe.a,null)),s.a.createElement("button",{className:"employee__page__edit save__btn",onClick:function(){return e.props.toggleHandleEmployee(!0)}},l.EDIT)),s.a.createElement("ul",{className:"employee__page__personal__details flex__start"},s.a.createElement("li",null,s.a.createElement("h5",null,l.NAME),s.a.createElement("h3",null,i||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.EMAIL),s.a.createElement("h3",null,p||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.PHONE),s.a.createElement("h3",null,c||"-")),s.a.createElement("li",null,s.a.createElement("h5",null,l.POSITION),s.a.createElement("h3",null,u||"-")),a?"":s.a.createElement("li",null,s.a.createElement("h5",null,l.STATUS),s.a.createElement("h3",null,m?l.ACTIVE:l.INACTIVE))))}}]),t}(r.Component);var Mn=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),a)(Ln),Fn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeSection=function(t){e.setState({profile:t})},e.getEmployee=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="employee/get-by-id?id=".concat(n),t.next=3,ht(a);case 3:(r=t.sent).ok&&setTimeout((function(){e.setState({employee:r.result})}),100);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateEmployee=function(){var t=Object(q.a)(J.a.mark((function t(n,a){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a&&e.resetEmployeePassword(n),"employee/update",t.next=4,vt("employee/update",n);case 4:(r=t.sent).ok&&e.setState({employee:r.result});case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.updateState=function(t,n){e.setState(Object(f.a)({},t,n))},e.toggleHandleEmployee=function(t){e.setState({handle_employee:t})},e.resetEmployeePassword=function(){var e=Object(q.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"employee/password-reset",n={_id:t._id,password:t.password},e.next=4,vt("employee/password-reset",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.state={active_section:"assignments",assignments:[]},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,n=this;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,setTimeout((function(){n.setState({page_loaded:!0})}),20),e.next=4,this.getEmployee(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.employee,n=e.active_section,a=e.page_loaded,r=e.handle_employee,o=e.profile,l=this.props.user.user,i=this.props.global.system_text;return a?s.a.createElement("div",{className:"employee__page",id:l.is_manager?"":"employee__page--employee"},r?s.a.createElement(lt,{toggleHandleProfile:this.toggleHandleEmployee,profile_to_edit:t,returnEmployee:this.updateEmployee,save:this.updateEmployee,resetPassword:this.resetEmployeePassword,edit_text:i.EDIT_EMPLOYEE}):"",l.is_manager?s.a.createElement(Ut,{system_text:i,changeSection:this.changeSection,active_section:n,active:!0,employee:t||{},user:l}):"",s.a.createElement(Rn,{hide_page:o,employee:t,updateEmployee:this.updateEmployee,updateParentState:this.updateState}),o?s.a.createElement(Mn,{show_close_btn:!0,toggleHandleEmployee:this.toggleHandleEmployee,employee:t||{},save:this.updateEmployee,changeSection:this.changeSection}):""):""}}]),t}(r.Component);var Gn=Object(Z.f)(Object(i.c)((function(e){return{employees:e.employees,navbar:e.navbar,assignments:e.assignments,user:e.user,global:e.global}}),a)(Fn)),Un=function(e){var t=e.m,n=e.system_text,a=[{text:"EDIT",function:e.toggleHandleAssignment,param1:!0,param2:t},{text:"REMOVE",function:e.handleRemove,param1:t}];return s.a.createElement("li",{className:"assignments__list__assignment"},s.a.createElement(Se,{width:"120px",options:a}),s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,n.TITLE),s.a.createElement("h4",null,t.title)),s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,n.CONTENT),s.a.createElement($t.Editor,{toolbarHidden:!0,editorState:en.EditorState.createWithContent(Object(en.convertFromRaw)(JSON.parse(t.text))),readOnly:!0})),t.files&&t.files.length>0?s.a.createElement("section",{className:"assignments__list__assignment__section"},s.a.createElement("h3",null,n.FILES),s.a.createElement("ul",null,t.files.map((function(e){return s.a.createElement("div",{className:"system__file",key:e._id},s.a.createElement("a",{href:e.url,target:"_blank"},s.a.createElement("p",null,e.name)))})))):"")},Yn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).toggleHandleAssignment=function(t,n){e.setState({handle_assignment:t,assignment_to_edit:n})},e.handleRemove=function(t){e.setState({assignment_to_remove:t})},e.close=function(){e.setState({assignment_to_remove:"",handle_assignment:""})},e.remove=Object(q.a)(J.a.mark((function t(){var n,a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.assignment_to_remove,a=e.props.assignments.assignments_list,e.setState({remove_loading:!0}),"assignment/delete",t.next=6,vt("assignment/delete",{id:n._id});case 6:t.sent.ok&&(e.props.removeAssignment(n,a),e.close()),setTimeout((function(){e.setState({remove_loading:!1})}),400);case 9:case"end":return t.stop()}}),t)}))),e.create=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.global.system_text,r=e.props.assignments.assignments_list,"assignment",e.setState({loading:!0}),t.next=6,vt("assignment",n);case 6:(s=t.sent).ok&&e.props.addAssignment(s.result,r),e.props.updateGlobalReducer("success",a.ASSIGNMENT_CREATE_SUCCESS),e.setState({loading:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.edit=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.assignments.assignments_list,"assignment",e.setState({loading:!0}),t.next=5,vt("assignment",n);case 5:(r=t.sent).ok&&e.props.updateAssignment(r.result,a),e.setState({loading:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"assignment",e.next=3,ht("assignment");case 3:(t=e.sent).ok&&(this.props.setDataToAssignmentsReducer("assignments_list",t.result),this.setState({assignments_loaded:!0}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.assignments.assignments_list,n=this.state,a=n.handle_assignment,r=n.assignment_to_edit,o=n.assignment_to_remove,l=n.loading,i=n.assignments_loaded,c=n.remove_loading,u=this.props.global.system_text;return s.a.createElement("div",{className:"assignments"},s.a.createElement(it,{text:u.REMOVE_TEXT,name:"".concat(o?o.title:"","?"),active:o,submit:this.remove,close:this.close,submit_text:u.YES,close_text:u.NO,loading:c}),a?s.a.createElement(wn,{loading:l,edit:this.edit,create:this.create,assignment_to_edit:r,toggleHandleAssignment:this.toggleHandleAssignment}):" ",s.a.createElement("div",{className:"page__flex"},s.a.createElement(Ze,{svg:s.a.createElement(Xt.a,null),handleClick:function(){return e.toggleHandleAssignment(!0)},tooltip:u.CREATE}),s.a.createElement("ul",{className:"assignments__list flex__start"},i&&t&&t.length>0?t.map((function(t){return s.a.createElement(Un,{m:t,system_text:u,handleRemove:e.handleRemove,toggleHandleAssignment:e.toggleHandleAssignment,key:t._id})})):i?s.a.createElement(xt,{text:u.NO_TEMPLATES}):s.a.createElement(Bt,{arr:Object(ie.a)(Array(3).keys())}))))}}]),t}(r.Component);var Hn=Object(Z.f)(Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),a)(Yn)),Wn=n(84),Vn=(r.Component,function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getGraphData=Object(q.a)(J.a.mark((function t(){var n,a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"overview/assignments",t.next=3,ht("overview/assignments");case 3:(n=t.sent).ok&&(a=n.result,r={labels:["Pending","In progress","Done"],datasets:[{data:[a.pending,a.in_progress,a.done],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},e.setState({graph_data:r}));case 5:case"end":return t.stop()}}),t)}))),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.getGraphData()}},{key:"render",value:function(){var e=this.state.graph_data;return s.a.createElement("div",{className:"overview__section"},e?s.a.createElement(Wn.a,{data:e}):"")}}]),t}(r.Component)),Jn=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getData=Object(q.a)(J.a.mark((function t(){var n,a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.type,"employee/all",t.next=4,ht("employee/all");case 4:(a=t.sent).ok&&(r=a.result,e.setState({employees:r}),e.generateData(r,n));case 6:case"end":return t.stop()}}),t)}))),e.generateData=function(t,n){var a={labels:t.map((function(e){return e.name})),datasets:[{label:"",backgroundColor:"rgba(0, 145, 255, 0.5)",borderColor:"rgba(255,99,132,0)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:t.map((function(e){return e.assignments_count[n]}))}]};e.setState({graph_data:a})},e.state={type:"pending"},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state,t=(e.type,e.graph_data);return s.a.createElement("div",{className:"overview__section"},s.a.createElement(Wn.b,{options:{legend:{display:!1},scales:{xAxes:[{ticks:{beginAtZero:!1},gridLines:{offsetGridLines:!1}}],yAxes:[{stacked:!0,gridLines:{}}]}},data:t}))}}]),t}(r.Component),qn=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"overview flex__start"},s.a.createElement("div",{className:"page__flex flex__column"},s.a.createElement(Vn,null),s.a.createElement(Jn,null)))}}]),t}(r.Component),Bn=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){this.props.global.system_text;var e=this.props.settings_routes;this.props.user.user;return s.a.createElement("div",{className:"settings page__flex"},s.a.createElement(Z.c,null,e.map((function(e,t){return s.a.createElement(Z.a,{key:t,exact:!0,path:e.route,render:function(){return e.component}})}))))}}]),t}(r.Component);var Qn=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),a)(Bn)),Kn=n(337),Xn=n.n(Kn),zn=n(197),Zn=n.n(zn),$n=n(198),ea=n.n($n),ta=[{url:$,text:"EMPLOYEES",value:"employees",img:s.a.createElement(Xn.a,null)},{url:"/dashboard/assignments",text:"TEMPLATES",value:"assignments",img:s.a.createElement(Zn.a,null)},{url:ne,text:"SETTINGS",value:"settings",img:s.a.createElement(ea.a,null),last:!0}],na=[{url:oe,text:"ASSIGNMENTS",value:"assignments",img:s.a.createElement(Zn.a,null),param:":id"},{url:"/employee-dashboard/settings",text:"SETTINGS",value:"settings",img:s.a.createElement(ea.a,null),last:!0}],aa=n(338),ra=n.n(aa),sa=n(339),oa=n.n(sa),la=[{name:"PROFILE",url:"/employee-dashboard/settings/profile",img:s.a.createElement(xe.a,null)}],ia=[{name:"PROFILE",url:"/dashboard/settings/profile",img:s.a.createElement(xe.a,null)},{name:"PERMISSIONS",url:"/dashboard/settings/permissions",img:s.a.createElement(ra.a,null)},{name:"SYSTEM",url:"/dashboard/settings/system",img:s.a.createElement(oa.a,null)}],ca=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).goToPage=function(t){e.props.history.push(t)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user.user;console.log(e);var t="";t=e.is_manager?ia:la,this.setState({categories:t})}},{key:"render",value:function(){var e=this,t=this.props.global.system_text,n=this.state.categories;return s.a.createElement("div",{className:"settings__select"},s.a.createElement("ul",{className:"settings__select__list flex__start"},n&&n.length>0?n.map((function(n){return s.a.createElement("li",{className:"settings__select__list__element flex__column",onClick:function(){return e.goToPage(n.url)}},n.img,s.a.createElement("h4",null,t[n.name]))})):""))}}]),t}(r.Component);var ua=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),a)(ca)),pa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).getProfile=Object(q.a)(J.a.mark((function t(){var n,a,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user.user,a="",a=n.is_manager?"users/get-profile":"employee/get-profile",t.next=5,ht(a);case 5:(r=t.sent).ok&&e.setState({profile:r.result});case 7:case"end":return t.stop()}}),t)}))),e.saveProfile=function(){var t=Object(q.a)(J.a.mark((function t(n,a){var r,s,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.user.user,s="",s=r.is_manager?"users/update":"employee/update",t.next=5,vt(s,n);case 5:(o=t.sent).ok&&(e.props.updateUserReducer("user",o.result),e.setState({profile:n})),a&&e.resetProfilePassword(n);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.resetProfilePassword=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r,s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.user.user,r="",s={password:n.password},a.is_manager?r="users/reset-password":(s._id=n._id,r="employee/reset-password"),t.next=6,vt(r,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleHandleProfile=function(t){e.setState({edit_profile:t})},e.state={edit_profile:!1},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getProfile();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.profile,n=e.edit_profile,a=this.props.user.user,r=this.props.global.system_text;return t?s.a.createElement("div",{className:"settings__profile"},s.a.createElement("header",null,s.a.createElement(le.b,{className:"back__button flex__start",to:a.is_manager?ne:"/employee-dashboard/settings"},s.a.createElement(rn.a,null),r.SETTINGS)),s.a.createElement(Mn,{employee:t,toggleHandleEmployee:this.toggleHandleProfile,hide_status:!0}),n?s.a.createElement(lt,{profile_to_edit:t,save:this.saveProfile,resetPassword:this.resetProfilePassword,toggleHandleProfile:this.toggleHandleProfile,edit_text:"Edit profile",status_disabled:!0}):null):null}}]),t}(r.Component);var ma=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),a)(pa)),da=[{text:"CREATE_ASSIGNMENTS",code:"EM001"},{text:"EDIT_ASSIGNMENTS",code:"EM002"},{text:"DELETE_ASSIGNMENTS",code:"EM003"},{text:"EDIT_PROFILE",code:"EM004"}],_a=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).update=function(){var t=Object(q.a)(J.a.mark((function t(n){var a,r,s,o,l,i;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.user,r=a.permissions,s=a.user,o=Object(ie.a)(r),l=(l=Object(ie.a)(r)).includes(n)?l.filter((function(e){return e!==n})):[].concat(Object(ie.a)(l),[n]),i={user:s._id,permissions:l},"account-settings/update",e.props.updateUserReducer("permissions",l),t.next=9,vt("account-settings/update",i);case 9:t.sent.ok||e.props.updateUserReducer("permissions",o);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={user_permissions:[]},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user,n=t.permissions,a=t.user,r=this.props.global.system_text;return s.a.createElement("div",{className:"settings__permissions"},s.a.createElement("header",null,s.a.createElement(le.b,{className:"back__button flex__start",to:a.is_manager?ne:"/employee-dashboard/settings"},s.a.createElement(rn.a,null),r.SETTINGS)),s.a.createElement("h2",null,r.EMPLOYEE_PERMISSIONS),s.a.createElement("ul",{className:"settings__permissions__list"},da.map((function(t,a){return s.a.createElement("li",null,s.a.createElement(Ve,{key:a,active_text:r[t.text],inactive_text:r[t.text],updateEmployee:e.update,value:n.includes(t.code),property_name:t.code}))}))))}}]),t}(r.Component);var fa=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),a)(_a)),Ea=function(e){function t(e){var n;return Object(B.a)(this,t),(n=Object(K.a)(this,Object(X.a)(t).call(this,e))).setWrapperRef=function(e){n.wrapperRef=e},n.handleClickOutside=function(e){n.wrapperRef&&!n.wrapperRef.contains(e.target)&&n.setState({active:!1})},n.select=function(e){var t=n.props,a=t.property_name;t.with_property?n.props.handleSelect(a,e):n.props.handleSelect(e),n.setState({active:!1})},n.state={},n}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.state.active,n=this.props,a=n.options,r=n.value;return s.a.createElement("div",{id:t?"selectbox--active":"",ref:this.setWrapperRef,className:"selectbox"},s.a.createElement("header",{className:"flex__start",onClick:function(){return e.setState({active:!t})}},r?s.a.createElement(s.a.Fragment,null,r.img?s.a.createElement("img",{src:r.img}):"",r.name):""),s.a.createElement("ul",{className:"selectbox__list"},a&&a.length>0?a.map((function(t,n){return s.a.createElement("li",{className:"flex__start",onClick:function(){return e.select(t)},key:n},t.img?s.a.createElement("img",{src:t.img}):"",t.name)})):""))}}]),t}(r.Component),ga=n(340),ha=n.n(ga),va=n(341),ba=n.n(va),ya=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),20),setTimeout((function(){e.setState({loaded:!1})}),3e3),setTimeout((function(){e.props.close()}),3300)}},{key:"render",value:function(){var e=this.props.text,t=this.state.loaded;return s.a.createElement("div",{style:{opacity:t?1:0},className:"settings__system__loading"},s.a.createElement("section",{className:"overlay"}),s.a.createElement("section",{className:"settings__system__loading__content flex__column"},s.a.createElement("h3",null,e),s.a.createElement(De,{active:!0})))}}]),t}(r.Component),Oa=[{name:"English",value:"english",img:ba.a},{name:"Hebrew",value:"hebrew",img:ha.a}],Sa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).changeLanguage=function(){var t=Object(q.a)(J.a.mark((function t(n){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.user.user,"account-settings/update",e.setState({loading:!0}),setTimeout(Object(q.a)(J.a.mark((function t(){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={user:a._id,language:n.value},t.prev=1,t.next=4,vt("account-settings/update",r).then((function(t){e.props.setSystemLanguage(t.result.language);var n=Oa.filter((function(e){return e.value===t.result.language}))[0];e.setState({selected:n})}));case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,null,[[1,6]])}))),500);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.global.language,t=Oa.filter((function(t){return t.value===e}))[0];console.log(t,e),this.setState({selected:t})}},{key:"render",value:function(){var e=this,t=this.props.global.system_text,n=this.state,a=n.selected,r=n.loading,o=this.props.user.user;return s.a.createElement("div",{className:"settings__system"},s.a.createElement("header",null,s.a.createElement(le.b,{className:"back__button flex__start",to:o.is_manager?ne:"/employee-dashboard/settings"},s.a.createElement(rn.a,null),t.SETTINGS)),r?s.a.createElement(ya,{text:t.LANGUAGE_LOADING,close:function(){return e.setState({loading:!1})}}):"",s.a.createElement("section",{className:"settings__system__section"},s.a.createElement("h2",null,t.LANGUAGE_SELECT),s.a.createElement(Ea,{value:a,options:Oa,handleSelect:this.changeLanguage})))}}]),t}(r.Component);var ja=Object(i.c)((function(e){return{user:e.user,global:e.global}}),a)(Sa),xa=[{component:s.a.createElement(ua,null),route:ne},{component:s.a.createElement(ma,null),route:"/dashboard/settings/profile"},{component:s.a.createElement(fa,null),route:"/dashboard/settings/permissions"},{component:s.a.createElement(ja,null),route:"/dashboard/settings/system"}],Na=[{component:s.a.createElement(ua,null),route:"/employee-dashboard/settings"},{component:s.a.createElement(ma,null),route:"/employee-dashboard/settings/profile"}],wa=function(e){function t(){return Object(B.a)(this,t),Object(K.a)(this,Object(X.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){return console.log("invalid"),s.a.createElement("div",null)}}]),t}(r.Component),Aa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,n,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user.user,console.log(t),n="account-settings?id=".concat(t._id),e.next=5,ht(n);case 5:(a=e.sent).ok&&(this.props.updateUserReducer("permissions",a.result.permissions),this.props.setSystemLanguage(a.result.language));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user.user,t=this.props.global.language;return e&&e.is_manager&&t?s.a.createElement("div",{className:"dashboard"},s.a.createElement(le.a,null,s.a.createElement(Mt,{navigations:ta}),s.a.createElement(Z.c,null,s.a.createElement(Z.a,{exact:!0,path:$,render:function(){return s.a.createElement(kt,null)}}),s.a.createElement(Z.a,{exact:!0,path:"/dashboard/overview",render:function(){return s.a.createElement(qn,null)}}),s.a.createElement(Z.a,{path:ee,render:function(){return s.a.createElement(Gn,null)}}),s.a.createElement(Z.a,{path:te,render:function(){return s.a.createElement(on,null)}}),s.a.createElement(Z.a,{exact:!0,path:"/dashboard/assignments",render:function(){return s.a.createElement(Hn,null)}}),s.a.createElement(Z.a,{path:ne,render:function(){return s.a.createElement(Qn,{settings_routes:xa})}}),s.a.createElement(Z.a,{path:"*",exact:!0,component:wa})))):""}}]),t}(r.Component);var ka=Object(Z.f)(Object(i.c)((function(e){return{user:e.user,global:e.global}}),a)(Aa)),Ta=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,n,a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user.user,n="account-settings?id=".concat(t.user),e.next=4,ht(n);case 4:(a=e.sent).ok&&(this.props.updateUserReducer("permissions",a.result.permissions),r=na,Wt(t,a.result.permissions,"EM004")||(r=r.filter((function(e){return"settings"!==e.value}))),this.setState({navigations:r})),this.setState({page_loaded:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user.user,t=this.state,n=t.navigations,a=t.page_loaded;return e&&n&&a?s.a.createElement("div",{className:"dashboard"},s.a.createElement(le.a,null,s.a.createElement(Mt,{navigations:n}),s.a.createElement(Z.c,null,s.a.createElement(Z.a,{path:oe,render:function(){return s.a.createElement(Gn,null)}}),s.a.createElement(Z.a,{path:"/employee-dashboard/settings",render:function(){return s.a.createElement(Qn,{settings_routes:Na})}})))):""}}]),t}(r.Component);var Ca=Object(Z.f)(Object(i.c)((function(e){return{user:e.user}}),a)(Ta)),Pa=function(e){var t=e.error;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:t?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.close()}},"Close"))))};var Da=Object(i.c)((function(e){return{assignments:e.assignments,global:e.global}}),a)((function(e){var t=e.msg,n=e.global.system_text;return s.a.createElement("div",{style:{opacity:t?1:0,pointerEvents:t?"all":"none"},className:"popup__with__question"},s.a.createElement("section",{onClick:function(){return e.close()},className:"overlay"}),s.a.createElement("div",{className:"popup__with__question__content"},s.a.createElement("h2",null,t),s.a.createElement("section",{className:"popup__with__question__actions flex__center"},s.a.createElement("button",{style:{color:"white",background:"#0091ff"},onClick:function(){return e.close()}},n.CLOSE))))})),Ia=function(){var e=Object(q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/login-by-jwt",e.next=3,ht("auth/login-by-jwt");case 3:if(!(t=e.sent).ok){e.next=8;break}return e.abrupt("return",t.result);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ra=[{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0}],La=function(e){var t=e.text,n=e.active;return s.a.createElement("div",{className:"submit__btn"},n?s.a.createElement(De,{active:!0}):s.a.createElement("button",null,t))};function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Fa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateForm=function(t,n){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state.form_data);a[t]=n,e.setState({form_data:a})},e.submitForm=function(t){t.preventDefault(),e.setState({validate:!0}),setTimeout((function(){0===document.querySelectorAll(".text__input__error").length&&e.signin(),e.setState({validate:!1})}),50)},e.signin=Object(q.a)(J.a.mark((function t(){var n,a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.form_data,e.setState({loading:!0}),"auth/login",t.next=5,vt("auth/login",n);case 5:if(!(a=t.sent).ok){t.next=18;break}if(e.props.updateUserReducer("user",a.result),ft(mt,a.result.token),!a.result.is_manager){t.next=11;break}return t.abrupt("return",e.props.history.push($));case 11:if(a.result.active){t.next=17;break}return gt(mt),e.setState({loading:!1}),t.abrupt("return",e.props.updateGlobalReducer("error","Employee is inactive"));case 17:return t.abrupt("return",e.props.history.push(re.replace(":id",a.result._id)));case 18:!a.ok&&a.result&&e.props.updateGlobalReducer("error",a.result),e.setState({loading:!1});case 20:case"end":return t.stop()}}),t)}))),e.state={form_data:{}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.form_data,a=t.validate,r=t.loading;return s.a.createElement("div",{className:"login flex__center"},s.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)},className:"login__form signin__form flex__column"},s.a.createElement("h2",null,"Login"),s.a.createElement("section",{className:"login__form__inputs"},Ra.map((function(t,r){return s.a.createElement(Ue,{key:r,handleUpdate:e.updateForm,input:t,validate:a,value:n[t.property_name]})}))),s.a.createElement(La,{text:"Submit",active:r})))}}]),t}(r.Component);var Ga=Object(Z.f)(Object(i.c)((function(e){return{user:e.user}}),a)(Fa)),Ua=[{label:"NAME",property_name:"name",type:"text",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0},{label:"EMAIL",property_name:"email",type:"email",empty_text:"REQUIRED_FIELD",validation_text:"INVALID_EMAIL",required:!0},{label:"PASSWORD",property_name:"password",type:"password",empty_text:"REQUIRED_FIELD",validation_text:"",required:!0}],Ya=function(e){var t=e.active;return s.a.createElement("div",{id:t?"login__signup__success--active":"",className:"login__signup__success flex__column"},s.a.createElement("h2",null,"Congradulation!"),s.a.createElement("h3",null,"Youre account created successfully!"),s.a.createElement("p",null,"Redirecting you to the application..."),s.a.createElement(De,null))};function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Wa=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).updateForm=function(t,n){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state.form_data);a[t]=n,e.setState({form_data:a})},e.submitForm=function(t){t.preventDefault(),e.setState({validate:!0}),setTimeout((function(){0===document.querySelectorAll(".text__input__error").length&&e.signup(),e.setState({validate:!1})}),50)},e.signup=Object(q.a)(J.a.mark((function t(){var n,a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.form_data,"users/create",e.setState({loading:!0}),t.next=5,vt("users/create",n);case 5:(a=t.sent).ok&&(e.props.updateUserReducer("user",a.result),ft(mt,a.result.token),e.setState({signup_success:!0}),setTimeout((function(){e.props.history.push($)}),3e3)),!a.ok&&a.result&&e.props.updateGlobalReducer("error",a.result),e.setState({loading:!1});case 9:case"end":return t.stop()}}),t)}))),e.state={form_data:{}},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.form_data,a=t.validate,r=t.error_popup,o=t.loading,l=t.signup_success;return s.a.createElement("div",{className:"login flex__center"},s.a.createElement(Ya,{active:l}),s.a.createElement("form",{style:{filter:l?"blur(2px)":""},onSubmit:function(t){return e.submitForm(t)},className:"login__form signup__form flex__column"},s.a.createElement("h2",null,"Signup"),r?s.a.createElement("p",null,r):"",s.a.createElement("section",{className:"login__form__inputs"},Ua.map((function(t,r){return s.a.createElement(Ue,{key:r,handleUpdate:e.updateForm,input:t,validate:a,value:n[t.property_name]})}))),s.a.createElement(La,{text:"Submit",active:o})))}}]),t}(r.Component);var Va=Object(Z.f)(Object(i.c)((function(e){return{user:e.user}}),a)(Wa)),Ja=function(e){function t(){var e;return Object(B.a)(this,t),(e=Object(K.a)(this,Object(X.a)(t).call(this))).handleNoAccessRoutes=function(t){-1===t.indexOf("signin")&&-1===t.indexOf("signup")&&e.props.history.push(ae)},e.handleUserRouting=function(t,n){if(!n.split("/")[1])return t.is_manager?e.props.history.push($):e.props.history.push(re)},e.close=function(){e.props.updateGlobalReducer("error",!1),e.props.updateGlobalReducer("success",!1)},e.state={},e}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(J.a.mark((function e(){var t,n,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et(mt);case 2:if(t=e.sent,n=window.location.pathname,!t){e.next=11;break}return e.next=7,Ia();case 7:(a=e.sent)&&(this.props.updateUserReducer("user",a),this.handleUserRouting(a,n)),e.next=12;break;case 11:this.handleNoAccessRoutes(n);case 12:this.setState({page_loaded:!0});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.global,t=e.error,n=e.success,a=this.props.user.user;return this.state.page_loaded?s.a.createElement("div",null,s.a.createElement(Da,{active:!0,msg:n,close:this.close}),s.a.createElement(Pa,{active:!0,error:t,close:this.close}),s.a.createElement(Z.c,null,a&&a._id?s.a.createElement(Z.a,{path:"/dashboard",render:function(){return s.a.createElement(ka,null)}}):null,s.a.createElement(Z.a,{path:ae,render:function(){return s.a.createElement(Ga,null)}}),s.a.createElement(Z.a,{path:"/signup",render:function(){return s.a.createElement(Va,null)}}),a&&a._id?s.a.createElement(Z.a,{path:re,render:function(){return s.a.createElement(Ca,null)}}):null,s.a.createElement(Z.a,{path:"*",exact:!0,component:wa}))):""}}]),t}(r.Component);var qa,Ba=Object(Z.f)(Object(i.c)((function(e){return{router:e.router,user:e.user,global:e.global}}),a)(Ja)),Qa=_()(),Ka=Object(c.e)((qa=Qa,Object(c.c)({router:Object(p.b)(qa),employees:v,navbar:S,assignments:w,user:P,global:W})),{},Object(c.d)(Object(c.a)(Object(u.a)(Qa),m.a)));l.a.render(s.a.createElement(i.a,{store:Ka},s.a.createElement(p.a,{history:Qa},s.a.createElement(Ba,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[345,1,2]]]);
//# sourceMappingURL=main.4f769adc.chunk.js.map